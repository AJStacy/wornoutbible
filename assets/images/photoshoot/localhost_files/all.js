(function(){"use strict";var t,e="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function r(){r=function(){},e.Symbol||(e.Symbol=i)}var o,i=(o=0,function(t){return"jscomp_symbol_"+(t||"")+o++});function a(){r();var t=e.Symbol.iterator;t||(t=e.Symbol.iterator=e.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&n(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return s(this)}}),a=function(){}}function s(t){var n,r=0;return n=function(){return r<t.length?{done:!1,value:t[r++]}:{done:!0}},a(),(n={next:n})[e.Symbol.iterator]=function(){return this},n}function u(t){a();var e=t[Symbol.iterator];return e?e.call(t):s(t)}!function(){if((e=document.createEvent("Event")).initEvent("foo",!0,!0),e.preventDefault(),!e.defaultPrevented){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var e,n=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||n&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||n&&"function"!=typeof window.Event){var r=window.Event;if(window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,!!e.bubbles,!!e.cancelable),n},r)for(var o in r)window.Event[o]=r[o];window.Event.prototype=r.prototype}if(!window.MouseEvent||n&&"function"!=typeof window.MouseEvent){if(n=window.MouseEvent,window.MouseEvent=function(t,e){e=e||{};var n=document.createEvent("MouseEvent");return n.initMouseEvent(t,!!e.bubbles,!!e.cancelable,e.view||window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n},n)for(o in n)window.MouseEvent[o]=n[o];window.MouseEvent.prototype=n.prototype}Array.from||(Array.from=function(t){return[].slice.call(t)}),Object.assign||(Object.assign=function(t,e){for(var n,r=[].slice.call(arguments,1),o=0;o<r.length;o++)if(n=r[o])for(var i=t,a=n,s=Object.getOwnPropertyNames(a),u=0;u<s.length;u++)i[n=s[u]]=a[n];return t})}(window.WebComponents),function(){function t(){}function e(t,e){if(!t.childNodes.length)return[];switch(t.nodeType){case Node.DOCUMENT_NODE:return v.call(t,e);case Node.DOCUMENT_FRAGMENT_NODE:return m.call(t,e);default:return p.call(t,e)}}var n="undefined"==typeof HTMLTemplateElement,r=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),o=!1;/Trident/.test(navigator.userAgent)&&function(){function t(t,e){if(t instanceof DocumentFragment)for(var r;r=t.firstChild;)n.call(this,r,e);else n.call(this,t,e);return t}o=!0;var e=Node.prototype.cloneNode;Node.prototype.cloneNode=function(t){return t=e.call(this,t),this instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var n=Node.prototype.insertBefore;Node.prototype.insertBefore=t;var r=Node.prototype.appendChild;Node.prototype.appendChild=function(e){return e instanceof DocumentFragment?t.call(this,e,null):r.call(this,e),e};var i=Node.prototype.removeChild,a=Node.prototype.replaceChild;Node.prototype.replaceChild=function(e,n){return e instanceof DocumentFragment?(t.call(this,e,n),i.call(this,n)):a.call(this,e,n),n},Document.prototype.createDocumentFragment=function(){var t=this.createElement("df");return t.__proto__=DocumentFragment.prototype,t};var s=Document.prototype.importNode;Document.prototype.importNode=function(t,e){return e=s.call(this,t,e||!1),t instanceof DocumentFragment&&(e.__proto__=DocumentFragment.prototype),e}}();var i=Node.prototype.cloneNode,a=Document.prototype.createElement,s=Document.prototype.importNode,u=Node.prototype.removeChild,c=Node.prototype.appendChild,l=Node.prototype.replaceChild,f=DOMParser.prototype.parseFromString,d=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}},h=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},p=Element.prototype.querySelectorAll,v=Document.prototype.querySelectorAll,m=DocumentFragment.prototype.querySelectorAll,g=function(){if(!n){var t=document.createElement("template"),e=document.createElement("template");return e.content.appendChild(document.createElement("div")),t.content.appendChild(e),0===(t=t.cloneNode(!0)).content.childNodes.length||0===t.content.firstChild.content.childNodes.length||r}}();if(n){var y=document.implementation.createHTMLDocument("template"),_=!0,b=document.createElement("style");b.textContent="template{display:none;}";var w=document.head;w.insertBefore(b,w.firstElementChild),t.prototype=Object.create(HTMLElement.prototype);var S=!document.createElement("div").hasOwnProperty("innerHTML");t.G=function(e){if(!e.content&&e.namespaceURI===document.documentElement.namespaceURI){e.content=y.createDocumentFragment();for(var n;n=e.firstChild;)c.call(e.content,n);if(S)e.__proto__=t.prototype;else if(e.cloneNode=function(e){return t.a(this,e)},_)try{O(e),D(e)}catch(t){_=!1}t.C(e.content)}};var E={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},O=function(e){Object.defineProperty(e,"innerHTML",{get:function(){return T(this)},set:function(e){var n=E[(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(e)||["",""])[1].toLowerCase()];if(n)for(var r=0;r<n.length;r++)e="<"+n[r]+">"+e+"</"+n[r]+">";for(y.body.innerHTML=e,t.C(y);this.content.firstChild;)u.call(this.content,this.content.firstChild);if(e=y.body,n)for(r=0;r<n.length;r++)e=e.lastChild;for(;e.firstChild;)c.call(this.content,e.firstChild)},configurable:!0})},D=function(t){Object.defineProperty(t,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(t){if(!this.parentNode)throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");for(y.body.innerHTML=t,t=this.ownerDocument.createDocumentFragment();y.body.firstChild;)c.call(t,y.body.firstChild);l.call(this.parentNode,t,this)},configurable:!0})};O(t.prototype),D(t.prototype),t.C=function(n){for(var r,o=0,i=(n=e(n,"template")).length;o<i&&(r=n[o]);o++)t.G(r)},document.addEventListener("DOMContentLoaded",function(){t.C(document)}),Document.prototype.createElement=function(){var e=a.apply(this,arguments);return"template"===e.localName&&t.G(e),e},DOMParser.prototype.parseFromString=function(){var e=f.apply(this,arguments);return t.C(e),e},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return T(this)},set:function(e){d.set.call(this,e),t.C(this)},configurable:!0,enumerable:!0});var M=/[&\u00A0"]/g,C=/[&\u00A0<>]/g,x=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"Â ":return"&nbsp;"}},P=(b=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e})("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),N=b("style script xmp iframe noembed noframes plaintext noscript".split(" ")),T=function(t,e){"template"===t.localName&&(t=t.content);for(var n,r="",o=e?e(t):h.get.call(t),i=0,a=o.length;i<a&&(n=o[i]);i++){t:{var s=n,u=t,c=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var l=s.localName,f="<"+l,d=s.attributes,p=0;u=d[p];p++)f+=" "+u.name+'="'+u.value.replace(M,x)+'"';f+=">",s=P[l]?f:f+T(s,c)+"</"+l+">";break t;case Node.TEXT_NODE:s=s.data,s=u&&N[u.localName]?s:s.replace(C,x);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}r+=s}return r}}if(n||g){t.a=function(t,e){var n=i.call(t,!1);return this.G&&this.G(n),e&&(c.call(n.content,i.call(t.content,!0)),k(n.content,t.content)),n};var k=function(n,r){if(r.querySelectorAll&&0!==(r=e(r,"template")).length)for(var o,i,a=0,s=(n=e(n,"template")).length;a<s;a++)i=r[a],o=n[a],t&&t.G&&t.G(i),l.call(o.parentNode,A.call(i,!0),o)},A=Node.prototype.cloneNode=function(e){if(!o&&r&&this instanceof DocumentFragment){if(!e)return this.ownerDocument.createDocumentFragment();var n=j.call(this.ownerDocument,this,!0)}else n=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?t.a(this,e):i.call(this,e);return e&&k(n,this),n},j=Document.prototype.importNode=function(n,r){if(r=r||!1,"template"===n.localName)return t.a(n,r);var o=s.call(this,n,r);if(r){k(o,n),n=e(o,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var i,u=0;u<n.length;u++){i=n[u],(r=a.call(document,"script")).textContent=i.textContent;for(var c,f=i.attributes,d=0;d<f.length;d++)c=f[d],r.setAttribute(c.name,c.value);l.call(i.parentNode,r,i)}}return o}}n&&(window.HTMLTemplateElement=t)}();var c=setTimeout;function l(){}function f(t){if(!(this instanceof f))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this.u=0,this.ma=!1,this.h=void 0,this.I=[],m(t,this)}function d(t,e){for(;3===t.u;)t=t.h;0===t.u?t.I.push(e):(t.ma=!0,g(function(){var n=1===t.u?e.Na:e.Oa;if(null===n)(1===t.u?h:p)(e.ga,t.h);else{try{var r=n(t.h)}catch(t){return void p(e.ga,t)}h(e.ga,r)}}))}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof f)return t.u=3,t.h=e,void v(t);if("function"==typeof n)return void m((r=n,o=e,function(){r.apply(o,arguments)}),t)}t.u=1,t.h=e,v(t)}catch(e){p(t,e)}var r,o}function p(t,e){t.u=2,t.h=e,v(t)}function v(t){2===t.u&&0===t.I.length&&g(function(){t.ma||"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t.h)});for(var e=0,n=t.I.length;e<n;e++)d(t,t.I[e]);t.I=null}function m(t,e){var n=!1;try{t(function(t){n||(n=!0,h(e,t))},function(t){n||(n=!0,p(e,t))})}catch(t){n||(n=!0,p(e,t))}}f.prototype.catch=function(t){return this.then(null,t)},f.prototype.then=function(t,e){var n=new this.constructor(l);return d(this,new function(t,e,n){this.Na="function"==typeof t?t:null,this.Oa="function"==typeof e?e:null,this.ga=n}(t,e,n)),n},f.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})};var g="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){c(t,0)};if(!window.Promise){window.Promise=f,f.prototype.then=f.prototype.then,f.all=function(t){return new f(function(e,n){function r(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(t,e)},n)}o[t]=a,0==--i&&e(o)}catch(t){n(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);for(var i=o.length,a=0;a<o.length;a++)r(a,o[a])})},f.race=function(t){return new f(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},f.resolve=function(t){return t&&"object"==typeof t&&t.constructor===f?t:new f(function(e){e(t)})},f.reject=function(t){return new f(function(e,n){n(t)})};var y=document.createTextNode(""),_=[];new MutationObserver(function(){for(var t=_.length,e=0;e<t;e++)_[e]();_.splice(0,t)}).observe(y,{characterData:!0}),g=function(t){_.push(t),y.textContent=0<y.textContent.length?"":"a"}}!function(t){function e(t,e){if("function"==typeof window.CustomEvent)return new CustomEvent(t,e);var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n}function n(t){if(f)return t.ownerDocument!==document?t.ownerDocument:null;var e=t.__importDoc;if(!e&&t.parentNode){if("function"==typeof(e=t.parentNode).closest)e=e.closest("link[rel=import]");else for(;!a(e)&&(e=e.parentNode););t.__importDoc=e}return e}function r(t){function e(){"loading"!==document.readyState&&document.body&&(document.removeEventListener("readystatechange",e),t())}document.addEventListener("readystatechange",e),e()}function o(t){r(function(){return e=function(){return t&&t()},n=u(document,"link[rel=import]:not([import-dependency])"),void((r=n.length)?c(n,function(t){return i(t,function(){0==--r&&e()})}):e());var e,n,r})}function i(t,e){if(t.__loaded)e&&e();else if("script"===t.localName&&!t.src||"style"===t.localName&&!t.firstChild)t.__loaded=!0,e&&e();else{var n=function(r){t.removeEventListener(r.type,n),t.__loaded=!0,e&&e()};t.addEventListener("load",n),_&&"style"===t.localName||t.addEventListener("error",n)}}function a(t){return t.nodeType===Node.ELEMENT_NODE&&"link"===t.localName&&"import"===t.rel}function s(){var t=this;this.a={},this.b=0,this.c=new MutationObserver(function(e){return t.Ja(e)}),this.c.observe(document.head,{childList:!0,subtree:!0}),this.loadImports(document)}function u(t,e){return t.childNodes.length?t.querySelectorAll(e):d}function c(t,e,n){var r=t?t.length:0,o=n?-1:1;for(n=n?r-1:0;n<r&&0<=n;n+=o)e(t[n],n)}var l=document.createElement("link"),f="import"in l,d=l.querySelectorAll("*"),h=null;!1=="currentScript"in document&&Object.defineProperty(document,"currentScript",{get:function(){return h||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null)},configurable:!0});var p=/(url\()([^)]*)(\))/g,v=/(@import[\s]+(?!url\())([^;]*)(;)/g,m=/(<link[^>]*)(rel=['|"]?stylesheet['|"]?[^>]*>)/g,g={Ea:function(t,e){if(t.href&&t.setAttribute("href",g.X(t.getAttribute("href"),e)),t.src&&t.setAttribute("src",g.X(t.getAttribute("src"),e)),"style"===t.localName){var n=g.qa(t.textContent,e,p);t.textContent=g.qa(n,e,v)}},qa:function(t,e,n){return t.replace(n,function(t,n,r,o){return t=r.replace(/["']/g,""),e&&(t=g.X(t,e)),n+"'"+t+"'"+o})},X:function(t,e){if(void 0===g.aa){g.aa=!1;try{var n=new URL("b","http://a");n.pathname="c%20d",g.aa="http://a/c%20d"===n.href}catch(t){}}return g.aa?new URL(t,e).href:((n=g.xa)||(n=document.implementation.createHTMLDocument("temp"),g.xa=n,n.ja=n.createElement("base"),n.head.appendChild(n.ja),n.ia=n.createElement("a")),n.ja.href=e,n.ia.href=t,n.ia.href||t)}},y={async:!0,load:function(t,e,n){if(t)if(t.match(/^data:/)){var r=(t=t.split(","))[1];r=-1<t[0].indexOf(";base64")?atob(r):decodeURIComponent(r),e(r)}else{var o=new XMLHttpRequest;o.open("GET",t,y.async),o.onload=function(){var t=o.responseURL||o.getResponseHeader("Location");t&&0===t.indexOf("/")&&(t=(location.origin||location.protocol+"//"+location.host)+t);var r=o.response||o.responseText;304===o.status||0===o.status||200<=o.status&&300>o.status?e(r,t):n(r)},o.send()}else n("error: href must be specified")}},_=/Trident/.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent);s.prototype.loadImports=function(t){var e=this;c(t=u(t,"link[rel=import]"),function(t){return e.g(t)})},s.prototype.g=function(t){var e=this,n=t.href;if(void 0!==this.a[n]){var r=this.a[n];r&&r.__loaded&&(t.__import=r,this.f(t))}else this.b++,this.a[n]="pending",y.load(n,function(t,r){t=e.Ka(t,r||n),e.a[n]=t,e.b--,e.loadImports(t),e.l()},function(){e.a[n]=null,e.b--,e.l()})},s.prototype.Ka=function(t,e){if(!t)return document.createDocumentFragment();_&&(t=t.replace(m,function(t,e,n){return-1===t.indexOf("type=")?e+" type=import-disable "+n:t}));var n=document.createElement("template");if(n.innerHTML=t,n.content)(function t(e){c(u(e,"template"),function(e){c(u(e.content,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"],script[type="module"]'),function(t){var e=document.createElement("script");c(t.attributes,function(t){return e.setAttribute(t.name,t.value)}),e.textContent=t.textContent,t.parentNode.replaceChild(e,t)}),t(e.content)})})(t=n.content);else for(t=document.createDocumentFragment();n.firstChild;)t.appendChild(n.firstChild);(n=t.querySelector("base"))&&(e=g.X(n.getAttribute("href"),e),n.removeAttribute("href")),n=u(t,'link[rel=import],link[rel=stylesheet][href][type=import-disable],style:not([type]),link[rel=stylesheet][href]:not([type]),script:not([type]),script[type="application/javascript"],script[type="text/javascript"],script[type="module"]');var r=0;return c(n,function(t){if(i(t),g.Ea(t,e),t.setAttribute("import-dependency",""),"script"===t.localName&&!t.src&&t.textContent){if("module"===t.type)throw Error("Inline module scripts are not supported in HTML Imports.");t.setAttribute("src","data:text/javascript;charset=utf-8,"+encodeURIComponent(t.textContent+"\n//# sourceURL="+e+(r?"-"+r:"")+".js\n")),t.textContent="",r++}}),t},s.prototype.l=function(){var t=this;if(!this.b){this.c.disconnect(),this.flatten(document);var e=!1,n=!1,r=function(){n&&e&&(t.loadImports(document),t.b||(t.c.observe(document.head,{childList:!0,subtree:!0}),t.da()))};this.Ma(function(){n=!0,r()}),this.La(function(){e=!0,r()})}},s.prototype.flatten=function(t){var e=this;c(t=u(t,"link[rel=import]"),function(t){var n=e.a[t.href];(t.__import=n)&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(e.a[t.href]=t,t.readyState="loading",t.__import=t,e.flatten(n),t.appendChild(n))})},s.prototype.La=function(t){var e=u(document,"script[import-dependency]"),n=e.length;!function r(o){if(o<n){var a=e[o],s=document.createElement("script");a.removeAttribute("import-dependency"),c(a.attributes,function(t){return s.setAttribute(t.name,t.value)}),h=s,a.parentNode.replaceChild(s,a),i(s,function(){h=null,r(o+1)})}else t()}(0)},s.prototype.Ma=function(t){var e=u(document,"style[import-dependency],link[rel=stylesheet][import-dependency]"),r=e.length;if(r){var o=_&&!!document.querySelector("link[rel=stylesheet][href][type=import-disable]");c(e,function(e){if(i(e,function(){e.removeAttribute("import-dependency"),0==--r&&t()}),o&&e.parentNode!==document.head){var a=document.createElement(e.localName);for(a.__appliedElement=e,a.setAttribute("type","import-placeholder"),e.parentNode.insertBefore(a,e.nextSibling),a=n(e);a&&n(a);)a=n(a);a.parentNode!==document.head&&(a=null),document.head.insertBefore(e,a),e.removeAttribute("type")}})}else t()},s.prototype.da=function(){var t=this;c(u(document,"link[rel=import]"),function(e){return t.f(e)},!0)},s.prototype.f=function(t){t.__loaded||(t.__loaded=!0,t.import&&(t.import.readyState="complete"),t.dispatchEvent(e(t.import?"load":"error",{bubbles:!1,cancelable:!1,detail:void 0})))},s.prototype.Ja=function(t){var e=this;c(t,function(t){return c(t.addedNodes,function(t){t&&t.nodeType===Node.ELEMENT_NODE&&(a(t)?e.g(t):e.loadImports(t))})})};var b=null;if(f)c(l=u(document,"link[rel=import]"),function(t){t.import&&"loading"===t.import.readyState||(t.__loaded=!0)}),l=function(t){a(t=t.target)&&(t.__loaded=!0)},document.addEventListener("load",l,!0),document.addEventListener("error",l,!0);else{var w=Object.getOwnPropertyDescriptor(Node.prototype,"baseURI");Object.defineProperty((!w||w.configurable?Node:Element).prototype,"baseURI",{get:function(){var t=a(this)?this:n(this);return t?t.href:w&&w.get?w.get.call(this):(document.querySelector("base")||window.location).href},configurable:!0,enumerable:!0}),Object.defineProperty(HTMLLinkElement.prototype,"import",{get:function(){return this.__import||null},configurable:!0,enumerable:!0}),r(function(){b=new s})}o(function(){return document.dispatchEvent(e("HTMLImportsLoaded",{cancelable:!0,bubbles:!0,detail:void 0}))}),t.useNative=f,t.whenReady=o,t.importForElement=n,t.loadImports=function(t){b&&b.loadImports(t)}}(window.HTMLImports=window.HTMLImports||{}),window.WebComponents=window.WebComponents||{flags:{}};var b=document.querySelector('script[src*="webcomponents-lite.js"]'),w=/wc-(.+)/,S={};if(!S.noOpts){if(location.search.slice(1).split("&").forEach(function(t){var e;(t=t.split("="))[0]&&(e=t[0].match(w))&&(S[e[1]]=t[1]||!0)}),b)for(var E=0,O=void 0;O=b.attributes[E];E++)"src"!==O.name&&(S[O.name]=O.value||!0);if(S.log&&S.log.split){var D=S.log.split(",");S.log={},D.forEach(function(t){S.log[t]=!0})}else S.log={}}window.WebComponents.flags=S;var M=S.shadydom;M&&(window.ShadyDOM=window.ShadyDOM||{},window.ShadyDOM.force=M);var C=S.register||S.ce;function x(){this.pa=this.root=null,this.T=!1,this.D=this.P=this.ca=this.assignedSlot=this.assignedNodes=this.H=null,this.childNodes=this.nextSibling=this.previousSibling=this.lastChild=this.firstChild=this.parentNode=this.K=void 0,this.ka=this.la=!1,this.O={}}function P(t){return t.__shady||(t.__shady=new x),t.__shady}function N(t){return t&&t.__shady}C&&window.customElements&&(window.customElements.forcePolyfill=C),x.prototype.toJSON=function(){return{}};var T=window.ShadyDOM||{};T.Ga=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var k=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");function A(t){return(t=N(t))&&void 0!==t.firstChild}function j(t){return"ShadyRoot"===t.za}function L(t){return(t=(t=N(t))&&t.root)&&ke(t)}T.m=!!(k&&k.configurable&&k.get),T.ea=T.force||!T.Ga,T.J=T.noPatch||!1,T.oa=T.preferPerformance;var R=Element.prototype,I=R.matches||R.matchesSelector||R.mozMatchesSelector||R.msMatchesSelector||R.oMatchesSelector||R.webkitMatchesSelector,F=document.createTextNode(""),B=0,$=[];function z(t){$.push(t),F.textContent=B++}new MutationObserver(function(){for(;$.length;)try{$.shift()()}catch(t){throw F.textContent=B++,t}}).observe(F,{characterData:!0});var q=!!document.contains;function U(t,e){for(;e;){if(e==t)return!0;e=e.__shady_parentNode}return!1}function H(t){for(var e=t.length-1;0<=e;e--){var n=t[e],r=n.getAttribute("id")||n.getAttribute("name");r&&"length"!==r&&isNaN(r)&&(t[r]=n)}return t.item=function(e){return t[e]},t.namedItem=function(e){if("length"!==e&&isNaN(e)&&t[e])return t[e];for(var n=u(t),r=n.next();!r.done;r=n.next())if(((r=r.value).getAttribute("id")||r.getAttribute("name"))==e)return r;return null},t}function Y(t,e,n,r){for(var o in n=void 0===n?"":n,e){var i=e[o];if(!(r&&0<=r.indexOf(o))){i.configurable=!0;var a=n+o;if(i.value)t[a]=i.value;else try{Object.defineProperty(t,a,i)}catch(t){}}}}function W(t){var e={};return Object.getOwnPropertyNames(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e}var G,V=[];function J(t){G||(G=!0,z(K)),V.push(t)}function K(){G=!1;for(var t=!!V.length;V.length;)V.shift()();return t}function Z(){this.a=!1,this.addedNodes=[],this.removedNodes=[],this.S=new Set}K.list=V,Z.prototype.flush=function(){if(this.a){this.a=!1;var t=this.takeRecords();t.length&&this.S.forEach(function(e){e(t)})}},Z.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var t=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],t}return[]};var Q=/[&\u00A0"]/g,X=/[&\u00A0<>]/g;function tt(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"Â ":return"&nbsp;"}}function et(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var nt=et("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),rt=et("style script xmp iframe noembed noframes plaintext noscript".split(" "));function ot(t,e){"template"===t.localName&&(t=t.content);for(var n="",r=e?e(t):t.childNodes,o=0,i=r.length,a=void 0;o<i&&(a=r[o]);o++){t:{var s=a,u=t,c=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var l,f="<"+(u=s.localName),d=s.attributes,h=0;l=d[h];h++)f+=" "+l.name+'="'+l.value.replace(Q,tt)+'"';f+=">",s=nt[u]?f:f+ot(s,c)+"</"+u+">";break t;case Node.TEXT_NODE:s=s.data,s=u&&rt[u.localName]?s:s.replace(X,tt);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}n+=s}return n}var it=T.m,at={querySelector:function(t){return this.__shady_native_querySelector(t)},querySelectorAll:function(t){return this.__shady_native_querySelectorAll(t)}},st={};function ut(t){st[t]=function(e){return e["__shady_native_"+t]}}function ct(t,e){for(var n in Y(t,e,"__shady_native_"),e)ut(n)}function lt(t,e){e=void 0===e?[]:e;for(var n=0;n<e.length;n++){var r=e[n],o=Object.getOwnPropertyDescriptor(t,r);o&&(Object.defineProperty(t,"__shady_native_"+r,o),o.value?at[r]||(at[r]=o.value):ut(r))}}var ft=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),dt=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),ht=document.implementation.createHTMLDocument("inert");function pt(t){for(var e;e=t.__shady_native_firstChild;)t.__shady_native_removeChild(e)}var vt=["firstElementChild","lastElementChild","children","childElementCount"],mt=["querySelector","querySelectorAll"];var gt,yt=W({get childNodes(){return this.__shady_childNodes},get firstChild(){return this.__shady_firstChild},get lastChild(){return this.__shady_lastChild},get textContent(){return this.__shady_textContent},set textContent(t){this.__shady_textContent=t},get childElementCount(){return this.__shady_childElementCount},get children(){return this.__shady_children},get firstElementChild(){return this.__shady_firstElementChild},get lastElementChild(){return this.__shady_lastElementChild},get innerHTML(){return this.__shady_innerHTML},set innerHTML(t){return this.__shady_innerHTML=t},get shadowRoot(){return this.__shady_shadowRoot}}),_t=W({get parentElement(){return this.__shady_parentElement},get parentNode(){return this.__shady_parentNode},get nextSibling(){return this.__shady_nextSibling},get previousSibling(){return this.__shady_previousSibling},get nextElementSibling(){return this.__shady_nextElementSibling},get previousElementSibling(){return this.__shady_previousElementSibling},get className(){return this.__shady_className},set className(t){return this.__shady_className=t}});for(gt in yt)yt[gt].enumerable=!1;for(var bt in _t)_t[bt].enumerable=!1;var wt,St=T.m||T.J,Et=St?function(){}:function(t){var e=P(t);e.la||(e.la=!0,Y(t,_t))},Ot=St?function(){}:function(t){var e=P(t);e.ka||(e.ka=!0,Y(t,yt))},Dt="__eventWrappers"+Date.now(),Mt=(wt=Object.getOwnPropertyDescriptor(Event.prototype,"composed"))?function(t){return wt.get.call(t)}:null,Ct={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},xt={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function Pt(t){return t instanceof Node?t.__shady_getRootNode():t}function Nt(t,e){var n=[],r=t;for(t=Pt(t);r;)n.push(r),r=r.__shady_assignedSlot?r.__shady_assignedSlot:r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.host&&(e||r!==t)?r.host:r.__shady_parentNode;return n[n.length-1]===document&&n.push(window),n}function Tt(t,e){if(!j)return t;t=Nt(t,!0);for(var n,r,o=0,i=void 0,a=void 0;o<e.length;o++)if((r=Pt(n=e[o]))!==i&&(a=t.indexOf(r),i=r),!j(r)||-1<a)return n}function kt(t){function e(e,n){return(e=new t(e,n)).__composed=n&&!!n.composed,e}return e.__proto__=t,e.prototype=t.prototype,e}var At={focus:!0,blur:!0};function jt(t){return t.__target!==t.target||t.__relatedTarget!==t.relatedTarget}function Lt(t,e,n){if(n=e.__handlers&&e.__handlers[t.type]&&e.__handlers[t.type][n])for(var r,o=0;(r=n[o])&&(!jt(t)||t.target!==t.relatedTarget)&&(r.call(e,t),!t.__immediatePropagationStopped);o++);}function Rt(t){var e,n=t.composedPath();Object.defineProperty(t,"currentTarget",{get:function(){return o},configurable:!0});for(var r=n.length-1;0<=r;r--){var o=n[r];if(Lt(t,o,"capture"),t.Z)return}for(Object.defineProperty(t,"eventPhase",{get:function(){return Event.AT_TARGET}}),r=0;r<n.length;r++){var i=N(o=n[r]);if(i=i&&i.root,(0===r||i&&i===e)&&(Lt(t,o,"bubble"),o!==window&&(e=o.__shady_getRootNode()),t.Z))break}}function It(t,e,n,r,o,i){for(var a=0;a<t.length;a++){var s=t[a],u=s.type,c=s.capture,l=s.once,f=s.passive;if(e===s.node&&n===u&&r===c&&o===l&&i===f)return a}return-1}function Ft(t,e,n){if(e){var r=typeof e;if(("function"===r||"object"===r)&&("object"!==r||e.handleEvent&&"function"==typeof e.handleEvent)){if(xt[t])return this.__shady_native_addEventListener(t,e,n);if(n&&"object"==typeof n)var o=!!n.capture,i=!!n.once,a=!!n.passive;else o=!!n,a=i=!1;var s=n&&n.$||this,u=e[Dt];if(u){if(-1<It(u,s,t,o,i,a))return}else e[Dt]=[];u=function(o){if(i&&this.__shady_removeEventListener(t,e,n),o.__target||zt(o),s!==this){var a=Object.getOwnPropertyDescriptor(o,"currentTarget");Object.defineProperty(o,"currentTarget",{get:function(){return s},configurable:!0})}if(o.__previousCurrentTarget=o.currentTarget,(!j(s)||-1!=o.composedPath().indexOf(s))&&(o.composed||-1<o.composedPath().indexOf(s)))if(jt(o)&&o.target===o.relatedTarget)o.eventPhase===Event.BUBBLING_PHASE&&o.stopImmediatePropagation();else if(o.eventPhase===Event.CAPTURING_PHASE||o.bubbles||o.target===s||s instanceof Window){var u="function"===r?e.call(s,o):e.handleEvent&&e.handleEvent(o);return s!==this&&(a?(Object.defineProperty(o,"currentTarget",a),a=null):delete o.currentTarget),u}},e[Dt].push({node:s,type:t,capture:o,once:i,passive:a,Ya:u}),At[t]?(this.__handlers=this.__handlers||{},this.__handlers[t]=this.__handlers[t]||{capture:[],bubble:[]},this.__handlers[t][o?"capture":"bubble"].push(u)):this.__shady_native_addEventListener(t,u,n)}}}function Bt(t,e,n){if(e){if(xt[t])return this.__shady_native_removeEventListener(t,e,n);if(n&&"object"==typeof n)var r=!!n.capture,o=!!n.once,i=!!n.passive;else r=!!n,i=o=!1;var a=n&&n.$||this,s=void 0,u=null;try{u=e[Dt]}catch(t){}u&&(-1<(o=It(u,a,t,r,o,i))&&(s=u.splice(o,1)[0].Ya,u.length||(e[Dt]=void 0))),this.__shady_native_removeEventListener(t,s||e,n),s&&At[t]&&this.__handlers&&this.__handlers[t]&&(-1<(s=(t=this.__handlers[t][r?"capture":"bubble"]).indexOf(s))&&t.splice(s,1))}}var $t=W({get composed(){return void 0===this.__composed&&(Mt?this.__composed="focusin"===this.type||"focusout"===this.type||Mt(this):!1!==this.isTrusted&&(this.__composed=Ct[this.type])),this.__composed||!1},composedPath:function(){return this.__composedPath||(this.__composedPath=Nt(this.__target,this.composed)),this.__composedPath},get target(){return Tt(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=Nt(this.__relatedTarget,!0)),Tt(this.currentTarget||this.__previousCurrentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.Z=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.Z=this.__immediatePropagationStopped=!0}});function zt(t){if(t.__target=t.target,t.__relatedTarget=t.relatedTarget,T.m){var e=Object.getPrototypeOf(t);if(!Object.hasOwnProperty(e,"__shady_patchedProto")){var n=Object.create(e);n.__shady_sourceProto=e,Y(n,$t),e.__shady_patchedProto=n}t.__proto__=e.__shady_patchedProto}else Y(t,$t)}var qt=kt(Event),Ut=kt(CustomEvent),Ht=kt(MouseEvent);var Yt=Object.getOwnPropertyNames(Document.prototype).filter(function(t){return"on"===t.substring(0,2)});function Wt(t,e){return{index:t,L:[],R:e}}function Gt(t,e,n,r){var o,i,a=0,s=0,u=0,c=0,l=Math.min(e-a,r-s);if(0==a&&0==s)t:{for(u=0;u<l;u++)if(t[u]!==n[u])break t;u=l}if(e==t.length&&r==n.length){c=t.length;for(var f=n.length,d=0;d<l-u&&(o=t[--c],i=n[--f],o===i);)d++;c=d}if(s+=u,r-=c,0==(e-=c)-(a+=u)&&0==r-s)return[];if(a==e){for(e=Wt(a,0);s<r;)e.L.push(n[s++]);return[e]}if(s==r)return[Wt(a,e-a)];for(r=r-(u=s)+1,c=e-(l=a)+1,e=Array(r),f=0;f<r;f++)e[f]=Array(c),e[f][0]=f;for(f=0;f<c;f++)e[0][f]=f;for(f=1;f<r;f++)for(d=1;d<c;d++)if(t[l+d-1]===n[u+f-1])e[f][d]=e[f-1][d-1];else{var h=e[f-1][d]+1,p=e[f][d-1]+1;e[f][d]=h<p?h:p}for(l=e.length-1,u=e[0].length-1,r=e[l][u],t=[];0<l||0<u;)0==l?(t.push(2),u--):0==u?(t.push(3),l--):(c=e[l-1][u-1],(h=(f=e[l-1][u])<(d=e[l][u-1])?f<c?f:c:d<c?d:c)==c?(c==r?t.push(0):(t.push(1),r=c),l--,u--):h==f?(t.push(3),l--,r=f):(t.push(2),u--,r=d));for(t.reverse(),e=void 0,l=[],u=0;u<t.length;u++)switch(t[u]){case 0:e&&(l.push(e),e=void 0),a++,s++;break;case 1:e||(e=Wt(a,0)),e.R++,a++,e.L.push(n[s]),s++;break;case 2:e||(e=Wt(a,0)),e.R++,a++;break;case 3:e||(e=Wt(a,0)),e.L.push(n[s]),s++}return e&&l.push(e),l}function Vt(t,e,n){Et(t),n=n||null;var r=P(t),o=P(e),i=n?P(n):null;r.previousSibling=n?i.previousSibling:e.__shady_lastChild,(i=N(r.previousSibling))&&(i.nextSibling=t),(i=N(r.nextSibling=n))&&(i.previousSibling=t),r.parentNode=e,n?n===o.firstChild&&(o.firstChild=t):(o.lastChild=t,o.firstChild||(o.firstChild=t)),o.childNodes=null}function Jt(t){var e=P(t);if(void 0===e.firstChild){e.childNodes=null;var n=e.firstChild=t.__shady_native_firstChild||null;for(e.lastChild=t.__shady_native_lastChild||null,Ot(t),e=n,n=void 0;e;e=e.__shady_native_nextSibling){var r=P(e);r.parentNode=t,r.nextSibling=e.__shady_native_nextSibling||null,r.previousSibling=n||null,n=e,Et(e)}}}var Kt=null;function Zt(){return Kt||(Kt=window.ShadyCSS&&window.ShadyCSS.ScopingShim),Kt||null}function Qt(t,e){var n=Zt();n&&n.unscopeNode(t,e)}function Xt(t){if(t.nodeType!==Node.ELEMENT_NODE)return"";var e=Zt();return e?e.currentScopeForNode(t):""}function te(t,e){if(t){t.nodeType===Node.ELEMENT_NODE&&e(t),t=t.__shady_childNodes;for(var n,r=0;r<t.length;r++)(n=t[r]).nodeType===Node.ELEMENT_NODE&&te(n,e)}}var ee=window.document,ne=T.oa,re=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),oe=re&&re.get;function ie(t){for(var e;e=t.__shady_firstChild;)t.__shady_removeChild(e)}function ae(t,e,n){var r;(t=(t=N(t))&&t.H)&&(e&&t.addedNodes.push(e),n&&t.removedNodes.push(n),(r=t).a||(r.a=!0,z(function(){r.flush()})))}var se=W({get parentNode(){var t=N(this);return void 0!==(t=t&&t.parentNode)?t:this.__shady_native_parentNode},get firstChild(){var t=N(this);return void 0!==(t=t&&t.firstChild)?t:this.__shady_native_firstChild},get lastChild(){var t=N(this);return void 0!==(t=t&&t.lastChild)?t:this.__shady_native_lastChild},get nextSibling(){var t=N(this);return void 0!==(t=t&&t.nextSibling)?t:this.__shady_native_nextSibling},get previousSibling(){var t=N(this);return void 0!==(t=t&&t.previousSibling)?t:this.__shady_native_previousSibling},get childNodes(){if(A(this)){var t=N(this);if(!t.childNodes){t.childNodes=[];for(var e=this.__shady_firstChild;e;e=e.__shady_nextSibling)t.childNodes.push(e)}var n=t.childNodes}else n=this.__shady_native_childNodes;return n.item=function(t){return n[t]},n},get parentElement(){var t=N(this);return(t=t&&t.parentNode)&&t.nodeType!==Node.ELEMENT_NODE&&(t=null),void 0!==t?t:this.__shady_native_parentElement},get isConnected(){if(oe&&oe.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var t=this.ownerDocument;if(q){if(t.__shady_native_contains(this))return!0}else if(t.documentElement&&t.documentElement.__shady_native_contains(this))return!0;for(t=this;t&&!(t instanceof Document);)t=t.__shady_parentNode||(j(t)?t.host:void 0);return!!(t&&t instanceof Document)},get textContent(){if(A(this)){for(var t,e=[],n=0,r=this.__shady_childNodes;t=r[n];n++)t.nodeType!==Node.COMMENT_NODE&&e.push(t.__shady_textContent);return e.join("")}return this.__shady_native_textContent},set textContent(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!A(this)&&T.m){var e=this.__shady_firstChild;(e!=this.__shady_lastChild||e&&e.nodeType!=Node.TEXT_NODE)&&ie(this),this.__shady_native_textContent=t}else ie(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_insertBefore(document.createTextNode(t));break;default:this.nodeValue=t}},insertBefore:function(t,e){if(this.ownerDocument!==ee&&t.ownerDocument!==ee)return this.__shady_native_insertBefore(t,e),t;if(t===this)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(e){var n=N(e);if(void 0!==(n=n&&n.parentNode)&&n!==this||void 0===n&&e.__shady_native_parentNode!==this)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(e===t)return t;var r=[],o=(n=Le(this))?n.host.localName:Xt(this),i=t.__shady_parentNode;if(i){var a=Xt(t);i.__shady_removeChild(t,!!n||!Le(t))}i=!0;var s=!(ne&&void 0!==t.__noInsertionPoint||function t(e,n){var r=Zt();if(!r)return!0;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){r=!0,e=e.__shady_childNodes;for(var o=0;r&&o<e.length;o++)r=r&&t(e[o],n);return r}return e.nodeType!==Node.ELEMENT_NODE||r.currentScopeForNode(e)===n}(t,o)),c=n&&!t.__noInsertionPoint&&(!ne||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE);return(c||s)&&(s&&(a=a||Xt(t)),te(t,function(t){if(c&&"slot"===t.localName&&r.push(t),s){var e=a;Zt()&&(e&&Qt(t,e),(e=Zt())&&e.scopeNode(t,o))}})),("slot"===this.localName||r.length)&&(r.length&&(n.c=n.c||[],n.a=n.a||[],n.b=n.b||{},n.c.push.apply(n.c,r instanceof Array?r:function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(u(r)))),n&&Oe(n)),A(this)&&(function(t,e,n){Ot(e);var r=P(e);if(void 0!==r.firstChild&&(r.childNodes=null),t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){r=t.__shady_childNodes;for(var o=0;o<r.length;o++)Vt(r[o],e,n);e=void 0!==(t=P(t)).firstChild?null:void 0,t.firstChild=t.lastChild=e,t.childNodes=e}else Vt(t,e,n)}(t,this,e),n=N(this),L(this)?(Oe(n.root),i=!1):n.root&&(i=!1)),i?(n=j(this)?this.host:this,e?(e=function t(e){var n=e;return e&&"slot"===e.localName&&(n=(n=(n=N(e))&&n.D)&&n.length?n[0]:t(e.__shady_nextSibling)),n}(e),n.__shady_native_insertBefore(t,e)):n.__shady_native_appendChild(t)):t.ownerDocument!==this.ownerDocument&&this.ownerDocument.adoptNode(t),ae(this,t),t},appendChild:function(t){return this.__shady_insertBefore(t)},removeChild:function(t,e){if(e=void 0!==e&&e,this.ownerDocument!==ee)return this.__shady_native_removeChild(t);if(t.__shady_parentNode!==this)throw Error("The node to be removed is not a child of this node: "+t);var n=Le(t),r=n&&function(t,e){if(t.a){Pe(t);var n,r=t.b;for(n in r)for(var o=r[n],i=0;i<o.length;i++){var a=o[i];if(U(e,a)){o.splice(i,1);var s=t.a.indexOf(a);if(0<=s&&(t.a.splice(s,1),(s=N(a.__shady_parentNode))&&s.N&&s.N--),i--,a=N(a),s=a.D)for(var u=0;u<s.length;u++){var c=s[u],l=c.__shady_native_parentNode;l&&l.__shady_native_removeChild(c)}a.D=[],a.assignedNodes=[],s=!0}}return s}}(n,t),o=N(this);if(A(this)&&(function(t,e){var n=P(t);t===(e=P(e)).firstChild&&(e.firstChild=n.nextSibling),t===e.lastChild&&(e.lastChild=n.previousSibling),t=n.previousSibling;var r=n.nextSibling;t&&(P(t).nextSibling=r),r&&(P(r).previousSibling=t),n.parentNode=n.previousSibling=n.nextSibling=void 0,void 0!==e.childNodes&&(e.childNodes=null)}(t,this),L(this))){Oe(o.root);var i=!0}if(Zt()&&!e&&n){var a=Xt(t);te(t,function(t){Qt(t,a)})}return function t(e){var n=N(e);if(n&&void 0!==n.K)for(var r=0,o=(n=e.__shady_childNodes).length,i=void 0;r<o&&(i=n[r]);r++)t(i);(e=N(e))&&(e.K=void 0)}(t),n&&((e=this&&"slot"===this.localName)&&(i=!0),(r||e)&&Oe(n)),i||(i=j(this)?this.host:this,(!o.root&&"slot"!==t.localName||i===t.__shady_native_parentNode)&&i.__shady_native_removeChild(t)),ae(this,null,t),t},replaceChild:function(t,e){return this.__shady_insertBefore(t,e),this.__shady_removeChild(e),t},cloneNode:function(t){if("template"==this.localName)return this.__shady_native_cloneNode(t);var e=this.__shady_native_cloneNode(!1);if(t&&e.nodeType!==Node.ATTRIBUTE_NODE){t=this.__shady_childNodes;for(var n,r=0;r<t.length;r++)n=t[r].__shady_cloneNode(!0),e.__shady_appendChild(n)}return e},getRootNode:function(t){if(this&&this.nodeType){var e=P(this),n=e.K;return void 0===n&&(j(this)?(n=this,e.K=n):(n=(n=this.__shady_parentNode)?n.__shady_getRootNode(t):this,document.documentElement.__shady_native_contains(this)&&(e.K=n))),n}},contains:function(t){return U(this,t)}});function ue(t,e,n){var r=[];return function t(e,n,r,o){for(var i=0,a=e.length,s=void 0;i<a&&(s=e[i]);i++){var u;if(u=s.nodeType===Node.ELEMENT_NODE){var c=n,l=r,f=o,d=c(u=s);d&&f.push(u),l&&l(d)?u=d:(t(u.__shady_childNodes,c,l,f),u=void 0)}if(u)break}}(t.__shady_childNodes,e,n,r),r}var ce=W({get firstElementChild(){var t=N(this);if(t&&void 0!==t.firstChild){for(t=this.__shady_firstChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_firstElementChild},get lastElementChild(){var t=N(this);if(t&&void 0!==t.lastChild){for(t=this.__shady_lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_lastElementChild},get children(){return A(this)?H(Array.prototype.filter.call(this.__shady_childNodes,function(t){return t.nodeType===Node.ELEMENT_NODE})):this.__shady_native_children},get childElementCount(){var t=this.__shady_children;return t?t.length:0}}),le=W({querySelector:function(t){return ue(this,function(e){return I.call(e,t)},function(t){return!!t})[0]||null},querySelectorAll:function(t,e){if(e){e=Array.prototype.slice.call(this.__shady_native_querySelectorAll(t));var n=this.__shady_getRootNode();return e.filter(function(t){return t.__shady_getRootNode()==n})}return ue(this,function(e){return I.call(e,t)})}}),fe=T.oa?Object.assign({},ce):ce;Object.assign(ce,le);var de=W({getElementById:function(t){return""===t?null:ue(this,function(e){return e.id==t},function(t){return!!t})[0]||null}}),he=W({get activeElement(){var t=T.m?document.__shady_native_activeElement:document.activeElement;if(!t||!t.nodeType)return null;var e=!!j(this);if(!(this===document||e&&this.host!==t&&this.host.__shady_native_contains(t)))return null;for(e=Le(t);e&&e!==this;)e=Le(t=e.host);return this===document?e?null:t:e===this?t:null}}),pe=document.implementation.createHTMLDocument("inert"),ve=W({get innerHTML(){return A(this)?ot("template"===this.localName?this.content:this,function(t){return t.__shady_childNodes}):this.__shady_native_innerHTML},set innerHTML(t){if("template"===this.localName)this.__shady_native_innerHTML=t;else{ie(this);var e=this.localName||"div";for(e=this.namespaceURI&&this.namespaceURI!==pe.namespaceURI?pe.createElementNS(this.namespaceURI,e):pe.createElement(e),T.m?e.__shady_native_innerHTML=t:e.innerHTML=t;t=e.__shady_firstChild;)this.__shady_insertBefore(t)}}}),me=W({addEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.$=this,this.host.__shady_addEventListener(t,e,n)},removeEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.$=this,this.host.__shady_removeEventListener(t,e,n)}});function ge(t,e){Y(t,me,e),Y(t,he,e),Y(t,ve,e),Y(t,ce,e),T.J&&!e?(Y(t,se,e),Y(t,de,e)):T.m||(Y(t,_t),Y(t,yt))}var ye,_e,be={},we=T.deferConnectionCallbacks&&"loading"===document.readyState;function Se(t){var e=[];do{e.unshift(t)}while(t=t.__shady_parentNode);return e}function Ee(t,e,n){if(t!==be)throw new TypeError("Illegal constructor");if(this.za="ShadyRoot",this.host=e,this.mode=n&&n.mode,Jt(e),(t=P(e)).root=this,t.pa="closed"!==this.mode?this:null,(t=P(this)).firstChild=t.lastChild=t.parentNode=t.nextSibling=t.previousSibling=null,t.childNodes=[],this.ba=this.B=!1,this.c=this.b=this.a=null,T.preferPerformance)for(;t=e.__shady_native_firstChild;)e.__shady_native_removeChild(t);else Oe(this)}function Oe(t){t.B||(t.B=!0,J(function(){return De(t)}))}function De(t){var e;if(e=t.B){for(var n;t;)t.B&&(n=t),j(t=(e=t).host.__shady_getRootNode())&&(e=N(e.host))&&0<e.N||(t=void 0);e=n}(n=e)&&n._renderSelf()}function Me(t,e,n){var r=P(e),o=r.P;r.P=null,n||(n=(t=t.b[e.__shady_slot||"__catchall"])&&t[0]),n?(P(n).assignedNodes.push(e),r.assignedSlot=n):r.assignedSlot=void 0,o!==r.assignedSlot&&r.assignedSlot&&(P(r.assignedSlot).T=!0)}function Ce(t,e,n){for(var r=0,o=void 0;r<n.length&&(o=n[r]);r++)if("slot"==o.localName){var i=N(o).assignedNodes;i&&i.length&&Ce(t,e,i)}else e.push(n[r])}function xe(t,e){e.__shady_native_dispatchEvent(new Event("slotchange")),(e=N(e)).assignedSlot&&xe(t,e.assignedSlot)}function Pe(t){if(t.c&&t.c.length){for(var e,n=t.c,r=0;r<n.length;r++){var o=n[r];Jt(o);var i=o.__shady_parentNode;Jt(i),(i=N(i)).N=(i.N||0)+1,i=Ne(o),t.b[i]?((e=e||{})[i]=!0,t.b[i].push(o)):t.b[i]=[o],t.a.push(o)}if(e)for(var a in e)t.b[a]=Te(t.b[a]);t.c=[]}}function Ne(t){var e=t.name||t.getAttribute("name")||"__catchall";return t.wa=e}function Te(t){return t.sort(function(t,e){t=Se(t);for(var n=Se(e),r=0;r<t.length;r++){e=t[r];var o=n[r];if(e!==o)return(t=Array.from(e.__shady_parentNode.__shady_childNodes)).indexOf(e)-t.indexOf(o)}})}function ke(t){return Pe(t),!(!t.a||!t.a.length)}if(Ee.prototype._renderSelf=function(){var t=we;if(we=!0,this.B=!1,this.a){Pe(this);for(var e,n=0;n<this.a.length;n++){var r=N(e=this.a[n]),o=r.assignedNodes;if(r.assignedNodes=[],r.D=[],r.ca=o)for(r=0;r<o.length;r++){var i=N(o[r]);i.P=i.assignedSlot,i.assignedSlot===e&&(i.assignedSlot=null)}}for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)Me(this,n);for(n=0;n<this.a.length;n++){if(!(o=N(e=this.a[n])).assignedNodes.length)for(r=e.__shady_firstChild;r;r=r.__shady_nextSibling)Me(this,r,e);if((r=(r=N(e.__shady_parentNode))&&r.root)&&(ke(r)||r.B)&&r._renderSelf(),Ce(this,o.D,o.assignedNodes),r=o.ca){for(i=0;i<r.length;i++)N(r[i]).P=null;o.ca=null,r.length>o.assignedNodes.length&&(o.T=!0)}o.T&&(o.T=!1,xe(this,e))}for(e=this.a,n=[],o=0;o<e.length;o++)(i=N(r=e[o].__shady_parentNode))&&i.root||!(0>n.indexOf(r))||n.push(r);for(e=0;e<n.length;e++){o=(i=n[e])===this?this.host:i,r=[],i=i.__shady_childNodes;for(var a=0;a<i.length;a++){var s=i[a];if("slot"==s.localName){s=N(s).D;for(var u=0;u<s.length;u++)r.push(s[u])}else r.push(s)}i=Array.prototype.slice.call(o.__shady_native_childNodes),a=Gt(r,r.length,i,i.length),u=s=0;for(var c=void 0;s<a.length&&(c=a[s]);s++){for(var l=0,f=void 0;l<c.L.length&&(f=c.L[l]);l++)f.__shady_native_parentNode===o&&o.__shady_native_removeChild(f),i.splice(c.index+u,1);u-=c.R}for(u=0,c=void 0;u<a.length&&(c=a[u]);u++)for(s=i[c.index],l=c.index;l<c.index+c.R;l++)f=r[l],o.__shady_native_insertBefore(f,s),i.splice(l,0,f)}}if(!T.preferPerformance&&!this.ba)for(e=0,o=(n=this.host.__shady_childNodes).length;e<o;e++)i=N(r=n[e]),r.__shady_native_parentNode!==this.host||"slot"!==r.localName&&i.assignedSlot||this.host.__shady_native_removeChild(r);this.ba=!0,we=t,ye&&ye()},(_e=Ee.prototype).__proto__=DocumentFragment.prototype,ge(_e,"__shady_"),ge(_e),Object.defineProperties(_e,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach(function(t){Object.defineProperty(_e,t,{value:void 0,configurable:!0})}),["ownerDocument","baseURI","isConnected"].forEach(function(t){Object.defineProperty(_e,t,{get:function(){return this.host[t]},configurable:!0})}),window.customElements&&T.ea&&!T.preferPerformance){var Ae=new Map;ye=function(){var t=[];Ae.forEach(function(e,n){t.push([n,e])}),Ae.clear();for(var e=0;e<t.length;e++){var n=t[e][0];t[e][1]?n.ua():n.va()}},we&&document.addEventListener("readystatechange",function(){we=!1,ye()},{once:!0});var je=window.customElements.define;Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:function(t,e){var n,r,o,i,a,s=e.prototype.connectedCallback,u=e.prototype.disconnectedCallback;je.call(window.customElements,t,(n=e,o=u,i=0,a="__isConnected"+i++,((r=s)||o)&&(n.prototype.connectedCallback=n.prototype.ua=function(){we?Ae.set(this,!0):this[a]||(this[a]=!0,r&&r.call(this))},n.prototype.disconnectedCallback=n.prototype.va=function(){we?this.isConnected||Ae.set(this,!1):this[a]&&(this[a]=!1,o&&o.call(this))}),n)),e.prototype.connectedCallback=s,e.prototype.disconnectedCallback=u}})}function Le(t){if(j(t=t.__shady_getRootNode()))return t}function Re(t){this.node=t}(t=Re.prototype).addEventListener=function(t,e,n){return this.node.__shady_addEventListener(t,e,n)},t.removeEventListener=function(t,e,n){return this.node.__shady_removeEventListener(t,e,n)},t.appendChild=function(t){return this.node.__shady_appendChild(t)},t.insertBefore=function(t,e){return this.node.__shady_insertBefore(t,e)},t.removeChild=function(t){return this.node.__shady_removeChild(t)},t.replaceChild=function(t,e){return this.node.__shady_replaceChild(t,e)},t.cloneNode=function(t){return this.node.__shady_cloneNode(t)},t.getRootNode=function(t){return this.node.__shady_getRootNode(t)},t.contains=function(t){return this.node.__shady_contains(t)},t.dispatchEvent=function(t){return this.node.__shady_dispatchEvent(t)},t.setAttribute=function(t,e){this.node.__shady_setAttribute(t,e)},t.getAttribute=function(t){return this.node.__shady_native_getAttribute(t)},t.hasAttribute=function(t){return this.node.__shady_native_hasAttribute(t)},t.removeAttribute=function(t){this.node.__shady_removeAttribute(t)},t.attachShadow=function(t){return this.node.__shady_attachShadow(t)},t.focus=function(){this.node.__shady_native_focus()},t.blur=function(){this.node.__shady_blur()},t.importNode=function(t,e){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_importNode(t,e)},t.getElementById=function(t){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_getElementById(t)},t.querySelector=function(t){return this.node.__shady_querySelector(t)},t.querySelectorAll=function(t,e){return this.node.__shady_querySelectorAll(t,e)},t.assignedNodes=function(t){if("slot"===this.node.localName)return this.node.__shady_assignedNodes(t)},e.Object.defineProperties(Re.prototype,{activeElement:{configurable:!0,enumerable:!0,get:function(){if(j(this.node)||this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_activeElement}},_activeElement:{configurable:!0,enumerable:!0,get:function(){return this.activeElement}},host:{configurable:!0,enumerable:!0,get:function(){if(j(this.node))return this.node.host}},parentNode:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentNode}},firstChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstChild}},lastChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastChild}},nextSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextSibling}},previousSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousSibling}},childNodes:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childNodes}},parentElement:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentElement}},firstElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstElementChild}},lastElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastElementChild}},nextElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextElementSibling}},previousElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousElementSibling}},children:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_children}},childElementCount:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childElementCount}},shadowRoot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_shadowRoot}},assignedSlot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_assignedSlot}},isConnected:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_isConnected}},innerHTML:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_innerHTML},set:function(t){this.node.__shady_innerHTML=t}},textContent:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_textContent},set:function(t){this.node.__shady_textContent=t}},slot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_slot},set:function(t){this.node.__shady_slot=t}}}),Yt.forEach(function(t){Object.defineProperty(Re.prototype,t,{get:function(){return this.node["__shady_"+t]},set:function(e){this.node["__shady_"+t]=e},configurable:!0})});var Ie=new WeakMap;var Fe=W({dispatchEvent:function(t){return K(),this.__shady_native_dispatchEvent(t)},addEventListener:Ft,removeEventListener:Bt}),Be=W({get assignedSlot(){var t=this.__shady_parentNode;return(t=t&&t.__shady_shadowRoot)&&De(t),(t=N(this))&&t.assignedSlot||null}}),$e=window.document;function ze(t,e){if("slot"===e)L(t=t.__shady_parentNode)&&Oe(N(t).root);else if("slot"===t.localName&&"name"===e&&(e=Le(t))){if(e.a){Pe(e);var n=t.wa,r=Ne(t);if(r!==n){var o=(n=e.b[n]).indexOf(t);0<=o&&n.splice(o,1),(n=e.b[r]||(e.b[r]=[])).push(t),1<n.length&&(e.b[r]=Te(n))}}Oe(e)}}var qe=W({get previousElementSibling(){var t=N(this);if(t&&void 0!==t.previousSibling){for(t=this.__shady_previousSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_previousElementSibling},get nextElementSibling(){var t=N(this);if(t&&void 0!==t.nextSibling){for(t=this.__shady_nextSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_nextElementSibling},get slot(){return this.getAttribute("slot")},set slot(t){this.__shady_setAttribute("slot",t)},get shadowRoot(){var t=N(this);return t&&t.pa||null},get className(){return this.getAttribute("class")||""},set className(t){this.__shady_setAttribute("class",t)},setAttribute:function(t,e){var n;this.ownerDocument!==$e?this.__shady_native_setAttribute(t,e):((n=Zt())&&"class"===t?(n.setElementClass(this,e),n=!0):n=!1,n||(this.__shady_native_setAttribute(t,e),ze(this,t)))},removeAttribute:function(t){this.__shady_native_removeAttribute(t),ze(this,t)},attachShadow:function(t){if(!this)throw Error("Must provide a host.");if(!t)throw Error("Not enough arguments.");return new Ee(be,this,t)}}),Ue=W({blur:function(){var t=N(this);(t=(t=t&&t.root)&&t.activeElement)?t.__shady_blur():this.__shady_native_blur()}});Yt.forEach(function(t){Ue[t]={set:function(e){var n=P(this),r=t.substring(2);n.O[t]&&this.removeEventListener(r,n.O[t]),this.__shady_addEventListener(r,e),n.O[t]=e},get:function(){var e=N(this);return e&&e.O[t]},configurable:!0}});var He=W({assignedNodes:function(t){if("slot"===this.localName){var e=this.__shady_getRootNode();return e&&j(e)&&De(e),(e=N(this))&&(t&&t.flatten?e.D:e.assignedNodes)||[]}}}),Ye=window.document,We=W({importNode:function(t,e){if(t.ownerDocument!==Ye||"template"===t.localName)return this.__shady_native_importNode(t,e);var n=this.__shady_native_importNode(t,!1);if(e){t=t.__shady_childNodes,e=0;for(var r;e<t.length;e++)r=this.__shady_importNode(t[e],!0),n.__shady_appendChild(r)}return n}}),Ge=W({addEventListener:Ft.bind(window),removeEventListener:Bt.bind(window)}),Ve={};Object.getOwnPropertyDescriptor(HTMLElement.prototype,"parentElement")&&(Ve.parentElement=se.parentElement),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"contains")&&(Ve.contains=se.contains),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&(Ve.children=ce.children),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&(Ve.innerHTML=ve.innerHTML),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"className")&&(Ve.className=qe.className);var Je,Ke={EventTarget:[Fe],Node:[se,window.EventTarget?null:Fe],Text:[Be],Element:[qe,ce,Be,!T.m||"innerHTML"in Element.prototype?ve:null,window.HTMLSlotElement?null:He],HTMLElement:[Ue,Ve],HTMLSlotElement:[He],DocumentFragment:[fe,de],Document:[We,fe,de,he],Window:[Ge]},Ze=T.m?null:["innerHTML","textContent"];function Qe(t){var e,n=t?null:Ze,r={};for(e in Ke)r.W=window[e]&&window[e].prototype,Ke[e].forEach(function(e){return function(r){return e.W&&r&&Y(e.W,r,t,n)}}(r)),r={W:r.W}}if(T.ea){var Xe={inUse:T.ea,patch:function(t){return Ot(t),Et(t),t},isShadyRoot:j,enqueue:J,flush:K,flushInitial:function(t){!t.ba&&t.B&&De(t)},settings:T,filterMutations:function(t,e){var n=e.getRootNode();return t.map(function(t){var e=n===t.target.getRootNode();if(e&&t.addedNodes){if((e=Array.from(t.addedNodes).filter(function(t){return n===t.getRootNode()})).length)return t=Object.create(t),Object.defineProperty(t,"addedNodes",{value:e,configurable:!0}),t}else if(e)return t}).filter(function(t){return t})},observeChildren:function(t,e){var n=P(t);n.H||(n.H=new Z),n.H.S.add(e);var r=n.H;return{ya:e,F:r,Aa:t,takeRecords:function(){return r.takeRecords()}}},unobserveChildren:function(t){var e=t&&t.F;e&&(e.S.delete(t.ya),e.S.size||(P(t.Aa).H=null))},deferConnectionCallbacks:T.deferConnectionCallbacks,preferPerformance:T.preferPerformance,handlesDynamicScoping:!0,wrap:T.J?function(t){if(j(t)||t instanceof Re)return t;var e=Ie.get(t);return e||(e=new Re(t),Ie.set(t,e)),e}:function(t){return t},Wrapper:Re,composedPath:function(t){return t.__composedPath||(t.__composedPath=Nt(t.target,!0)),t.__composedPath},noPatch:T.J,nativeMethods:at,nativeTree:st};window.ShadyDOM=Xe,Je=["dispatchEvent","addEventListener","removeEventListener"],window.EventTarget?lt(window.EventTarget.prototype,Je):(lt(Node.prototype,Je),lt(Window.prototype,Je)),it?lt(Node.prototype,"parentNode firstChild lastChild previousSibling nextSibling childNodes parentElement textContent".split(" ")):ct(Node.prototype,{parentNode:{get:function(){return ft.currentNode=this,ft.parentNode()}},firstChild:{get:function(){return ft.currentNode=this,ft.firstChild()}},lastChild:{get:function(){return ft.currentNode=this,ft.lastChild()}},previousSibling:{get:function(){return ft.currentNode=this,ft.previousSibling()}},nextSibling:{get:function(){return ft.currentNode=this,ft.nextSibling()}},childNodes:{get:function(){var t=[];ft.currentNode=this;for(var e=ft.firstChild();e;)t.push(e),e=ft.nextSibling();return t}},parentElement:{get:function(){return dt.currentNode=this,dt.parentNode()}},textContent:{get:function(){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(var t,e=document.createTreeWalker(this,NodeFilter.SHOW_TEXT,null,!1),n="";t=e.nextNode();)n+=t.nodeValue;return n;default:return this.nodeValue}},set:function(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:pt(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_native_insertBefore(document.createTextNode(t),void 0);break;default:this.nodeValue=t}}}}),lt(Node.prototype,"appendChild insertBefore removeChild replaceChild cloneNode contains".split(" ")),Je={firstElementChild:{get:function(){return dt.currentNode=this,dt.firstChild()}},lastElementChild:{get:function(){return dt.currentNode=this,dt.lastChild()}},children:{get:function(){var t=[];dt.currentNode=this;for(var e=dt.firstChild();e;)t.push(e),e=dt.nextSibling();return H(t)}},childElementCount:{get:function(){return this.children?this.children.length:0}}},it?(lt(Element.prototype,vt),lt(Element.prototype,["previousElementSibling","nextElementSibling","innerHTML"]),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&lt(HTMLElement.prototype,["children"]),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&lt(HTMLElement.prototype,["innerHTML"])):(ct(Element.prototype,Je),ct(Element.prototype,{previousElementSibling:{get:function(){return dt.currentNode=this,dt.previousSibling()}},nextElementSibling:{get:function(){return dt.currentNode=this,dt.nextSibling()}},innerHTML:{get:function(){return ot(this,function(t){return t.__shady_native_childNodes})},set:function(t){var e="template"===this.localName?this.content:this;pt(e);var n=this.localName||"div";for((n=this.namespaceURI&&this.namespaceURI!==ht.namespaceURI?ht.createElementNS(this.namespaceURI,n):ht.createElement(n)).innerHTML=t,t="template"===this.localName?n.content:n;n=t.__shady_native_firstChild;)e.__shady_native_insertBefore(n,void 0)}}})),lt(Element.prototype,"setAttribute getAttribute hasAttribute removeAttribute focus blur".split(" ")),lt(Element.prototype,mt),lt(HTMLElement.prototype,["focus","blur","contains"]),it&&lt(HTMLElement.prototype,["parentElement","children","innerHTML"]),window.HTMLTemplateElement&&lt(window.HTMLTemplateElement.prototype,["innerHTML"]),it?lt(DocumentFragment.prototype,vt):ct(DocumentFragment.prototype,Je),lt(DocumentFragment.prototype,mt),it?(lt(Document.prototype,vt),lt(Document.prototype,["activeElement"])):ct(Document.prototype,Je),lt(Document.prototype,["importNode","getElementById"]),lt(Document.prototype,mt),Qe("__shady_"),Object.defineProperty(document,"_activeElement",he.activeElement),Y(Window.prototype,Ge,"__shady_"),T.J||(Qe(),function(){if(!Mt&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")){var t=function(){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.__shady_dispatchEvent(t)};Element.prototype.click?Element.prototype.click=t:HTMLElement.prototype.click&&(HTMLElement.prototype.click=t)}}()),function(){for(var t in At)window.__shady_native_addEventListener(t,function(t){t.__target||(zt(t),Rt(t))},!0)}(),window.Event=qt,window.CustomEvent=Ut,window.MouseEvent=Ht,window.ShadowRoot=Ee}var tn=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function en(t){var e=tn.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!e&&t}function nn(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function rn(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function on(t,e,n){n=void 0===n?new Set:n;for(var r=t;r;){if(r.nodeType===Node.ELEMENT_NODE){var o=r;e(o);var i=o.localName;if("link"===i&&"import"===o.getAttribute("rel")){if((r=o.import)instanceof Node&&!n.has(r))for(n.add(r),r=r.firstChild;r;r=r.nextSibling)on(r,e,n);r=rn(t,o);continue}if("template"===i){r=rn(t,o);continue}if(o=o.__CE_shadowRoot)for(o=o.firstChild;o;o=o.nextSibling)on(o,e,n)}r=r.firstChild?r.firstChild:rn(t,r)}}function an(t,e,n){t[e]=n}function sn(){this.a=new Map,this.g=new Map,this.f=[],this.c=!1}function un(t,e){t.c=!0,t.f.push(e)}function cn(t,e){t.c&&on(e,function(e){return t.b(e)})}function ln(t,e){var n=[];for(on(e,function(t){return n.push(t)}),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state?t.connectedCallback(r):hn(t,r)}}function fn(t,e){var n=[];for(on(e,function(t){return n.push(t)}),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state&&t.disconnectedCallback(r)}}function dn(t,e,n){var r=(n=void 0===n?{}:n).Xa||new Set,o=n.Y||function(e){return hn(t,e)},i=[];if(on(e,function(e){if("link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var i=new Set(r);i.delete(n),dn(t,n,{Xa:i,Y:o})}})}else i.push(e)},r),t.c)for(e=0;e<i.length;e++)t.b(i[e]);for(e=0;e<i.length;e++)o(i[e])}function hn(t,e){if(void 0===e.__CE_state){var n=e.ownerDocument;if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=t.a.get(e.localName))){n.constructionStack.push(e);var r=n.constructorFunction;try{try{if(new r!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=n,n.attributeChangedCallback)for(n=n.observedAttributes,r=0;r<n.length;r++){var o=n[r],i=e.getAttribute(o);null!==i&&t.attributeChangedCallback(e,o,null,i,null)}nn(e)&&t.connectedCallback(e)}}}function pn(t){var e=document;this.b=t,this.a=e,this.F=void 0,dn(this.b,this.a),"loading"===this.a.readyState&&(this.F=new MutationObserver(this.c.bind(this)),this.F.observe(this.a,{childList:!0,subtree:!0}))}function vn(t){t.F&&t.F.disconnect()}function mn(){var t=this;this.a=this.h=void 0,this.b=new Promise(function(e){t.a=e,t.h&&e(t.h)})}function gn(t){this.c=!1,this.a=t,this.l=new Map,this.f=function(t){return t()},this.b=!1,this.g=[],this.da=new pn(t)}sn.prototype.b=function(t){if(this.c&&!t.__CE_patched){t.__CE_patched=!0;for(var e=0;e<this.f.length;e++)this.f[e](t)}},sn.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t)},sn.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t)},sn.prototype.attributeChangedCallback=function(t,e,n,r,o){var i=t.__CE_definition;i.attributeChangedCallback&&-1<i.observedAttributes.indexOf(e)&&i.attributeChangedCallback.call(t,e,n,r,o)},pn.prototype.c=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||vn(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,r=0;r<n.length;r++)dn(this.b,n[r])},mn.prototype.resolve=function(t){if(this.h)throw Error("Already resolved.");this.h=t,this.a&&this.a(t)},(t=gn.prototype).sa=function(t,e){var n,r,o,i=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!en(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.a.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var a=function(t){var e=s[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},s=e.prototype;if(!(s instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var u=a("connectedCallback"),c=a("disconnectedCallback"),l=a("adoptedCallback"),f=a("attributeChangedCallback"),d=e.observedAttributes||[]}catch(t){return}finally{this.c=!1}e={localName:t,constructorFunction:e,connectedCallback:u,disconnectedCallback:c,adoptedCallback:l,attributeChangedCallback:f,observedAttributes:d,constructionStack:[]},n=this.a,r=t,o=e,n.a.set(r,o),n.g.set(o.constructorFunction,o),this.g.push(e),this.b||(this.b=!0,this.f(function(){return function(t){if(!1!==t.b){t.b=!1;for(var e=t.g,n=[],r=new Map,o=0;o<e.length;o++)r.set(e[o].localName,[]);for(dn(t.a,document,{Y:function(e){if(void 0===e.__CE_state){var o=e.localName,i=r.get(o);i?i.push(e):t.a.a.get(o)&&n.push(e)}}}),o=0;o<n.length;o++)hn(t.a,n[o]);for(;0<e.length;){var i=e.shift();o=i.localName,i=r.get(i.localName);for(var a=0;a<i.length;a++)hn(t.a,i[a]);(o=t.l.get(o))&&o.resolve(void 0)}}}(i)}))},t.Y=function(t){dn(this.a,t)},t.get=function(t){if(t=this.a.a.get(t))return t.constructorFunction},t.ta=function(t){if(!en(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.l.get(t);return e?e.b:(e=new mn,this.l.set(t,e),this.a.a.get(t)&&!this.g.some(function(e){return e.localName===t})&&e.resolve(void 0),e.b)},t.Pa=function(t){vn(this.da);var e=this.f;this.f=function(n){return t(function(){return e(n)})}},window.CustomElementRegistry=gn,gn.prototype.define=gn.prototype.sa,gn.prototype.upgrade=gn.prototype.Y,gn.prototype.get=gn.prototype.get,gn.prototype.whenDefined=gn.prototype.ta,gn.prototype.polyfillWrapFlushCallback=gn.prototype.Pa;var yn=window.Document.prototype.createElement,_n=window.Document.prototype.createElementNS,bn=window.Document.prototype.importNode,wn=window.Document.prototype.prepend,Sn=window.Document.prototype.append,En=window.DocumentFragment.prototype.prepend,On=window.DocumentFragment.prototype.append,Dn=window.Node.prototype.cloneNode,Mn=window.Node.prototype.appendChild,Cn=window.Node.prototype.insertBefore,xn=window.Node.prototype.removeChild,Pn=window.Node.prototype.replaceChild,Nn=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),Tn=window.Element.prototype.attachShadow,kn=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),An=window.Element.prototype.getAttribute,jn=window.Element.prototype.setAttribute,Ln=window.Element.prototype.removeAttribute,Rn=window.Element.prototype.getAttributeNS,In=window.Element.prototype.setAttributeNS,Fn=window.Element.prototype.removeAttributeNS,Bn=window.Element.prototype.insertAdjacentElement,$n=window.Element.prototype.insertAdjacentHTML,zn=window.Element.prototype.prepend,qn=window.Element.prototype.append,Un=window.Element.prototype.before,Hn=window.Element.prototype.after,Yn=window.Element.prototype.replaceWith,Wn=window.Element.prototype.remove,Gn=window.HTMLElement,Vn=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Jn=window.HTMLElement.prototype.insertAdjacentElement,Kn=window.HTMLElement.prototype.insertAdjacentHTML,Zn=new function(){};function Qn(t,e,n){function r(e){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&nn(s)&&i.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)o.push(s);else o.push(s)}for(e.apply(this,r),r=0;r<i.length;r++)fn(t,i[r]);if(nn(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&ln(t,i)}}void 0!==n.V&&(e.prepend=r(n.V)),void 0!==n.append&&(e.append=r(n.append))}var Xn,tr,er=window.customElements;if(!er||er.forcePolyfill||"function"!=typeof er.define||"function"!=typeof er.get){var nr=new sn;tr=nr,window.HTMLElement=function(){function t(){var t=this.constructor,e=tr.g.get(t);if(!e)throw Error("The custom element being constructed was not registered with `customElements`.");var n=e.constructionStack;if(0===n.length)return n=yn.call(document,e.localName),Object.setPrototypeOf(n,t.prototype),n.__CE_state=1,n.__CE_definition=e,tr.b(n),n;var r=n[e=n.length-1];if(r===Zn)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return n[e]=Zn,Object.setPrototypeOf(r,t.prototype),tr.b(r),r}return t.prototype=Gn.prototype,Object.defineProperty(t.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:t}),t}(),Xn=nr,an(Document.prototype,"createElement",function(t){if(this.__CE_hasRegistry){var e=Xn.a.get(t);if(e)return new e.constructorFunction}return t=yn.call(this,t),Xn.b(t),t}),an(Document.prototype,"importNode",function(t,e){return t=bn.call(this,t,!!e),this.__CE_hasRegistry?dn(Xn,t):cn(Xn,t),t}),an(Document.prototype,"createElementNS",function(t,e){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var n=Xn.a.get(e);if(n)return new n.constructorFunction}return t=_n.call(this,t,e),Xn.b(t),t}),Qn(Xn,Document.prototype,{V:wn,append:Sn}),Qn(nr,DocumentFragment.prototype,{V:En,append:On}),function(){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,t);else{var r=void 0;if(this.firstChild){var o=this.childNodes,i=o.length;if(0<i&&nn(this)){r=Array(i);for(var a=0;a<i;a++)r[a]=o[a]}}if(n.set.call(this,t),r)for(t=0;t<r.length;t++)fn(e,r[t])}}})}var e=nr;an(Node.prototype,"insertBefore",function(t,n){if(t instanceof DocumentFragment){var r=Array.prototype.slice.apply(t.childNodes);if(t=Cn.call(this,t,n),nn(this))for(n=0;n<r.length;n++)ln(e,r[n]);return t}return r=nn(t),n=Cn.call(this,t,n),r&&fn(e,t),nn(this)&&ln(e,t),n}),an(Node.prototype,"appendChild",function(t){if(t instanceof DocumentFragment){var n=Array.prototype.slice.apply(t.childNodes);if(t=Mn.call(this,t),nn(this))for(var r=0;r<n.length;r++)ln(e,n[r]);return t}return n=nn(t),r=Mn.call(this,t),n&&fn(e,t),nn(this)&&ln(e,t),r}),an(Node.prototype,"cloneNode",function(t){return t=Dn.call(this,!!t),this.ownerDocument.__CE_hasRegistry?dn(e,t):cn(e,t),t}),an(Node.prototype,"removeChild",function(t){var n=nn(t),r=xn.call(this,t);return n&&fn(e,t),r}),an(Node.prototype,"replaceChild",function(t,n){if(t instanceof DocumentFragment){var r=Array.prototype.slice.apply(t.childNodes);if(t=Pn.call(this,t,n),nn(this))for(fn(e,n),n=0;n<r.length;n++)ln(e,r[n]);return t}r=nn(t);var o=Pn.call(this,t,n),i=nn(this);return i&&fn(e,n),r&&fn(e,t),i&&ln(e,t),o}),Nn&&Nn.get?t(Node.prototype,Nn):un(e,function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)xn.call(this,this.firstChild);Mn.call(this,document.createTextNode(t))}})})}(),function(){function t(t,e){Object.defineProperty(t,"innerHTML",{enumerable:e.enumerable,configurable:!0,get:e.get,set:function(t){var n=this,o=void 0;if(nn(this)&&(o=[],on(this,function(t){t!==n&&o.push(t)})),e.set.call(this,t),o)for(var i=0;i<o.length;i++){var a=o[i];1===a.__CE_state&&r.disconnectedCallback(a)}return this.ownerDocument.__CE_hasRegistry?dn(r,this):cn(r,this),t}})}function e(t,e){an(t,"insertAdjacentElement",function(t,n){var o=nn(n);return t=e.call(this,t,n),o&&fn(r,n),nn(t)&&ln(r,n),t})}function n(t,e){function n(t,e){for(var n=[];t!==e;t=t.nextSibling)n.push(t);for(e=0;e<n.length;e++)dn(r,n[e])}an(t,"insertAdjacentHTML",function(t,r){if("beforebegin"===(t=t.toLowerCase())){var o=this.previousSibling;e.call(this,t,r),n(o||this.parentNode.firstChild,this)}else if("afterbegin"===t)o=this.firstChild,e.call(this,t,r),n(this.firstChild,o);else if("beforeend"===t)o=this.lastChild,e.call(this,t,r),n(o||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");o=this.nextSibling,e.call(this,t,r),n(this.nextSibling,o)}})}var r=nr;Tn&&an(Element.prototype,"attachShadow",function(t){return this.__CE_shadowRoot=Tn.call(this,t)}),kn&&kn.get?t(Element.prototype,kn):Vn&&Vn.get?t(HTMLElement.prototype,Vn):un(r,function(e){t(e,{enumerable:!0,configurable:!0,get:function(){return Dn.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,n=e?this.content:this,r=_n.call(document,this.namespaceURI,this.localName);for(r.innerHTML=t;0<n.childNodes.length;)xn.call(n,n.childNodes[0]);for(t=e?r.content:r;0<t.childNodes.length;)Mn.call(n,t.childNodes[0])}})}),an(Element.prototype,"setAttribute",function(t,e){if(1!==this.__CE_state)return jn.call(this,t,e);var n=An.call(this,t);jn.call(this,t,e),e=An.call(this,t),r.attributeChangedCallback(this,t,n,e,null)}),an(Element.prototype,"setAttributeNS",function(t,e,n){if(1!==this.__CE_state)return In.call(this,t,e,n);var o=Rn.call(this,t,e);In.call(this,t,e,n),n=Rn.call(this,t,e),r.attributeChangedCallback(this,e,o,n,t)}),an(Element.prototype,"removeAttribute",function(t){if(1!==this.__CE_state)return Ln.call(this,t);var e=An.call(this,t);Ln.call(this,t),null!==e&&r.attributeChangedCallback(this,t,e,null,null)}),an(Element.prototype,"removeAttributeNS",function(t,e){if(1!==this.__CE_state)return Fn.call(this,t,e);var n=Rn.call(this,t,e);Fn.call(this,t,e);var o=Rn.call(this,t,e);n!==o&&r.attributeChangedCallback(this,e,n,o,t)}),Jn?e(HTMLElement.prototype,Jn):Bn?e(Element.prototype,Bn):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),Kn?n(HTMLElement.prototype,Kn):$n?n(Element.prototype,$n):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),Qn(r,Element.prototype,{V:zn,append:qn}),function(t){function e(e){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&nn(s)&&i.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)o.push(s);else o.push(s)}for(e.apply(this,r),r=0;r<i.length;r++)fn(t,i[r]);if(nn(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&ln(t,i)}}var n=Element.prototype;void 0!==Un&&(n.before=e(Un)),void 0!==Un&&(n.after=e(Hn)),void 0!==Yn&&an(n,"replaceWith",function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var o=[],i=0;i<n.length;i++){var a=n[i];if(a instanceof Element&&nn(a)&&o.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)r.push(a);else r.push(a)}for(i=nn(this),Yn.apply(this,n),n=0;n<o.length;n++)fn(t,o[n]);if(i)for(fn(t,this),n=0;n<r.length;n++)(o=r[n])instanceof Element&&ln(t,o)}),void 0!==Wn&&an(n,"remove",function(){var e=nn(this);Wn.call(this),e&&fn(t,this)})}(r)}(),document.__CE_hasRegistry=!0;var rr=new gn(nr);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:rr})}function or(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function ir(t){var e=ar,n=t=t.replace(hr,"").replace(pr,""),r=new or;r.start=0,r.end=n.length;for(var o=r,i=0,a=n.length;i<a;i++)if("{"===n[i]){o.rules||(o.rules=[]);var s=o,u=s.rules[s.rules.length-1]||null;(o=new or).start=i+1,o.parent=s,o.previous=u,s.rules.push(o)}else"}"===n[i]&&(o.end=i+1,o=o.parent||r);return e(r,t)}function ar(t,e){var n=e.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=n.trim(),t.parent&&(n=e.substring(t.previous?t.previous.end:t.parent.start,t.start-1),n=(n=(n=n.replace(/\\([0-9a-f]{1,6})\s/gi,function(t,e){for(e=6-(t=e).length;e--;)t="0"+t;return"\\"+t})).replace(br," ")).substring(n.lastIndexOf(";")+1),n=t.parsedSelector=t.selector=n.trim(),t.atRule=0===n.indexOf("@"),t.atRule?0===n.indexOf("@media")?t.type=fr:n.match(_r)&&(t.type=lr,t.keyframesName=t.selector.split(br).pop()):t.type=0===n.indexOf("--")?dr:cr),n=t.rules)for(var r=0,o=n.length,i=void 0;r<o&&(i=n[r]);r++)ar(i,e);return t}var sr,ur,cr=1,lr=7,fr=4,dr=1e3,hr=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,pr=/@import[^;]*;/gim,vr=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mr=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,gr=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,yr=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,_r=/^@[^\s]*keyframes/,br=/\s+/g,wr=!(window.ShadyDOM&&window.ShadyDOM.inUse);function Sr(t){sr=(!t||!t.shimcssproperties)&&(wr||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(ur=window.ShadyCSS.cssBuild);var Er=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?sr=window.ShadyCSS.nativeCss:window.ShadyCSS?(Sr(window.ShadyCSS),window.ShadyCSS=void 0):Sr(window.WebComponents&&window.WebComponents.flags);var Or=sr,Dr=ur,Mr=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,Cr=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,xr=/(--[\w-]+)\s*([:,;)]|$)/gi,Pr=/(animation\s*:)|(animation-name\s*:)/,Nr=/@media\s(.*)/,Tr=/\{[^}]*\}/g,kr=new Set;function Ar(t,e){return t?("string"==typeof t&&(t=ir(t)),e&&Rr(t,e),function t(e,n,r){r=void 0===r?"":r;var o="";if(e.cssText||e.rules){var i,a=e.rules;if((i=a)&&(i=!((i=a[0])&&i.selector&&0===i.selector.indexOf("--"))),i){i=0;for(var s=a.length,u=void 0;i<s&&(u=a[i]);i++)o=t(u,n,o)}else n=n?e.cssText:(n=(n=e.cssText).replace(vr,"").replace(mr,"")).replace(gr,"").replace(yr,""),(o=n.trim())&&(o="  "+o+"\n")}return o&&(e.selector&&(r+=e.selector+" {\n"),r+=o,e.selector&&(r+="}\n\n")),r}(t,Or)):""}function jr(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=ir(t.textContent)),t.__cssRules||null}function Lr(t){return!!t.parent&&t.parent.type===lr}function Rr(t,e,n,r){if(t){var o=!1,i=t.type;if(r&&i===fr){var a=t.selector.match(Nr);a&&(window.matchMedia(a[1]).matches||(o=!0))}if(i===cr?e(t):n&&i===lr?n(t):i===dr&&(o=!0),(t=t.rules)&&!o)for(o=0,i=t.length,a=void 0;o<i&&(a=t[o]);o++)Rr(a,e,n,r)}}function Ir(t,e,n,r){var o=document.createElement("style");return e&&o.setAttribute("scope",e),o.textContent=t,$r(o,n,r),o}var Fr=null;function Br(t){t=document.createComment(" Shady DOM styles for "+t+" ");var e=document.head;return e.insertBefore(t,(Fr?Fr.nextSibling:null)||e.firstChild),Fr=t}function $r(t,e,n){(e=e||document.head).insertBefore(t,n&&n.nextSibling||e.firstChild),Fr?t.compareDocumentPosition(Fr)===Node.DOCUMENT_POSITION_PRECEDING&&(Fr=t):Fr=t}function zr(t,e){for(var n=0,r=t.length;e<r;e++)if("("===t[e])n++;else if(")"===t[e]&&0==--n)return e;return-1}function qr(t,e){wr?t.setAttribute("class",e):window.ShadyDOM.nativeMethods.setAttribute.call(t,"class",e)}var Ur=window.ShadyDOM&&window.ShadyDOM.wrap||function(t){return t};function Hr(t){var e=t.localName,n="";return e?-1<e.indexOf("-")||(n=e,e=t.getAttribute&&t.getAttribute("is")||""):(e=t.is,n=t.extends),{is:e,M:n}}function Yr(t){for(var e=[],n="",r=0;0<=r&&r<t.length;r++)if("("===t[r]){var o=zr(t,r);n+=t.slice(r,o+1),r=o}else","===t[r]?(e.push(n),n=""):n+=t[r];return n&&e.push(n),e}function Wr(t){if(void 0!==Dr)return Dr;if(void 0===t.__cssBuild){var e=t.getAttribute("css-build");if(e)t.__cssBuild=e;else{if(""!==(e=(e="template"===t.localName?t.content.firstChild:t.firstChild)instanceof Comment&&"css-build"===(e=e.textContent.trim().split(":"))[0]?e[1]:"")){var n="template"===t.localName?t.content.firstChild:t.firstChild;n.parentNode.removeChild(n)}t.__cssBuild=e}}return t.__cssBuild||""}function Gr(t){return!(""===(t=void 0===t?"":t)||!Or)&&(wr?"shadow"===t:"shady"===t)}function Vr(){}function Jr(t,e,n){var r;if(e.nodeType===Node.ELEMENT_NODE&&n(e),r="template"===e.localName?(e.content||e._content||e).childNodes:e.children||e.childNodes)for(e=0;e<r.length;e++)Jr(t,r[e],n)}function Kr(t,e,n){if(e)if(t.classList)n?(t.classList.remove("style-scope"),t.classList.remove(e)):(t.classList.add("style-scope"),t.classList.add(e));else if(t.getAttribute){var r=t.getAttribute("class");n?r&&qr(t,e=r.replace("style-scope","").replace(e,"")):qr(t,(r?r+" ":"")+"style-scope "+e)}}function Zr(t,e,n){Jr(po,t,function(t){Kr(t,e,!0),Kr(t,n)})}function Qr(t,e){Jr(po,t,function(t){Kr(t,e||"",!0)})}function Xr(t,e,n,r,o){var i,a,s,u,c,l,f=po;return""===(o=void 0===o?"":o)&&(wr||"shady"===(void 0===r?"":r)?o=Ar(e,n):(t=Hr(t),i=f,a=e,s=t.is,u=t.M,c=n,l=to(s,u),s=s?"."+s:"",o=Ar(a,function(t){t.c||(t.selector=t.j=eo(i,t,i.b,s,l),t.c=!0),c&&c(t,s,l)})+"\n\n")),o.trim()}function to(t,e){return e?"[is="+t+"]":t}function eo(t,e,n,r,o){var i=Yr(e.selector);if(!Lr(e)){e=0;for(var a=i.length,s=void 0;e<a&&(s=i[e]);e++)i[e]=n.call(t,s,r,o)}return i.filter(function(t){return!!t}).join(",")}function no(t){return t.replace(io,function(t,e,n){return-1<n.indexOf("+")?n=n.replace(/\+/g,"___"):-1<n.indexOf("___")&&(n=n.replace(/___/g,"+")),":"+e+"("+n+")"})}function ro(t,e){t=t.split(/(\[.+?\])/);for(var n=[],r=0;r<t.length;r++)if(1==r%2)n.push(t[r]);else{var o=t[r];""===o&&r===t.length-1||((o=o.split(":"))[0]+=e,n.push(o.join(":")))}return n.join("")}function oo(t){":root"===t.selector&&(t.selector="html")}Vr.prototype.b=function(t,e,n){var r=!1;t=t.trim();var o=io.test(t);o&&(t=no(t=t.replace(io,function(t,e,n){return":"+e+"("+n.replace(/\s/g,"")+")"})));var i,a,s=ho.test(t);if(s){var u=function(t){for(var e,n=[];e=t.match(ho);){var r=e.index,o=zr(t,r);if(-1===o)throw Error(e.input+" selector missing ')'");e=t.slice(r,o+1),t=t.replace(e,"î"),n.push(e)}return{ha:t,matches:n}}(t);t=u.ha,u=u.matches}return t=(t=t.replace(uo,":host $1")).replace(ao,function(t,o,i){return r||(t=function(t,e,n,r){var o=t.indexOf("::slotted");if(0<=t.indexOf(":host")?(a=t,s=r,u=a.match(co),t=(u=u&&u[2].trim()||"")?u[0].match(so)?a.replace(co,function(t,e,n){return s+n}):u.split(so)[0]===s?u:"should_not_match":a.replace(":host",s)):0!==o&&(t=n?ro(t,n):t),n=!1,0<=o&&(e="",n=!0),n){var i=!0;n&&(t=t.replace(lo,function(t,e){return" > "+e}))}var a,s,u;return{value:t=t.replace(fo,function(t,e,n){return'[dir="'+n+'"] '+e+", "+e+'[dir="'+n+'"]'}),Ca:e,stop:i}}(i,o,e,n),r=r||t.stop,o=t.Ca,i=t.value),o+i}),s&&(i=u,a=t.split("î"),t=i.reduce(function(t,e,n){return t+e+a[n+1]},a[0])),o&&(t=no(t)),t},Vr.prototype.c=function(t){return t.match(":host")?"":t.match("::slotted")?this.b(t,":not(.style-scope)"):ro(t.trim(),":not(.style-scope)")},e.Object.defineProperties(Vr.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var io=/:(nth[-\w]+)\(([^)]+)\)/,ao=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,so=/[[.:#*]/,uo=/^(::slotted)/,co=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,lo=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,fo=/(.*):dir\((?:(ltr|rtl))\)/,ho=/:(?:matches|any|-(?:webkit|moz)-any)/,po=new Vr;function vo(t,e,n,r,o){this.A=t||null,this.b=e||null,this.fa=n||[],this.o=null,this.cssBuild=o||"",this.M=r||"",this.a=this.s=this.w=null}function mo(t){return t?t.__styleInfo:null}function go(t,e){return t.__styleInfo=e}function yo(t){var e=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return e&&e.call(this,t)}vo.prototype.c=function(){return this.A},vo.prototype._getStyleRules=vo.prototype.c;var _o=navigator.userAgent.match("Trident");function bo(){}function wo(t){if(!t.i){var e={},n={};So(t,n)&&(e.v=n,t.rules=null),e.cssText=t.parsedCssText.replace(Tr,"").replace(Mr,""),t.i=e}}function So(t,e){var n=t.i;if(!n){n=t.parsedCssText;for(var r;t=Mr.exec(n);)"inherit"===(r=(t[2]||t[3]).trim())&&"unset"===r||(e[t[1].trim()]=r),r=!0;return r}if(n.v)return Object.assign(e,n.v),!0}function Eo(t,e,n){return e&&(e=0<=e.indexOf(";")?Oo(t,e,n):function t(e,n){var r=e.indexOf("var(");if(-1===r)return n(e,"","","");var o=zr(e,r+3),i=e.substring(r+4,o);return r=e.substring(0,r),e=t(e.substring(o+1),n),-1===(o=i.indexOf(","))?n(r,i.trim(),"",e):n(r,i.substring(0,o).trim(),i.substring(o+1).trim(),e)}(e,function(e,r,o,i){return r?((r=Eo(t,n[r],n))&&"initial"!==r?"apply-shim-inherit"===r&&(r="inherit"):r=Eo(t,n[o]||o,n)||o,e+(r||"")+i):e+i})),e&&e.trim()||""}function Oo(t,e,n){e=e.split(";");for(var r,o,i=0;i<e.length;i++)if(r=e[i]){if(Cr.lastIndex=0,o=Cr.exec(r))r=Eo(t,n[o[1]],n);else if(-1!==(o=r.indexOf(":"))){var a=r.substring(o);a=Eo(t,a=a.trim(),n)||a,r=r.substring(0,o)+a}e[i]=r&&r.lastIndexOf(";")===r.length-1?r.slice(0,-1):r||""}return e.join(";")}function Do(t,e,n){var r={},o={};return Rr(e,function(e){!function(t,e,n,r){if(e.i||wo(e),e.i.v){var o=Hr(t);t=o.is,o=o.M,o=t?to(t,o):"html";var i=e.parsedSelector,a=":host > *"===i||"html"===i,s=0===i.indexOf(":host")&&!a;"shady"===n&&(s=!(a=i===o+" > *."+o||-1!==i.indexOf("html"))&&0===i.indexOf(o)),(a||s)&&(n=o,s&&(e.j||(e.j=eo(po,e,po.b,t?"."+t:"",o)),n=e.j||o),r({ha:n,Ia:s,Za:a}))}}(t,e,n,function(n){yo.call(t._element||t,n.ha)&&(n.Ia?So(e,r):So(e,o))})},null,!0),{Ra:o,Ha:r}}function Mo(t,e,n,r){var o=Hr(e),i=to(o.is,o.M),a=new RegExp("(?:^|[^.#[:])"+(e.extends?"\\"+i.slice(0,-1)+"\\]":i)+"($|[.:[\\s>+~])"),s=mo(e);o=s.A,s=s.cssBuild;var u=function(t,e){t=t.b;var n={};if(!wr&&t)for(var r=0,o=t[r];r<t.length;o=t[++r]){var i=o,a=e;i.f=new RegExp("\\b"+i.keyframesName+"(?!\\B|-)","g"),i.a=i.keyframesName+"-"+a,i.j=i.j||i.selector,i.selector=i.j.replace(i.keyframesName,i.a),n[o.keyframesName]=Co(o)}return n}(o,r);return Xr(e,o,function(e){var o="";if(e.i||wo(e),e.i.cssText&&(o=Oo(t,e.i.cssText,n)),e.cssText=o,!wr&&!Lr(e)&&e.cssText){var s=o=e.cssText;if(null==e.na&&(e.na=Pr.test(o)),e.na)if(null==e.U)for(var c in e.U=[],u)o!==(s=(s=u[c])(o))&&(o=s,e.U.push(c));else{for(c=0;c<e.U.length;++c)o=(s=u[e.U[c]])(o);s=o}e.cssText=s,e.j=e.j||e.selector,o="."+r,s=0;for(var l=(c=Yr(e.j)).length,f=void 0;s<l&&(f=c[s]);s++)c[s]=f.match(a)?f.replace(i,o):o+" "+f;e.selector=c.join(",")}},s)}function Co(t){return function(e){return e.replace(t.f,t.a)}}function xo(t,e){var n=Po,r=jr(t);t.textContent=Ar(r,function(t){var r=t.cssText=t.parsedCssText;t.i&&t.i.cssText&&(r=r.replace(vr,"").replace(mr,""),t.cssText=Oo(n,r,e))})}e.Object.defineProperties(bo.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var Po=new bo,No={},To=window.customElements;if(To&&!wr&&!Er){var ko=To.define;To.define=function(t,e,n){No[t]||(No[t]=Br(t)),ko.call(To,t,e,n)}}function Ao(){this.cache={}}function jo(){}Ao.prototype.store=function(t,e,n,r){var o=this.cache[t]||[];o.push({v:e,styleElement:n,s:r}),100<o.length&&o.shift(),this.cache[t]=o};var Lo=new RegExp(po.a+"\\s*([^\\s]*)");function Ro(t){return(t=(t.classList&&t.classList.value?t.classList.value:t.getAttribute("class")||"").match(Lo))?t[1]:""}function Io(t){var e=Ur(t).getRootNode();return e===t||e===t.ownerDocument?"":(t=e.host)?Hr(t).is:""}function Fo(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.target!==document.documentElement&&n.target!==document.head)for(var r=0;r<n.addedNodes.length;r++){var o=n.addedNodes[r];if(o.nodeType===Node.ELEMENT_NODE){var i=o.getRootNode(),a=Ro(o);if(a&&i===o.ownerDocument&&("style"!==o.localName&&"template"!==o.localName||""===Wr(o)))Qr(o,a);else if(i instanceof ShadowRoot)for((i=Io(o))!==a&&Zr(o,a,i),o=window.ShadyDOM.nativeMethods.querySelectorAll.call(o,":not(."+po.a+")"),a=0;a<o.length;a++){var s=Io(i=o[a]);s&&Kr(i,s)}}}}}if(!(wr||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping)){var Bo=new MutationObserver(Fo),$o=function(t){Bo.observe(t,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)$o(document);else{var zo=function(){$o(document.body)};window.HTMLImports?window.HTMLImports.whenReady(zo):requestAnimationFrame(function(){if("loading"===document.readyState){var t=function(){zo(),document.removeEventListener("readystatechange",t)};document.addEventListener("readystatechange",t)}else zo()})}jo=function(){Fo(Bo.takeRecords())}}var qo=jo,Uo={},Ho=Promise.resolve();function Yo(t){(t=Uo[t])&&(t._applyShimCurrentVersion=t._applyShimCurrentVersion||0,t._applyShimValidatingVersion=t._applyShimValidatingVersion||0,t._applyShimNextVersion=(t._applyShimNextVersion||0)+1)}function Wo(t){return t._applyShimCurrentVersion===t._applyShimNextVersion}var Go={},Vo=new Ao;function Jo(){this.l={},this.c=document.documentElement;var t=new or;t.rules=[],this.f=go(this.c,new vo(t)),this.g=!1,this.b=this.a=null}function Ko(t){var e=Hr(t),n=e.is;e=e.M;var r=No[n]||null,o=Uo[n];if(o)return go(t,e=new vo(n=o._styleAst,r,o.a,e,o=Wr(o))),e}function Zo(t){var e;!t.a&&window.ShadyCSS&&window.ShadyCSS.ApplyShim&&(t.a=window.ShadyCSS.ApplyShim,t.a.invalidCallback=Yo),!(e=t).b&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(e.b=window.ShadyCSS.CustomStyleInterface,e.b.transformCallback=function(t){e.ra(t)},e.b.validateCallback=function(){requestAnimationFrame(function(){(e.b.enqueued||e.g)&&e.flushCustomStyles()})})}function Qo(t,e,n){var r,o=Hr(e).is;if(n.o){var i,a=n.o;for(i in a)null===i?e.style.removeProperty(i):e.style.setProperty(i,a[i])}!(a=Uo[o])&&e!==t.c||a&&""!==Wr(a)||!a||!a._style||Wo(a)||((Wo(a)||a._applyShimValidatingVersion!==a._applyShimNextVersion)&&(Zo(t),t.a&&t.a.transformRules(a._styleAst,o),a._style.textContent=Xr(e,n.A),(r=a)._applyShimValidatingVersion=r._applyShimNextVersion,r._validating||(r._validating=!0,Ho.then(function(){r._applyShimCurrentVersion=r._applyShimNextVersion,r._validating=!1}))),wr&&(t=e.shadowRoot)&&(t=t.querySelector("style"))&&(t.textContent=Xr(e,n.A)),n.A=a._styleAst)}function Xo(t,e){return(e=Ur(e).getRootNode().host)?mo(e)||Ko(e)?e:Xo(t,e):t.c}function ti(t,e,n){var r,o,i,a,s=Xo(t,e),u=mo(s),c=u.w;for(var l in s===t.c||c||(ti(t,s,u),c=u.w),t=Object.create(c||null),s=Do(e,n.A,n.cssBuild),e=(r=u.A,o=e,i={},a=[],Rr(r,function(t){t.i||wo(t);var e=t.j||t.parsedSelector;o&&t.i.v&&e&&yo.call(o,e)&&(So(t,i),t=t.index,e=parseInt(t/32,10),a[e]=(a[e]||0)|1<<t%32)},null,!0),{v:i,key:a}).v,Object.assign(t,s.Ha,e,s.Ra),e=n.o)((u=e[l])||0===u)&&(t[l]=u);for(l=Po,e=Object.getOwnPropertyNames(t),u=0;u<e.length;u++)t[s=e[u]]=Eo(l,t[s],t);n.w=t}(t=Jo.prototype).flush=function(){qo()},t.Fa=function(t){return jr(t)},t.Va=function(t){return Ar(t)},t.prepareTemplate=function(t,e,n){this.prepareTemplateDom(t,e),this.prepareTemplateStyles(t,e,n)},t.prepareTemplateStyles=function(t,e,n){if(!t._prepared&&!Er){wr||No[e]||(No[e]=Br(e)),t._prepared=!0,t.name=e,t.extends=n,Uo[e]=t;var r=Wr(t),o=Gr(r);n={is:e,extends:n};for(var i=[],a=t.content.querySelectorAll("style"),s=0;s<a.length;s++){var u=a[s];if(u.hasAttribute("shady-unscoped")){if(!wr){var c=u.textContent;kr.has(c)||(kr.add(c),c=u.cloneNode(!0),document.head.appendChild(c)),u.parentNode.removeChild(u)}}else i.push(u.textContent),u.parentNode.removeChild(u)}i=i.join("").trim()+(Go[e]||""),Zo(this),o||((a=!r)&&(a=Cr.test(i)||Mr.test(i),Cr.lastIndex=0,Mr.lastIndex=0),s=ir(i),a&&Or&&this.a&&this.a.transformRules(s,e),t._styleAst=s),a=[],Or||(a=function(t){var e={},n=[],r=0;for(var o in Rr(t,function(t){wo(t),t.index=r++,t=t.i.cssText;for(var n;n=xr.exec(t);){var o=n[1];":"!==n[2]&&(e[o]=!0)}},function(t){n.push(t)}),t.b=n,t=[],e)t.push(o);return t}(t._styleAst)),a.length&&!Or||(s=wr?t.content:null,e=No[e]||null,r=(r=Xr(n,t._styleAst,null,r,o?i:"")).length?Ir(r,n.is,s,e):null,t._style=r),t.a=a}},t.Qa=function(t,e){Go[e]=t.join(" ")},t.prepareTemplateDom=function(t,e){if(!Er){var n=Wr(t);wr||"shady"===n||t._domPrepared||(t._domPrepared=!0,r=t.content,o=e,Jr(po,r,function(t){Kr(t,o||"")}))}var r,o},t.flushCustomStyles=function(){if(!Er&&(Zo(this),this.b)){var t=this.b.processStyles();if(this.b.enqueued&&!Gr(this.f.cssBuild)){if(Or){if(!this.f.cssBuild)for(var e=0;e<t.length;e++){var n=this.b.getStyleForCustomStyle(t[e]);if(n&&Or&&this.a){var r=jr(n);Zo(this),this.a.transformRules(r),n.textContent=Ar(r)}}}else{for(ti(this,this.c,this.f),e=0;e<t.length;e++)(n=this.b.getStyleForCustomStyle(t[e]))&&xo(n,this.f.w);this.g&&this.styleDocument()}this.b.enqueued=!1}}},t.styleElement=function(t,e){if(Er){if(e){mo(t)||go(t,new vo(null));var n=mo(t);n.o=n.o||{},Object.assign(n.o,e),Qo(this,t,n)}}else if(n=mo(t)||Ko(t))if(t!==this.c&&(this.g=!0),e&&(n.o=n.o||{},Object.assign(n.o,e)),Or)Qo(this,t,n);else if(this.flush(),ti(this,t,n),n.fa&&n.fa.length){var r;e=Hr(t).is;t:{if(r=Vo.cache[e])for(var o=r.length-1;0<=o;o--){var i=r[o];e:{for(var a=n.fa,s=0;s<a.length;s++){var u=a[s];if(i.v[u]!==n.w[u]){a=!1;break e}}a=!0}if(a){r=i;break t}}r=void 0}a=r?r.styleElement:null,o=n.s,(i=r&&r.s)||(i=e+"-"+(i=this.l[e]=(this.l[e]||0)+1)),n.s=i,i=n.s,s=Po,s=a?a.textContent||"":Mo(s,t,n.w,i);var c=(u=mo(t)).a;c&&!wr&&c!==a&&(c._useCount--,0>=c._useCount&&c.parentNode&&c.parentNode.removeChild(c)),wr?u.a?(u.a.textContent=s,a=u.a):s&&(a=Ir(s,i,t.shadowRoot,u.b)):a?a.parentNode||(_o&&-1<s.indexOf("@media")&&(a.textContent=s),$r(a,null,u.b)):s&&(a=Ir(s,i,null,u.b)),a&&(a._useCount=a._useCount||0,u.a!=a&&a._useCount++,u.a=a),i=a,wr||(a=n.s,u=s=t.getAttribute("class")||"",o&&(u=s.replace(new RegExp("\\s*x-scope\\s*"+o+"\\s*","g")," ")),s!==(u+=(u?" ":"")+"x-scope "+a)&&qr(t,u)),r||Vo.store(e,n.w,i,n.s)}},t.styleDocument=function(t){this.styleSubtree(this.c,t)},t.styleSubtree=function(t,e){var n=Ur(t),r=n.shadowRoot;if((r||t===this.c)&&this.styleElement(t,e),t=r&&(r.children||r.childNodes))for(n=0;n<t.length;n++)this.styleSubtree(t[n]);else if(n=n.children||n.childNodes)for(t=0;t<n.length;t++)this.styleSubtree(n[t])},t.ra=function(t){var e=this,n=Wr(t);if(n!==this.f.cssBuild&&(this.f.cssBuild=n),!Gr(n)){var r=jr(t);Rr(r,function(t){if(wr)oo(t);else{var r=po;t.selector=t.parsedSelector,oo(t),t.selector=t.j=eo(r,t,r.c,void 0,void 0)}Or&&""===n&&(Zo(e),e.a&&e.a.transformRule(t))}),Or?t.textContent=Ar(r):this.f.A.rules.push(r)}},t.getComputedStyleValue=function(t,e){var n;return Or||(n=(mo(t)||mo(Xo(this,t))).w[e]),(n=n||window.getComputedStyle(t).getPropertyValue(e))?n.trim():""},t.Ua=function(t,e){var n=Ur(t).getRootNode();if(e=e?e.split(/\s/):[],!(n=n.host&&n.host.localName)){var r=t.getAttribute("class");if(r){r=r.split(/\s/);for(var o=0;o<r.length;o++)if(r[o]===po.a){n=r[o+1];break}}}n&&e.push(po.a,n),Or||(n=mo(t))&&n.s&&e.push(Po.a,n.s),qr(t,e.join(" "))},t.Ba=function(t){return mo(t)},t.Ta=function(t,e){Kr(t,e)},t.Wa=function(t,e){Kr(t,e,!0)},t.Sa=function(t){return Io(t)},t.Da=function(t){return Ro(t)},Jo.prototype.flush=Jo.prototype.flush,Jo.prototype.prepareTemplate=Jo.prototype.prepareTemplate,Jo.prototype.styleElement=Jo.prototype.styleElement,Jo.prototype.styleDocument=Jo.prototype.styleDocument,Jo.prototype.styleSubtree=Jo.prototype.styleSubtree,Jo.prototype.getComputedStyleValue=Jo.prototype.getComputedStyleValue,Jo.prototype.setElementClass=Jo.prototype.Ua,Jo.prototype._styleInfoForNode=Jo.prototype.Ba,Jo.prototype.transformCustomStyleForDocument=Jo.prototype.ra,Jo.prototype.getStyleAst=Jo.prototype.Fa,Jo.prototype.styleAstToString=Jo.prototype.Va,Jo.prototype.flushCustomStyles=Jo.prototype.flushCustomStyles,Jo.prototype.scopeNode=Jo.prototype.Ta,Jo.prototype.unscopeNode=Jo.prototype.Wa,Jo.prototype.scopeForNode=Jo.prototype.Sa,Jo.prototype.currentScopeForNode=Jo.prototype.Da,Jo.prototype.prepareAdoptedCssText=Jo.prototype.Qa,Object.defineProperties(Jo.prototype,{nativeShadow:{get:function(){return wr}},nativeCss:{get:function(){return Or}}});var ei,ni,ri=new Jo;window.ShadyCSS&&(ei=window.ShadyCSS.ApplyShim,ni=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:ri,prepareTemplate:function(t,e,n){ri.flushCustomStyles(),ri.prepareTemplate(t,e,n)},prepareTemplateDom:function(t,e){ri.prepareTemplateDom(t,e)},prepareTemplateStyles:function(t,e,n){ri.flushCustomStyles(),ri.prepareTemplateStyles(t,e,n)},styleSubtree:function(t,e){ri.flushCustomStyles(),ri.styleSubtree(t,e)},styleElement:function(t){ri.flushCustomStyles(),ri.styleElement(t)},styleDocument:function(t){ri.flushCustomStyles(),ri.styleDocument(t)},flushCustomStyles:function(){ri.flushCustomStyles()},getComputedStyleValue:function(t,e){return ri.getComputedStyleValue(t,e)},nativeCss:Or,nativeShadow:wr,cssBuild:Dr,disableRuntime:Er},ei&&(window.ShadyCSS.ApplyShim=ei),ni&&(window.ShadyCSS.CustomStyleInterface=ni);var oi=window.customElements,ii=window.HTMLImports,ai=window.HTMLTemplateElement;if(window.WebComponents=window.WebComponents||{},oi&&oi.polyfillWrapFlushCallback){var si,ui=function(){if(si){ai.C&&ai.C(window.document);var t=si;return si=null,t(),!0}},ci=ii.whenReady;oi.polyfillWrapFlushCallback(function(t){si=t,ci(ui)}),ii.whenReady=function(t){ci(function(){ui()?ii.whenReady(t):t()})}}ii.whenReady(function(){requestAnimationFrame(function(){window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})});var li=document.createElement("style");li.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var fi=document.querySelector("head");fi.insertBefore(li,fi.firstChild)}).call(this),function(t){var e=t.libframesocket;if(e)1!==e.version&&console.warn("libframesocket override",e.version);else{var n,r=function(){},o=Object.defineProperty,i=function(t,e){for(var n in e)o(t,n,{enumerable:!0,value:e[n]});return t},a=function(t,e,n,r,o){return"function"==typeof t[e]?t[e].call(t,n,r,o):null},s=r,u=0,c=1,l=2,f=3,d={CONNECTING:u,OPEN:c,CLOSING:l,CLOSED:f},h="active",p="onclient",v="close",m="onopen",g="on"+v,y="onerror",_="message",b="on"+_,w="unload",S="libframesocket",E="FIN",O="SYN",D="SYN-ACK",M=15e3,C=33,x=t.addEventListener,P=t.removeEventListener,N=t.setTimeout,T=t.clearTimeout,k={type:E};i(F.prototype,d),i(B.prototype,d),i(t,{libframesocket:i(o({},"timeout",{get:function(){return M},set:function(t){t=parseInt(t),!isNaN(t)&&t>C&&(M=t)}}),{version:1,Server:$(F),Socket:$(B)})})}function A(t){t[b]=t[g]=t[m]=t[y]=t[p]=null}function j(t,e,n,r){t.postMessage(e,n,r)}function L(t){var e=new MessageChannel;return e.port1[b]=t,e}function R(t,e,r,o){j(t,e,r?[L(function(t){r.call(o||this,t)}).port2]:n)}function I(t,e,n,r){R(t,{type:_,data:e},n,r)}function F(t){var e=this,n=u,r={},s=[],d={};function y(t){delete d[t],s.splice(s.indexOf(parseInt(t)),1)}function M(t){var n=t.id,o=t[h];o?r[n]=t:delete r[n],a(e,p,n,o,t.args)}function C(t){return z(t,this.id)}function L(t){var n=this.id,o=(t.ports||[])[0],s=r[n],u=t.data,c=u.type;if(s||(s={}),c===_){var l=JSON.parse(JSON.stringify(s));l.send=C;var f=i({},{data:u.data,from:this.id,target:l,type:c});o&&i(f,{reply:function(t){j(o,t)}}),a(e,b,f)}else if(c===E){s[h]=!1;var p=d[n];p&&(a(p,v),y(n)),o&&j(o,k),null==s.id&&(s.id=n),M(s)}}function F(e){if(e.data&&"object"==typeof e.data){var n=e.data,r=e.ports?e.ports[0]:null;if(r&&n.type===S&&n.s===O&&n.c===t){r.id=""+function(){for(var t=s.length,e=0;e<t;e++)s[e]!==e&&(t=e);return s[t]=t,t}(),r.req=Date.now(),r[b]=L,r.args=n.a,d[r.id]=r;var o=N(function(){delete d[r.id]},1e3);R(r,{type:D,id:r.id},function(t){if(t.data===D){T(o);var e={active:!0,args:r.args,id:r.id};delete r.args,t.ports[0].postMessage(D),M(e)}a(this,v)})}}}function B(){for(var t in r={},d)a(d[t],v),y(t);d={},n=f,a(e,g),A(e)}function $(){if(n<l){for(var t in n=l,d)j(d[t],k);P(_,F),P(w,$),N(B)}}function z(t,n,o){var i=r[n],a=d[n];i&&i[h]&&a&&I(a,t,o,e)}x(_,F),x(w,$),o(i(e,{send:z,close:$,url:t,channel:t,isClientActive:function(t){var e=r[t];return!!e&&e[h]}}),"readyState",{get:function(){return n}}),N(function(){n=c,a(e,m)})}function B(e,n,d){if(null==e)throw new Error("url is null");var h,p,F=this,B=!1,$=e.split("?"),z=$[0],q=$[1],U=d||{},H=u;function Y(t){G(),a(F,y,t),A(F)}function W(){P(w,G),H=f,h&&(a(h,v),h=null),a(F,g)}function G(){if(H<l){H=l,p=T(p);var t=L(W);h?(j(h,k,[t.port2]),B&&W()):N(W)}}function V(t){j(t,{type:S,s:O,c:z,a:q},"*",[L(function(t){(function(t){var e=t.data.type;if(e===E)H===u?Y({why:"Server gone"}):(h&&(a(h,v),h=null),G());else if(e===D){var n=(t.ports||[])[0];h||H!==u?j(this,E):(h=this,i(F,{serverid:t.data.id}),R(n,D,function(){p=T(p),H=c,a(F,m)}),x(w,function(){B=!0,G()}))}else e===_?H===c&&a(F,b,t.data):s("unhandled message",e)}).call(this,t)}).port2])}function J(t){for(var e=t.frames,n=0;n<e.length;n++)V(e[n]),J(e[n])}var K=parseInt(U.timeout),Z=isNaN(K)?M:Math.max(K,C);p=N(function(){Y({why:"timed out"})},Z),N(function(){var e=0,n=U.maxDepth;if(H===u)for(var o,i=t,a=U.children?J:r;i&&i!==o;){e++,V(o=i);try{a(i)}catch(t){}try{i=null==n||++e<n?o.parent:o}catch(t){return}}}),o(i(F,{send:function(t,e){H===c&&I(h,t,e,F)},close:G,url:e,channel:z,args:q}),"readyState",{get:function(){return H}})}function $(t){return i(function(e,n,r){return new t(e,n,r)},d)}}(this),function(t){function e(t){return"function"==typeof t}function n(t,e,n,r,o){e||console.error("no method");var i,a,s={"json-rpc":"2.0",method:e,params:n};return r=isNaN(r)?5e3:r,null!=o?(i=$.Deferred(),s.id=o,a=setTimeout(function(){i.reject({payload:s,reason:"timed out"})},r)):i=$.when({}),t.send(s,i?function(t){if(a=clearTimeout(a),null!=o){var e=t.data,n=e.error,r=e.result;n?i.reject({payload:s,error:n}):i.resolve(r)}}:$.noop),i}var r=1;libframesocket.RPC={request:function(t,e,o,i){return n(t,e,o,i,r++)},notify:function(t,e,r,o){return n(t,e,r,o)},bind:function(t,n){n.close=function(){return t.close()},t.onmessage=function(t){var r=t.data,o=t.reply||$.noop;if(r){var i="on"+r.method.toLowerCase(),a=n[i],s=function(t){o({error:t,request:r})},u=function(t){o({result:t})};if(e(a)){var c;try{c=a.apply(n,(r.params||[]).concat({clientid:t.from}))}catch(t){console.error(t),s(t)}c&&e(c.then)?(c.then(u),e(c.fail)&&c.fail(s)):u(c)}else s("unhandled")}}},validate:function(t){return"2.0"===t["json-rpc"]}}}(window),function(t){var e="channel.handshake.ping",n="channel.client.leave",r="channel.server.leave",o="channel.handshake.pong",i="server",a=1,s=2,u=3,c="onclient",l="onopen",f="onclose",d="onmessage",h="message",p="FrameSocket",v=!1,m={connect:1e4,heartbeat:1e4};function g(t,e,n,r,o){try{if(t.closed)return!1}catch(t){return!1}t.postMessage({type:p,payload:r,header:{channel:n,to:o,from:e}},"*")}function y(t,e,n,r,o){return t[e]&&t[e].call(t,n,r,o)}function _(e,n,r,o){var i=this;function a(t){var e,a,s,u,c,l=t.data;try{if((l="string"==typeof l?JSON.parse(l):l).type!==p)return;e=l.header,a=l.payload}catch(t){return}if((u=o((s=e).channel),c=s.to===r,u&&c)&&(!n||!n.apply(i,[t,a,e]))){var f={};for(var h in t)f[h]=t[h];f.data=a,y(i,d,f,a,e)}}return function(t,e){for(var n in e)Object.defineProperty(t,n,{value:e[n]})}(i,{channel:e,url:e,id:r}),i.send=function(t,n,o){return g(n,r,e,t,o)},o=o||function(t){return t===e},i.bind=function(){t.addEventListener(h,a,!1)},i.unbind=function(){t.removeEventListener(h,a,!1)},null==e?i:(i.bind(),i)}t.FrameSocketServer=function(t){var a=this,s={};function u(t){return t.active?s[t.id]=t:delete s[t.id],y(a,c,t)}var l=setInterval(function(){for(var t in s){var e=s[t],n=!1;try{n=e.source.closed}catch(t){n=!0}n&&(e.active=!1,u(e))}},500);_.call(a,t,function(t,r,s){switch(r.ctrl){case e:delete r.from,g(t.source,i,a.channel,{ctrl:o},s.from);case n:u({id:s.from,args:r.args,source:t.source,active:r.ctrl===e})}},i),a.getClients=function(){return s},a.close=function(){for(var t in a.unbind(),l=clearInterval(l),s){var e=s[t];a.send({ctrl:r},e.source,t)}}},t.FrameSocket=function(c,d){var h,p,m=function(){var t,e,n="";for(t=0;t<32;t++)e=16*Math.random()|0,8!==t&&12!==t&&16!==t&&20!==t||(n+="-"),n+=(12===t?4:16===t?3&e|8:e).toString(16);return n}(),b=this,w=c.split("?"),S=w[0],E=w[1],O=0,D=d||t.FrameSocket.connectTimeout;Object.defineProperty(b,"readyState",{value:O});var M=t.setTimeout(function(){O=u,y(b,"onerror")},D);function C(){O=u,h=void 0,y(b,f)}function x(){p=clearInterval(p),b.unbind(),b.send({ctrl:n}),O=s,setTimeout(C,1)}function P(){var t=!h;if(!t)try{t=h.closed}catch(e){t=!0}t&&x()}function N(t){if(v)for(var n=0;n<t.frames.length;n++){var r=t.frames[n];g(r,m,b.channel,{ctrl:e,args:E},i),N(r)}}b.close=x,_.call(b,S,function(e,n){return O>a||(n.ctrl===o?(null==h&&(h=e.source,p=setInterval(P,FrameSocket.heartbeat)),M=t.clearTimeout(M),O=a,y(b,l),!0):n.ctrl===r?(x(),!0):void 0)},m),b.send=function(t){return O===a&&g(h,m,S,t,i)},function(){for(var n,r=t;r&&r!==n;){g(r,m,b.channel,{ctrl:e,args:E},i),n=r,N(r);try{r=n.parent}catch(t){return}}}()},Object.defineProperties(FrameSocket,{connectTimeout:{set:function(t){t=parseInt(t),!isNaN(t)&&t>66&&(m.connect=t)},get:function(){return m.connect}},heartbeat:{set:function(t){t=parseInt(t),!isNaN(t)&&t>66&&(m.heartbeat=t)},get:function(){return m.heartbeat}}})}(window),function(t){var e="missing Deferred",n="no task",r="jsonrpc",o="json-rpc",i="2.0",a="method",s="params",u="result",c="error",l=3e4;function f(t,e,n,l,f){var d={id:t};return d[r]=i,d[o]=i,d[a]=e,d[s]=n,d[u]=l,d[c]=f,JSON.stringify(d)}var d={error:$.noop,debug:$.noop,trace:$.noop,warn:$.noop,log:$.noop};function h(){for(var t=Object.keys(arguments),e=new Array(t.length),n=0;n<t.length;n++)e[n]=arguments[t[n]];return e}function p(t,e){["onopen","onmessage","onclose","onerror","onclient"].forEach(function(n){var r=e[n];e[n]=function(){t[n]&&t[n].apply(t,arguments),r&&r.apply(e,arguments)}})}function v(t){var d=t.onmessage,h={},m={},g=t.send,y=this,_=0;function b(t){var e=h[t];e&&clearTimeout(e.timeout),delete h[t]}function w(t){var r=h[t];if(r){if(r.deferred)return r.deferred;y.log.error(e,t)}else y.log.error(n,t)}function S(t,e,n){var r=w(t);b(t),r&&r.reject({error:e,rpc:n})}function E(t,e,n,r,o){g(f(n,void 0,void 0,r,o),t,e)}y.log=v.log,y.timeout=l,Object.defineProperty(y,"url",{value:t.url}),y.request=function(t,e,n,r){var o=++_,i=h[o];i&&S(o,"Overwriting task",{});var a,s,u,c=f(o,t,e);return i=h[o]={deferred:$.Deferred(),timeout:(a=o,s=c,u=isNaN(y.timeout)?l:y.timeout<=0?1:y.timeout,setTimeout(function(){S(a,"Request timed out ("+u+")",s)},u))},g(c,n,r),$.when(i.deferred)},y.notify=function(t,e,n,r){g(f(void 0,t,e),n,r)},y.register=function(t,e){m[t]=e},t.onmessage=function(e,n,l){var f=e.data;try{f="string"==typeof f?JSON.parse(f):f}catch(t){}l=f.transport=l||{};var p,v,g,_,O=f[a],D=f[c],M=f[u],C=f.id,x=f.from=e.source,P=f[r];if(P||(P=f[o])&&y.log.warn("You are using an non-standard RPC library",o,r),P!==i)d&&d.apply(this,arguments);else if(O){var N=m[O],T=f.respond=null==C?$.noop:$.proxy(E,null,x,l.from,C);if(N)try{var k=f[s]||[];k.push(f),N.apply(y,k)}catch(e){y.log.error("Exception caught running RPC '"+O+"' @ '"+t.channel+"' "+e.toString())}else y.log.error("Method '"+O+"' not found."),D="Unavailable RPC method: "+f.method;void 0!==C&&(M||D)&&T(M,D)}else null!=M||null!=D?null!=C&&(h[C]?null!=D?S(C,D,f):null!=M?(v=M,g=f,_=w(p=C),b(p),_&&_.resolve(v,g)):S(C,"Empty response",f):y.log.error(location.pathname,t.channel,"no task at ",C)):y.log.error("rpc",O,"not found")},p(y,t)}function m(e,n,r){$.map(n,function(n){e.register(n,$.proxy(function(){var t,e,o=h.apply(0,arguments),i=o[o.length-1],a=r()[n];return a?(t=a.apply(this,o),e=i,$.when(t).done(function(t){e.respond(t)}).fail(function(t){e.respond(void 0,t)})):$.Deferred().reject('Method "'+n+'" not found.').promise()},t))})}Object.defineProperty(v,"nolog",{value:d}),v.log=d,v.fromArgs=h,t.RPC=v,t.RPCFacade=function(t,e,n){var r=this,o=new n(t),i=new v(o),a=null;Object.defineProperty(r,"transport",{value:o}),r.request=i.request,r.notify=i.notify,p(r,o),m(i,e,function(){return a}),r.setImpl=function(n){return $.map(e,function(e){$.isFunction(n[e])||v.log.error(t,"requires function '"+e+"'")}),a=n,r},r.configureClient=function(t){return function(t,e,n){function r(r){$.map(n[r]||[],function(n){if(t[n])throw new Error("Function override not implemented ("+n+")");t[n]=function(){return e[r].apply(e,[n].concat([h.apply(0,arguments)]))}})}n=n||{},Object.keys(t),r("request"),r("notify")}(r,i,t),r},r.rpc=i}}(window),function(t,e,n){if(t.libDMB)throw"libDMB already defined";function r(t){return $("<a>").attr({href:t}).get(0)}function o(t){return r(t).href}function i(t){return t.filter(function(t,e,n){return n.indexOf(t)===e})}$.extend(t,{isLocalHost:-1!==["127.0.0.1","localhost"].indexOf(location.hostname)});var a=sessionStorage;var s=t.defineROProperties=function(t,e){for(var n in e)Object.defineProperty(t,n,{value:e[n]});return t};function u(t){return JSON.parse(JSON.stringify(t))}t.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,n){t.setTimeout(e,1e3/60)},s(n.when,{named:function(t,e){return e=e||function(t){return t},$.when.apply($,Object.keys(t).map(function(n){var r=$.Deferred(),o=t[n],i={id:n,item:o};try{$.when(e.call(o,o,n)).done(function(t){i.result=t}).fail(function(t){i.error=t}).always(function(){r.resolve(i)})}catch(t){i.error=t,r.resolve(i)}return r.promise()})).then(function(){return Array.prototype.slice.call(arguments).reduce(function(t,e){return t[e.id]=e,delete e.id,t},{})})}}),s(n.fn,{setClass:function(t,e){return e?this.addClass(t):this.removeClass(t)},getPath:function(){if(1!=this.length)throw"Requires one element.";for(var t,e=this;e.length;){var n=e[0],r=n.localName;if(!r)break;r=r.toLowerCase();var o=e.parent(),i=o.children(r);if(i.length>1){var a=i.index(n),s=$(i[a]).attr("id"),u=$(i[a]).attr("class");s?r="#"+s:u?r="."+u:(r+=":eq("+i.index(n)+")",r=null)}r&&(t=r+(t?" > "+t:"")),e=o}return t}});var c=function(){for(var e,n={},r=t.location.search.substring(1).split("&"),o=decodeURIComponent,i=r.length-1;i>=0;i--)n[o((e=r[i].split("="))[0])]=o(e[1]||"");return s({},n)}();function l(t,e){return r=e,null===(i=null===(n=t)?null:o?(new RegExp("[?&]"+n+"=([^&+]*)","i").exec(o)||[0,r])[1]:null==c[n]?null:c[n])?r:""+i;var n,r,o,i}t.getURLParam=l;var f=function(){var t="av.dmb",e=t+".ts",n=9e5;function r(o,i,a){if(!(this instanceof r))return new r(o,i,a);s(this,{key:t+"@"+o,tskey:e+"@"+o,timeout:a=a||n})}return s(r.prototype,{get:function(){var t=this,e=Date.now(),n=t.key,r=t.tskey,o=e-parseInt(a.getItem(t.tskey)||0)<t.timeout,i=o?a.getItem(t.key):null;return o&&i||(a.removeItem(n),a.removeItem(r)),i},set:function(t){var e=this.key,n=this.tskey;try{a.setItem(e,t),a.setItem(n,Date.now())}catch(t){console.error(t),a.removeItem(e),a.removeItem(n)}return t}}),s(r,{clear:function(n){var r=Date.now(),o=isNaN(n)?0:r-n,s=[],u=Object.keys(a).reduce(function(n,r){var o=r.substr(0,e.length);return 0===o.indexOf(t)&&(0===o.indexOf(e)?n[r]=r.replace(e,t):n[r]=r.replace(t,e)),n},{});for(var c in u){var l=u[c],f=!!l&&!!a[c]&&!!a[l];if(f&&0===c.indexOf(e)){var d=parseInt(a[c]);f=!(isNaN(d)||d<o)}!f&&l&&(delete u[l],s.push(c),s.push(l))}i(s).forEach(function(t){a.removeItem(t)})},ttl:function(t){if(isNaN(t))return n;n=t,r.clear(t)},audit:function(){return Object.keys(sessionStorage).reduce(function(e,n){return n.substr(0,t.length)===t?e+n.length+sessionStorage[n].length:e},0)}}),r}();function d(t){return $.when(e.modules.require("spectra."+t)).then(function(){return $.when(e.require_service(t))})}function h(){var e={},n=t.performance;function r(t){var r=n.now();this.done=function(){var o=n.now()-r;e[t]=o,this.done=$.noop}}s(this,{Timer:r,Task:function(t,e){var n=new r(e);return t.then(function(t){return n.done(),t})},get:function(){return u(e)}}),this.reset=function(){e={}}}var p=new h;function v(t,e){var n=a.getItem(t);return null==n?e:n}p.reset=$.noop;var m=v("libdmb.debug.log","");m.length&&e.loggerLib.setDebug(m);var g=$.Deferred();setTimeout(function(){g.reject({why:"libDMB.data.setConfigured() timed out"})},2e4);var y,_=t.libDMB={RO:s,call:function(t,e,n,r,o,i,a,s,u,c,l){var f=t[e];if("function"==typeof f)return f.call(t,n,r,o,i,a,s,u,c,l)},data:s({},{setConfigured:function(){g.resolve()},configured:g.promise()}),expand:function(t,e){return e=e||".",Object.keys(t).reduce(function(n,r){var o=r.split(e),i=o.pop();return o.reduce(function(t,e){var n=t[e];return t[e]=null!=n&&"object"!=typeof n?{"":n}:n||{},t[e]},n)[i]=u(t[r]),n},{})},getRuntime:v,MetricsHandler:h,metrics:p,env:s({},{local:-1!==["127.0.0.1","localhost"].indexOf(location.hostname)}),SAPI:{},fireTime:null,assets:{},dataconf:$.Deferred(),config:{extra:{rpc:{region:null}},appTags:{storeid:"NSN"},shared:{},features:{cache:!l("nocache",0),dmbjson:1,embedFonts:1,cacheCSS:1,cacheAssets:1,cacheJSON:1,libframesocket:1}},cacheable:f,unique:i,nocache:function(){return{get:$.noop,set:$.noop}},editor:{},copy:u,path:{abs:o,isabs:function(t){return"/"===t[0]||"data:"===t.substr(0,5)||o(t)===t},location:r}},b=e.when_initialized,w={enumerable:!0,get:function(){return y}};Object.defineProperty(_.env,"dev",w),Object.defineProperty(_,"isDev",w),s(_.SAPI,{data:function(){return d("data")},assets:function(){return d("assets")},impl:function(){return $.when(b("loadapiimpl")).then(function(){null==y&&(y="standalone"===e.impl_id())})},init:function(){return $.when(b("initmsg")).then(function(){var t=e.get_player_config();if(e.loggerLib.getLogger("dmb.debug").log(t.playlist,_.version),null==_.fireTime){var n=Date.now(),r=t.start_time,o=-1===r,i=new Date(o?n:r).getTime(),a=o?-t.seek:0;s(_,{fireTime:a+i})}})}})}(window,SPECTRA,$),Object.defineProperty(libDMB,"version",{value:{tag:"v1.2.2.6-0-g44657eb-dirty.HEAD"},enumerable:!0}),function(t,e){var n,r=t.libDMB,o=r.RO,i=t.libpubsub,a=(t.libframesocket,"EventEmitter");function s(t,e,n,r){var o=t[e];if("function"==typeof o)return o.call(t,n,r)}function u(t,n){n&&n.data&&e.loggerLib.getLogger("dmb.events").warn(n.data),s(t,"onerror",n)}!function(t){var e=function(){};$.each({emit:"trigger",one:"one",on:"bind",off:"unbind"},function(n,r){e.prototype[n]=function(e,n){return(o=this,o._JQ=o._JQ||t(o),o._JQ)[r](e,n);var o}}),o(t,{eventEmitter:e})}($),t[a]||(t[a]=function t(){if(!(this instanceof t))return new t;var e=new $.eventEmitter;o(this,["emit","one","on","off"].reduce(function(t,r){return t[r]=function(){return e[r].apply(e,arguments),n},t},{}))}),n=new t[a];var c=function(){var t,e={},r=[],o=!1;function a(t){n.emit(t.subscription,t.body)}function c(n){t&&o?1==(e[n]=e[n]?e[n]++:1)&&t.subscribe(n,a):r.push(n)}function l(t){Array.prototype.forEach.call(t,c)}if(i&&i.FSClient)return(t=new i.FSClient).connect(),t.onopen=function(){o=!0,l(r),n.emit("pubsubpipe.onopen"),s(n.pipe.pubsub,"onopen"),r=[]},t.onerror=t.onclose=function(i){e=[],r=[],t=null,o=t=!1,u(n,{data:i})},t.onrouting=function(t){n.emit("pubsubpipe.onrouting",t),s(n.pipe.pubsub,"onrouting",t)},function(){l(arguments)};console.log("no libpubsub.FSClient"),setTimeout(function(){u(n,{type:"error",data:"missing libpubsub.FSClient"})},50)}();o(r,{events:o(n,{pipe:o({},{pubsub:c})})})}(this,SPECTRA),function(t){function e(t,e){return null==t?null:(new RegExp("[?&]"+t+"=([^&+]*)","i").exec(location.search)||[0,e])[1]}if(null==(e("impl",null)||e("sapi-impl",null))&&!window.isLocalHost){var n=function(){for(var e,n=t;n&&n!==e;)try{if(n.multiplayer)return n.multiplayer;n=(e=n).parent}catch(t){return void(n=null)}}(),r={getProperty:function(t){return n.getDeviceProperty(t).then(function(t){return Object.keys(t).forEach(function(e){null==t[e]&&(t[e]="")}),t})},getProperties:function(t){return n.getDeviceProperties(t).then(function(t){return Object.keys(t).forEach(function(e){null==t[e]&&(t[e]="")}),t})}},o={getProperty:function(t,e){return $.when($.Deferred().resolve({}))},getProperties:function(t,e){return $.when($.Deferred().resolve({}))}};SPECTRA.modules.define("spectra.data.impl",function(t){return{props:function(){return r},dbtable:function(){return o}}})}}(this),function(t,e){var n,r,o=t.libDMB,i=o.env,a=o.metrics.Task,s=t.getURLParam,u="dmb.preview.init",c="dmb.preview",l="dmb.editor.bootstrap",f=t.libframesocket,d=f.RPC,h=["getTags","getPrices","getURL","getAssets","getPromosByID"],p=["editorReady","itemClicked"];function v(t,e){if(!(this instanceof v))return new v(t,e);var n=this,r=c+"?"+(t||""),o=$.Deferred(),i=function(e){o.reject({args:t,why:e})},a=n.transport=new f.Socket(r,null,{timeout:e}),s=n.notify=function(t,e,n){return d.notify(a,t,e,n)},u=n.request=function(t,e,n){return d.request(a,t,e,n)};a.onopen=function(){a.id=a.serverid,o.resolve(n)},a.onclose=function(){i("closed")},a.onerror=i,d.bind(a,n),h.forEach(function(t){n[t]=function(){return u(t,Array.prototype.slice.call(arguments),e)}}),p.forEach(function(t){n[t]=function(){return s(t,Array.prototype.slice.call(arguments),e)}}),n.ready=function(){return o.promise()}}function m(){var t=$.Deferred();return setTimeout(function(){o.data.configured.then(function(){return o.SAPI.impl().then(function(){var t=i.dev,n=e.is_mode("player"),r=e.is_mode("preview"),o=!1,a=i.local,c=!1;return t?(c=parseInt(s("rpc",a?0:1)),isNaN(c)&&(c=!a),(o=!!c)&&(n||r)&&e.loggerLib.getLogger(u).warn("isUserPreview",n,r)):n?o=!1:r&&(o=!0),o&&Object.keys(localStorage).forEach(function(t){0!==t.indexOf("tags.")&&0!==t.indexOf("device.")||localStorage.removeItem(t)}),o}).then(function(t){return t?function(){var t=$.Deferred();function n(t){e.loggerLib.pipeChannelsToSinks(t,"console")}function r(e){t.resolve(e)}if(o.config.features.libframesocket){var i=new v;a(i.ready().then(function(){a(i.request("getConsole",[],5e3).then(n).always(function(){i.close(),r(!0)}),"bootstrap.getConsole")}),"bootstrap").fail(function(){r(!1)})}else{var s=$.Deferred();a(s,"bootstrap"),rpc=new RPCFacade(l,[],FrameSocket).configureClient({request:["getConsole"]}),rpc.onopen=function(){s.resolve(this)},rpc.onerror=function(){t.resolve(!1),s.reject()},s.then(function(t){a(t.getConsole().then(n).always(function(){r(!0)}),"bootstrap.getConsole")})}return t}():t})}).then(function(e){t.resolve(e)}).fail(function(e){t.reject(e)})}),t}function g(){return r||(r=m().then(function(t){return n=t,t}).promise()),r}o.PreviewClient=v,Object.defineProperty(i,"portal",{enumerable:!0,get:function(){return n}}),o.RO(i,{detectPortal:g}),e.modules.define(u,[{ispreview:g()}],function(t){return t})}(this,SPECTRA),function(t,e,n){var r,o,i=t.libDMB,a=e.modules,s=a.define,u=(a.require,t.getURLParam),c=u("app","").split(":"),l=function(t,e){var n=u(t,e),r=parseInt(n);return isNaN(r)?e:!!r},f=function(t,e){var n=u(t,e),r=parseInt(n);return isNaN(r)?e:r},d={storeid:f("sid",r),appName:""===c[0]?r:c[0],backup:l("bkp",!1),debug:l("dbg",!1),compliance:l("comp",!1),isHTML5Video:r,lineup:c[1],screen:f("scr",r),rpc:l("rpc",!1),POSType:u("pos",r),appProps:r,indexLayoutByTag:r,displayOrientation:r,extendedLineup:r,cacheTime:f("cache",r),ispreview:r},h=Object.keys(d),p=(o=u("rpcto","").split(":"),d.rpc={opentimeout:parseInt(o[0]),maxattempts:parseInt(o[1])},{});function v(t){for(var e in t){t[e]===n&&delete t[e]}return t}Object.defineProperty(i.env,"dbg",{enumerable:!0,value:d.debug}),s("dmb.config.static",{cfg:i.SAPI.init().then(function(){var t;$.extend({},d),(p=e.get_player_config()).appName=null==(t=e.get_player_config().regionName)||""===t?n:t.split("-")[0],p.isHTML5Video=-1!==[n,"HTML5"].indexOf(p.videoPlayer);var r=(p.playlist||{}).deviceId,o=$.when(r);-1!==r&&r!==n||(e.is_mode("preview")?console.warn("Invalid device id: '"+r+"'"):o=i.SAPI.data().then(function(t){return t.property("device.id").update()})),d=v(d),p=v(p);var a=i.config.staticjsonsrc;return jsontask=a?e.modules.json(a):$.when({}),$.when(jsontask,o).then(function(t,e){"string"!=typeof e&&(e=""+e),delete(t=v(t)).appname;var n=$.extend({},p,t,d),r={};h.forEach(function(t){r[t]=n[t]}),r.logicalPlayer=p.logicalPlayerId,r.deviceID=e;var o={keys:h,json:t,url:d,spectra:p,merged:r},a=i.config.shared;return a.static=o.merged,a.staticEx=o,o})})},function(t){return t.cfg})}(window,SPECTRA,void 0),function(t,e){"use strict";var n,r=3e5,o=r,i={},a="dmb.data",s=t.libDMB,u=s.unique,c=s.copy,l=s.SAPI.data,f=s.RO,d=e.loggerLib.getLogger(a),h=e.loggerLib.getLogger(a+".rpc"),p=parseInt(s.getRuntime("libdmb.debug.data.log.exceptions",0)),v={};function m(t,e,n){var r=$.extend(t.prototype,Object.create(e.prototype),n);return f(r,{super:e}),f(t,{super:e}),r}function g(t){return function(){return t}}function y(t){return $("<a>").attr({href:t}).get(0).href}function _(t,e){if("object"==typeof t){for(var r in t)_(r,t[r]);return n.providers}var o=i[t];return null==e?i[t]=null:"function"==typeof e.get?o instanceof M||(i[t]=e):d.error("Cannot set provider",t,e),n.providers}function b(t,e){$.extend(t.prototype,e)}function w(t,e){var n={};return f(n,{type:t,get:e}),n}function S(t){return function(e){return e.reduce(function(e,n){return e[n]=t,e},{})}}var E=w("NULL",S(null)),O=w("EMPTY",S({})),D=w("TAG",function(t,e){e=e||{};var n=[],r=parseInt(e.maxage),o=u(t).reduce(function(t,e){var r="string"==typeof e?e:""+e;return r.endsWith("*")?n.push(r):t.push("tags."+r),t},[]);return r=isNaN(r)?3e5:r,l().then(function(t){var e=t.properties(o,r).update(),i=n.map(function(e){return t.queryProperties("tags",e,r).then(function(t){var e=$.isFunction(t.get)?t.get():t;for(var n in e){var r=e[n];$.isArray(r)&&1===r.length&&(e[n]=r[0])}return e})});return $.when.apply($,[e].concat(i)).then(function(){var t=arguments,e={};for(var n in t){var r=t[n];for(var o in r)e[o.substr(5)]=r[o]}return e})})});function M(t,e,n,r){n=n||"keys",r=r||"",this.get=function(o,i){h.info("Calling RPC",e,n,r,o,i);var a={config:t.config,dmbcontext:(i||{}).__dmb__};return s.config.features.allowRPCContext||delete a.dmbcontext,a[n]=o.map(function(t){return r+t}),t[e].apply(t,[a]).then(function(t){var n="getTags"===e&&a.tags&&1===a.tags.length&&a.tags[0].endsWith("*")?a.tags[0].substr(0,a.tags[0].length-1):null;return Object.keys(t).reduce(function(i,a){var s=a.substr(r.length);return n&&a.startsWith(n)?i[s]=t[a]:-1===o.indexOf(s)?d.warn("Superfluous entry '"+s+"' calling '"+e+"'"):i[s]=t[a],i},{})})}}b(M,{type:"RPC"});var C=function(){var t="dmb:json@",e="dmb:json:ts@",n={};function r(r,i){var a,u=r,c=y(i),l=s.config.features,f=t+c,h=e+c,p=l.cache&&l.cacheJSON,v=u.cacheable,m=p&&v?s.cacheable(f,h,o):null;if(m)try{a=JSON.parse(m.get())}catch(t){}var g=n[c];if(!g)if(a)g=$.when(a);else{var _=$.Deferred();$.getJSON(c).then(function(t){m&&m.set(JSON.stringify(t)),_.resolve(t)}).fail(function(t){if(404===t.status)u.map404toNull?_.resolve({}):_.reject(t);else try{JSON.parse(t.responseText)}catch(t){_.reject(t.toString())}}),g=$.when(_).fail(function(t){d.error(i,t)})}return n[c]=g,g}function i(t){f(this,{source:t,absoluteSrc:y(t)})}return b(i,{type:"JSON",noKeyOk:1,get:function(t){var e=this;return this.raw().then(function(n){var r=(t=t||e.noKeyOk?Object.keys(n):[]).length?t.reduce(function(t,e){return t[e]=n[e],t},{}):n;return c(r)})},raw:function(){var t,e=this,n=$.Deferred(),o=e.absoluteSrc,i=e.redirect;if(!$.isFunction(i))return r(e,o);try{t=e.redirect(e.absoluteSrc)}catch(n){d.error("Redirect call failed",n),t=$.when(e.absoluteSrc)}return $.when(t).then(function(t){o=t}).fail(function(t){d.error("Redirect task failed",t)}).always(function(){n.resolve(o)}),$.when(n).then(function(t){return r(e,t)})}}),i}();n={providers:f({RPC:M,TAG:g(D),JSON:C,NULL:g(E),empty:g(O),set:_,rns:function(t){var e={},n={};return(t||[]).forEach(function(t){var r=new t;n[r.type]=r,e[r.type]=t}),f(s.data.providers,e).set(n)},ls:function(){return Object.keys(i).reduce(function(t,e){return t[e]=(i[e]||{}).type,t},{})},proto:{deprecated:function(t,e){var n='Provider "'+t+'" is deprecated.'+(e?'See "'+e+'"':"");return function(){return d.warn(n),E}},JSON:function(t,e,n,r){return m(t,C,$.extend({},r,{type:n,source:e}))},STON:w,extend:m}},{}),metrics:f({get:function(){return c(v)},reset:function(){v={}}}),get:function(t,e,n){var r,o,a=performance.now();switch(typeof(e=e||[])){case"string":case"number":r=e,e=[e]}var c=i[t]||E,l="";try{e.length||c.noKeyOk?(e=u(e),o=$.when(c.get(e,n)).then(function(t){return r?t[r]:t})):o=$.when({})}catch(e){l="Provider error: "+t+": "+e,d.warn(l),(p||s.isDev)&&console.error(l),o=$.Deferred().reject(l)}return o.always(function(){var e,n,r;e=t,n=performance.now()-a,(r=v[e]=v[e]||{calls:0,total:0,max:-1,min:Number.POSITIVE_INFINITY}).calls++,r.total+=n,r.max=Math.max(n,r.max),r.min=Math.min(n,r.min)})},ttl:function(t){var e=o;return null==t?o=r:(t=parseInt(t),isNaN(t)||(o=t)),e}},f(s.data,n);var x=D;_({layout:O,prices:x,config:x,slots:x,options:x,tags:x}),s.events.on("data:rpc",function(t,e){var n=new M(e,"getTags","tags","tags.");_({slots:n,options:n,config:n,tags:n}),n=null}),x=null}(window,SPECTRA);try{!function(t,e){"use strict";var n,r=3e5,o=3e4,i=t.libDMB,a=i.unique,s=i.SAPI.data,u=i.RO,c=Array.isArray,l=e.loggerLib.getLogger("dmb.data.db");function f(t){return null==t?t:t.trim()}function d(){var t=parseInt(i.getRuntime("libdmb.debug.logdb",0));n=t?n||l:null}var h=function(){var t={},e={};function a(r,o){d();var a=o+"@"+r;if(e[a])n&&n.debug("Update already in progress",a);else{n&&n.debug("Updating",r,o);var u=t[r]=t[r]||{tables:{}};e[a]=new Promise(function(t,c){function f(i){var s=u.tables[o];i&&l.warn("ERROR updating table",i),n&&n.debug("Resolving table",r,o,s),t({table:s,error:i}),delete e[a]}i.editor.ready.then(s).then(function(){var t=avInterface("anydb"),e=(performance.now(),new Promise(function(e,n){t.query(r,{type:"select",sql:"PRAGMA table_info("+o+")"},function(t,r){void 0===r?n(t.error):e(r)})})),n=new Promise(function(e,n){t.query(r,{type:"select",sql:"SELECT * FROM "+o},function(t,r){void 0===r?n(t.error):e(r)})});Promise.all([e,n]).then(function(t){var e=t[0],n=t[1],r={},i=(e.reduce(function(t,e){var n=e[1],o=e[0];return t[n]=o,r[n]={},t},{}),performance.now());n.forEach(function(t,n){e.forEach(function(e){var n=e[1],o=e[0],i=t[o];(r[n][i]=r[n][i]||[]).push(t)})}),i=performance.now()-i,u.tables[o]={ts:Date.now(),schema:e,rows:n,indexTime:i,index:r,columns:e.reduce(function(t,e){return t[e[1]]=e[0],t},{})},f()}).catch(f)}).fail(f)})}return e[a]}function u(e,i,s){n&&n.debug("UpdateTableIfStale",e,i,s);var u=Date.now(),c=((t[e]||{}).tables||{})[i];if(isNaN(s)?s=r:s>0&&s<o&&(s=o),c){if(u<c.ts+s)return new Promise(function(t){t({table:c})});n&&n.info(e,i,"has stale data. Need to refresh")}return a(e,i)}return{query:function(t,r,o,a,s,c){d(),n&&n.debug("Query",t,r,o,a,s);var l=$.Deferred();return i.editor.ready.then(function(i){if(i||0===s.length)return l.resolve({}),l;var f,d,h,p;(f=t,d=r,h=c,p=d+"@"+f,e[p]?e[p]:(n&&n.debug("GetTable",f,d),u(f,d,h))).then(function(e){if(e.error)return l.reject({why:e.error,db:t,table:r});if(!e.table)return l.reject({why:"no table",db:t,table:r});var n,i={},u=s.map(function(t){var e=null==t?null:""+t;return i[e]=t,e}),c=e.table,f=c.columns[o],d=a.map(function(t){return c.columns[t]}),h=d.map(function(){return""}),p=s.reduce(function(t,e){return t[e]=h,t},{});if(c.index){var v=[h],m=(c.rows,c.index[o]);n=u.reduce(function(t,e){var n=m[e];if(n&&0!==n.length){var r=n.map(function(t){return d.map(function(e,n){return void 0===e?a[n]:t[e]})});t[e]=r}else t[e]=v;return t},{}),p={}}else n=c.rows.reduce(function(t,e){var n=e[f],r=null==n?null:""+n.toString();if(1+u.indexOf(r)){var o=i[n],s=t[o]=t[o]||[],c=d.map(function(t,n){return void 0===t?a[n]:e[t]});s.push(c),delete p[o]}return t},{});for(var g in p)n[g]=[p[g]];l.resolve(n)}).catch(function(t){l.reject(t)})}).fail(function(t){l.reject(t)}),i.ready.then(function(){return l})},updateTable:a,updateTableIfStale:u}}();function p(t,e,n,r){var o=(c(r)?r:r.split(",")).map(f);u(this,{db:t,table:e,key:n,columns:o})}function v(t,e,n,r){var o=(c(r)?r:r.split(",")).map(f);u(this,{db:t,table:e,key:n,columns:o})}p.prototype={get:function(t,e){t=a(t);return h.query(this.db,this.table,this.key,this.columns,t,(e||{}).timeout)},type:"DB"},v.prototype={get:function(t,e){var n=this.columns;function r(t){return n.reduce(function(e,n,r){return e[n]=t[r],e},{})}t=a(t);return h.query(this.db,this.table,this.key,this.columns,t,(e||{}).timeout).then(function(t){var e={};for(var n in t)e[n]=t[n].map(r);return e})},type:"DBMap"},u(i.data.providers,{DB:p,DBMap:v}),u(i.data,{db:u({cache:h})})}(window,SPECTRA)}catch(t){console.error(t)}!function(t,e){var n,r,o,i=t.libDMB,a=i.RO,s=i.copy,u=parseInt(i.getRuntime("libdmb.debug.logrpc",0)),c=e.loggerLib.getLogger("dmb.data.preview").pipeToSinks(["console"]),l=($.when({}),$.noop),f=i.config.features,d=e.modules,h=d.require,p=66,v=5e3,m=5,g=15e3,y=864e5;Object.defineProperty(i,"editing",{get:function(){return r}});var _={request:["getTags","getPrices","getURL","getAssets","getPromosByID"],notify:["editorReady","itemClicked"]},b=function(){return function(t,e){var s,l=this,d=t.region,h=!!i.config.features.libframesocket;function g(t){var o=n.onconfigure,a=t.editmode&&t.editable;if(u&&c.debug("onconfigure",t,l.rpc.transport.id),e){var s=r;r=a,i.editing=a,s!==a&&i.events.emit("libdmb:editor:editing",a)}else t.region=d;if($.isFunction(o))return o(t)}var y=parseInt(f.multiplexDelay);u&&c.debug("opening",t),Object.defineProperty(l,"rpc",{enumerable:!0,get:function(){return s}});var b,w,S,E,O,D,M,C,x,P,N,T,k,A=(b=t,w=!1,S=!1,E=e,O=h,D=JSON.stringify(b),M=0,C=o,x=C.rpc.opentimeout,P=C.rpc.maxattempts,N=isNaN(x)?FrameSocket.connectTimeout:Math.max(x,p),T=isNaN(P)||P<0?m:P,k=new $.Deferred,function t(){var e;function n(e){return M<T?(c.warn("Reattempting RPC connection",D,M,"/",T),setTimeout(t,250)):(c.warn("RPC connection failed",D,M,"/",T),w?(c.warn("Config failed in debug mode - rpc unavailable",e),void k.resolve()):S?(c.warn('Config failed with "noreload" - rpc unavailable',e),void k.resolve()):(c.error("Could not establish connection to RPC - reloading",e),void k.reject("Could not connect to RPC")))}function r(){u&&c.log("Connected to server","("+e.transport.id+")",D)}0===M&&u&&c.log("Connecting to server",D),M++,O?(e=new i.PreviewClient(D,N)).ready().then(function(){r(),e.config=b,E?e.request("getEditorConfig",[],v).then(function(){u&&c.log("Have config",D,b),k.resolve({rpc:e,config:b})}).fail(n):k.resolve({rpc:e})}).fail(function(){n("Cannot connect to RPC. Edition is disabled")}):((e=new RPCFacade("dmb.editor?"+D,["configure","updatetags","dmbevent"],function(t){return new FrameSocket(t,N)})).onopen=function(){if(r(),this.config=b,E){var t=setTimeout(function(){n({why:"Error getting config"})},v);e.request("getEditorConfig").then(function(n){c.log("Have config",D,n),clearTimeout(t),k.resolve({rpc:e,config:n})}).fail(n).always(function(){clearTimeout(t)})}else k.resolve({rpc:e})},e.onerror=function(){n("Cannot connect to RPC. Edition is disabled")})}(),k).then(function(r){var o=l;if(s=r.rpc,function(t,e,r,o,s){var l=a({},r?{}:{region:(e||{}).region});function f(e){u&&c.debug("ondmbevent",t.transport.id);var r=n.ondmbevent;if($.isFunction(r))return r(e[0],e[1],l)}function d(e){u&&c.debug("updatetags",t.transport.id),i.events.emit("data:tagsupdated",a({},{tags:e,dmbContext:l}));var r=n.ontagschanged;if($.isFunction(r))return r(e,l)}s?(t.onconfigure=o,t.onupdatetags=d,t.ondmbevent=f):(t.log=console,t.configureClient(_).setImpl({configure:o,updatetags:d,dmbevent:f}))}(l.rpc,t,e,g,h),!e&&!isNaN(y)){var f=$.Deferred();setTimeout(function(){f.resolve(l)},y),o=f.promise()}return o}).done(function(){u&&c.debug("open",t)});a(l,{ready:function(){return A.promise()},args:t})}}();var w=new function(){var t,e=!1,n={},r={},o=new i.MetricsHandler;function l(e){return function(){var r,o=Array.prototype.slice.apply(arguments),a=o[0]||{},s=a.dmbcontext||{},l=(r=(s||{}).region,n[r]||t);return u&&c.debug("multiplexing",e,s.region,"to",l.args.region,Object.keys(n),i.config.features.debugMultiplexArgs?o:""),s.region&&l.args.region!==s.region&&c.error("Bad context resolution",e,s.region,l.args.region,a),u&&"itemClicked"===e&&c.log("sending itemClicked",e,l.rpc.transport.id),l.ready().then(function(t){var n=l.rpc;return n[e].apply(n,o)})}}function f(t,e){return t[e]=l(e),t}for(var d in _)_[d].reduce(f,r);r.editorReady=function(){for(var r in n)$.when(n[r].ready()).then(function(t){t.rpc.editorReady()});e=!0,t.rpc.editorReady()},this.setScreenClient=function(e,r){o[e.args.region]={connect:performance.now()-r},u&&c.debug("setScreenClient",e.args.region),n[e.args.region]=t=e},a(this,{addRegions:function(r){u&&c.debug("addRegions",r),(r||[]).reduce(function(n,r){if(!n[r]){var i=s(t.args),a=new o.Timer(r+".connect");i.region=r;var l=n[r]=new b(i);l.ready().then(function(){u&&c.debug("new connection",l.rpc.transport.id,r),e&&l.rpc.editorReady()}).always(function(){a.done()})}return n},n)},rpc:r,metrics:o.get})};a(i,{editor:n=a({onconfigure:l,ontagschanged:l,ondmbevent:l},{editorReady:function(){n.ready.then(function(t){return t?t.editorReady():{}})},itemClicked:function(t){f.allowRPCContext||delete(t||{}).dmbcontext,n.ready.then(function(e){return e?e.itemClicked(t):{}})},addRegions:function(t){if(f.allowRPCContext)return n.ready.then(function(e){return e?w.addRegions(t):{}});throw new Error("addRegions with allowRPCContext disabled")},getMetrics:function(){return w.metrics()},ready:i.env.detectPortal().then(function(t){return t?(u&&c.log("***** PREVIEW mode detected"),h("dmb.config.static").then(function(t){return o=t.url,(e=t,n=e.merged,$.when({playerID:n.logicalPlayer,deviceID:n.deviceID,region:i.config.extra.rpc.region||n.appName})).then(function(e){u&&c.log("***** Have config",t);var n=performance.now();return new b(e,!0).ready().then(function(t){return w.setScreenClient(t,n),i.data.configured.then(function(){return w.rpc})})});var e,n})):null}).promise()})}),d.define("dmb.editor.rpc",[{rpc:n.ready}],function(t){var e=t.rpc;return e&&i.events.emit("data:rpc",e),setTimeout(function(){i.cacheable.clear(getURLParam("cc",e?g:y))}),e})}(window,SPECTRA),function(t){"use strict";var e="dmb:css@",n="dmb:css:ts@",r=t.libDMB;function o(t){var e=$.Deferred();function n(t){var n=t.target;$(n).off("error",r),e.resolve(n)}function r(t){$(evt.target).off("load",n),e.reject(t)}return t.one("load",n).one("error",r),$.when(e)}function i(t,o){o=null==o||o;var i=r.config.features,a=$("<a>").attr({href:t}).get(0).href,s=a.split("/"),u=s.splice(0,s.length-1).join("/")+"/",c=!!i.cache&&!!i.cacheCSS?r.cacheable(e+a,n+a):null,l=c?c.get():o?null:"";return(l?$.when(l):$.get(a).then(function(t){var e=t.split("url(").map(function(t,e){if(0===e)return t;var n,o,i=t.split(")");return i[0]=i[0].replace(/['"]+/g,""),i[0]=(n=i[0],o=u,r.path.isabs(n)?n:o+n),i.join(")")}).join("url(");return c&&c.set(e),e})).then(function(t){return{css:t,href:a}})}r.assets.css={inject:function(t,e){return i(t,e=null==e||e).then(function(n){var r=$("body"),i='[href="'+n.href+'"]';return $("link"+i,r).remove(),$("style"+i,r).remove(),e?($("<style>").attr({href:n.href}).text(n.css).appendTo(r),$.when(t)):o($('<link rel="stylesheet" href="'+n.href+'"/>').appendTo(r))}).fail(function(t){})},load:i,loadPromise:o}}(window),function(t){var e=t.libDMB,n=e.unique,r=eval,o=[],i={},a=t.setAlarm||$.noop,s=t.clearAlarm||$.noop;function u(t,n){return n?$.Deferred().resolve(t.reduce(function(t,e){return t[e]=parseFloat((10*Math.random()).toFixed(2)),t},{})):0===t.length?$.when({}):(r=t,o=$.when(e.data.get("prices",r)).then(function(t){for(var e in t){var n=parseFloat(t[e]);isNaN(n)?delete t[e]:t[e]=n}return t}),a=$.Deferred(),$.when(o).done(function(t){$.extend(i,t),a.resolve(t)}).fail(function(t){var e=r.reduce(function(t,e){return t[e]=i[e],t},{});a.resolve(e)}),$.when(a));var r,o,a}e.prices={get:function(t){t=n(t||[]),this.arithmetic&&t.forEach(function(e,n){var r=(e=""+(e||"")).split(/[\+\-]+/);r.length>1&&(o.push(e),t=t.concat(r));var i=e.split("x");i.length>1&&!isNaN(i[1])&&(o.push(e),t.push(i[0]))}),o=n(o);var e=[],i=t.reduce(function(t,n){return o.indexOf(n)+1?t[n]="":e.push(n),t},{});return u(e,this.debug).then(function(t){i=$.extend(i||{},t);var e,n,u={},c={};for(var l in i)if(-1!==o.indexOf(l)){var f="(",d=(l||"").split(/[\+\-]+/);if(d.length>1){var h=l.match(/[+-]/g);for(var p in d)e=d[p],null==(n=parseFloat(i[e]))||isNaN(n)?u[e]=i[e]:c[e]=n,f+="("+n+"*100)"+(h[p]||"");f+=")/100;";try{i[l]=r(f)}catch(t){delete i[l]}}var v=(l||"").split("x");v.length>1&&(e=v[0],n=parseFloat(i[e]),isNaN(n)?u[e]=i[e]:(i[l]=parseInt(v[1])*n,c[e]=n))}else(null==(n=parseFloat(i[l]))||isNaN(n))&&(u[l]=i[l]);for(var m in c)s(["prices",m].join("."));for(var g in u)delete i[g],a(["prices",g].join("."),'NaN "'+u[g]+'"');return i})},debug:!1,arithmetic:!1}}(window),function(t,e,n){var r=e.libDMB,o=r.data,i=o.get;function a(t){return i("menu",[t]).then(function(e){var n=(e[t]||[])[0];return n?(n.slotids=n.slotids.split(","),n.subs=n.subs.length?n.subs.split(","):r.config.features.getallsubs?null:[],n):{}})}o.menu={getState:function(t,e,o){o=o||{};var s=(e=e||{}).layout,u=e.cfg,c=r.config.features,l=c.menuStateAutoContext,f=c.allowRPCContext;if(l&&f){var d=o.__dmb__=o.__dmb__||{};d.region||(d.region=s.dmbregion)}var h=u.appProps?"-"+u.appProps:"";return a(t).then(function(t){t.env=e;var r=t.slotids;return i("slots",r,o).then(function(e){return o.slots=e,i("slotsmeta",r,o).then(function(r){for(var o in e){var a=r[o];a&&(e[o]=a.pid)}return(u=e,c=r,l=h,f=s.products||{},d=t.subs,p=n(u),v={},m=p.map(function(t){var e=u[t];return v[e]=c[t],e}),g={postFix:l,meta:v,overrides:f,subs:d},(m=m.concat((c.meta||{}).products||[])).length?i("productstate",m,g):$.when({})).then(function(o){var i={slots:{},products:o,menu:t},a=t.subs||[],s=n(e),u=r||{};return s.reduce(function(t,n){var r=e[n],i=o[r];i||(r+=h),i=o[r];var s,c=t[n]={pid:r},l=u[n];l&&(a.length&&l.subs&&l.subs.length&&i&&i.subs&&(Object.keys(i.subs).sort(function(t,e){return a.indexOf(t)-a.indexOf(e)}).forEach(function(t,e){i.subs[t];var n=l.subs[e];n&&((s=s||{})[t]=n)}),s&&(l.bysubtype=s)),c.meta=l);return t},i.slots),i});var u,c,l,f,d,p,v,m,g})})})},getConfig:a}}(SPECTRA,window,Object.keys),function(t,e){var n,r,o="ScreenID",i="POSIntegrated",a="BackupScreenID",s="DisplayOrientation",u="dmb.data.ttl",c="dmb.productoverrides",l="dmb.debug.logs",f=5e3,d=e.modules,h=!1,p=t.libDMB,v={},m="",g=0,y={keys:[],map:[],srcs:[]};function _(){b();var t=Date.now();if(n)return n;if(t-g<f)return $.when(v);var e=p.copy(y),r=p.config.shared.static,d=r.logicalPlayer,m=o+"_"+d,_=s+"_"+d,w=[m,_,o,a,i,u,s,c,l].concat(e.srcs);return g=t,(n=p.data.get("config",w).then(function(t){var n,f=parseInt(t[u]),g=e.keys.reduce(function(n,r){var o=e.map[r],i=t[o];return n[r]=i,n},{}),y=function(t){return null!=t&&""!==t&&"none"!==t},b=function(){var e=t[m];if(y(e)&&!r.backup)return e;var n=r.backup||1===d?a:o;return t[n]}(),w=(n=t[_],y(n)?n:t[s]),S=$.extend(!0,{},g,{cacheTime:f,ispreview:h,POSType:"true"===t[i]?"db":"tag",screenID:b,productOverrides:t[c]||"",debugLogs:(t[l]||"").split(",")});for(var E in""!==w&&(S.displayOrientation=w),S)void 0===S[E]&&delete S[E];return $.extend(v,S),isNaN(f)||p.cacheable.ttl(f),S})).always(function(){n=null})}function b(){var t=y.map=p.config.appTags||{};return m!==(m=JSON.stringify(t))&&(y.keys=Object.keys(y.map),y.srcs=y.keys.map(function(t){return y.map[t]}),w()),this}function w(){g=0,n=null}p.events.on("libdmb:editor:editing data:rpc data:updatetags",w),d.define("dmb.config.dynamic",[{init:(r=d.require,$.when(r("dmb.preview.init"),r("dmb.config.static"),r("dmb.editor.rpc"),p.data.configured).then(function(t){h=!!t.ispreview;var e=$.Deferred();return _().done(function(t){e.resolve(t)}).fail(function(t){t&&t.rpc&&$.isWindow(t.rpc.from)&&delete t.rpc.from,e.reject(t)}),$.when(e)}))}],function(e){return t.libDMB.config.shared.dynamic={update:_,updateAppTags:b,clear:w,last:v}})}(window,SPECTRA),function(t,e,n){var r=t.libDMB,o=e.modules,i=null,a=null,s={},u={},c={},l={};function f(t){if(null===i)return{};var e=$.extend({},i.spectra,i.json,t?s:{},t?u:{},i.url,c),n={};return i.keys.forEach(function(t){n[t]=e[t]}),Object.keys(r.config.appTags||{}).forEach(function(t){n[t]=e[t]}),n}function d(t,e){return null===t?c.appName=n:t!==n&&(c.appName=t),null===e?c.lineup=n:e!==n&&(c.lineup=e),c=function(t){for(var e in t){var r=t[e];r===n&&delete t[e]}return t}(c),updateInternal()}var h,p=!0;function v(){var t=f(!1),e=p?$.when(a.last):a.update(),n=r.config.features.dmbjson?r.data.get("menucfg",[t.appName]):$.when({});return p=!1,$.when(e,n).then(function(e,n){return s=e,u=n[t.appName],$.when(((l=f(!0)).app=l.appName+(l.lineup?":"+l.lineup:""),l))})}function m(t,e,n){var o=a.update(),s=r.data.get("menucfg",[t],n||{}),u={app:t+(e?":"+e:""),appName:t};return e&&(u.lineup=e),$.when(o,s,u).then(function(e,n,r){return o=e,a=n[t],s=r,$.extend({},i.spectra,i.json,o,a,s);var o,a,s})}function g(t,e,n){var r=this;if(!(r instanceof g))return new g(t,e,n);r.update=function(){return m(t,e,n).then(function(t){return r.value=t,t})},this.value={}}o.define("dmb.config",[{init:(h=o.require,$.when(h("dmb.config.static"),h("dmb.config.dynamic"),r.data.configured).then(function(t,e){return i=t,a=e,v()}))}],function(t){var e=r.config.legacy={update:v,config:l,setApp:d};return r.config.handler=g,e})}(window,SPECTRA,void 0),function(t){var e="dmb.store.profile.",n=t.libDMB,r=n.data,o=t.defineROProperties,i=r.providers;function a(){}o(a.prototype,{type:"store:profile",noKeyOk:1,get:function(t,o){return r.get("tags",["dmb.store.profile.*"],o).then(function(t){var r={},i=e.length,a=o&&o.convert;for(var s in t){var u=t[s];if(a&&"string"==typeof u){var c=parseFloat(u);if(isNaN(c))switch(u.toLowerCase()){case"true":u=!0;break;case"false":u=!1}else""+c===u&&(u=c)}r[s.substr(i)]=u}return a&&(r=n.expand(r)),r})}}),o(i,{storeprofile:a}),i.set("storeprofile",new i.storeprofile)}(window),function(t){var e,n,r,o="class",i=20,a=t.libDMB,s=a.copy,u=a.data,c=u.providers,l=(u.menu,a.config.features),f=a.unique,d=SPECTRA.loggerLib.getLogger("dmb.data.dmb.json"),h=new c.JSON("data/dmb.json");h.cacheable=!0;var p={};function v(t,e){t.prototype.type=e}function m(t,e){return t.reduce(function(t,n){return g(t,e[n]||{},!1)},{})}function g(t,e,n){var r={},i=s(e);if(n||delete i.base,t&&i){if(r=$.extend(!0,{},t,i),i.defaulttemplates){var a=$.extend(!0,{},t.defaulttemplates,i.defaulttemplates);r.defaulttemplates=a}i.padding&&(r.padding=$.extend({},t.padding,i.padding)),i[o]&&(r[o]=(t[o]||[]).concat(i[o])),i.indexLayout&&(r.indexLayout=i.indexLayout.slice())}else r=$.extend(t);return r}function y(t,e){var n=[],r=e.data.templates||{},o=(t||{}).base||[],i=e.v;return o.map(function(t){-1===i.indexOf(t)&&(n=n.concat([t]).concat(y(r[t],e)),i.push(t))}),n}function _(t){var e,n=t.data,o=n.templates,i=n[t.app]||{},a=i.lineups,s=t.lineup,u=t.init||r,c=s||"";if(a&&s&&null==(e=a[s]||a[(a.alias||{})[s]])){c="";var l=s;"Portrait"===(t.context||{}).displayOrientation?l+="-v":l+="-h",(e=a[l]||a[(a.alias||{})[l]])?(c=l,d.log("no lineup",s,"found. Found",l,"from screen dimensions"),i.lineup=l):(d.error("No",s,"lineup in",i.appName,":",Object.keys(a).join(", ")),i.layout="")}var f=[t.app,c].join(":");if(p[f])return p[f];var h=m(y(i,t),o),v=g(m(y(e||{},t),o),e||{}),_=g(g(g(u,h),i),v);return p[f]=_}function b(){return $.when(n||h.get().then(function(t){return n=t.dmb,e=t,n?n.templates||(d.warn("No templates"),n.templates={}):d.error('No "dmb" in data file'),r=_({v:["default"],data:n,init:n.default}),n}))}function w(){var t={};this.get=function(o,i){var s=l.menuStateAutoContext,u=l.allowRPCContext;return b().then(function(){var c=[],l=o.reduce(function(o,a){var l=function(o,i){var a=o.split(":"),s=a[0],u=a[1],c=t[o];if(!c){if(!n[s])return null;var l=g(r,{app:o,tag:s,appName:s,lineup:u});l.dmbregion||(l.dmbregion=s),g(l,n[s],!0);var f=_({context:i,lineup:u,app:s,v:[],data:n,init:l});(c=t[o]=JSON.parse(JSON.stringify(f))).subs&&(c.subs=c.subs.split(",")),c.DOM={templates:e.templates}}return c}(a,i);return l&&s&&u&&c.push(l.dmbregion||l.appName),o[a]=l,o},{});return c.length&&a.editor.addRegions(c),l})}}function S(){var t={};function e(t,e){var n=[];if(t)for(var r=1;r<=e;r++)n.push(t+r);return n}function r(t){var n=[],r=null==t.maxItems?i:t.maxItems,o=null==t.maxHeaders?0:t.maxHeaders,a=t.tagSet||[],s=(t.headers||{}).postertag||[],u=(t.groups||[]).map(function(t){return t.tag}),c=t.tag,l=t.extraTags||[];function d(t,n){return t.concat(e(n,r))}return n=n.concat(a.reduce(d,[])).concat(o?e(c+"_header",o):[]).concat(s.map(function(t){return t+"_poster"})).concat(l).concat(e(c,r)).concat(u.reduce(d,[])),n=f(n)}this.get=function(e){return b().then(function(){return e.reduce(function(e,o){var i,a;return e[o]=[{slotids:function(e){var o=t[e];if(!o){var i=_({context:{},app:e,v:[],data:n}),a=n[e];if(a){var s=a.lineups||{};o=t[e]=Object.keys(s).reduce(function(t,o){var i=_({context:{},app:e,lineup:o,v:[],data:n});return t.concat(r(i))},[]).concat(r(i)).sort(),o=f(o)}else o=[]}return o}(o).join(","),subs:(i=o,a=n[i],a&&a.subs||"")}],e},{})})}}function E(){var t="_lineup",e="_extendedlineup",n="_indexlayout",r="_properties",o="core";this.get=function(i,s){s=s||{};var c=i.filter(function(t){return!!t}).map(function(t){return t.split(":")[0]});return d.debug("getting layouts",c,s),a.data.get("layout",c,s).then(function(i){return d.debug("got layouts",c,i),$.when.named(i,function(i,a){return d.debug("getting layout",i,a),function(i,a,s){if(i){var c={},f=(i.lineups,i.appName),d=i.dmbregion,h={lineup:d+t,extendedlineup:f+e,appProps:f+r,dmbProps:d+r,index:f+n},p=[],v={};for(var m in h)p.push(h[m]),v[h[m]]=m;return l.menuStateAutoContext&&(c.__dmb__={region:d}),u.get("config",p,c).then(function(t){var e={};for(var n in v)e[v[n]]=t[n]||"";""!==e.appProps&&e.appProps!==o||delete e.appProps,""===e.index&&delete e.indexLayoutByTag;var r=(i.screenOrder||[]).indexOf(s);return-1==r&&(r=0),r+=1,e.screen=r,e})}}(i,a.split(":")[0],s.screenId)}).then(function(t){for(var e in d.debug("have configFromLayout",t),t)t[e]=t[e].result;return t})})}}v(w,"layout:dmb.json"),v(S,"menu:dmb.json"),v(E,"menucfg:dmb.json"),$.extend(c,{menu:S,layout:w,menucfg:E}).set({menu:new S,layout:new w,menucfg:new E})}(window),function(t){var e="_options",n=t.libDMB,r=n.data,o=n.unique,i=r.providers;function a(t,n,o){var i={},a=n.optsconcat;for(var s in t){var u=t[s].pid;i[u+e]={sid:s,pid:u}}var c=Object.keys(i);return r.get("tags",c,o).then(function(n){var s=c.reduce(function(t,e){var r=i[e],o=r.pid;r.opts=(n[e]||"").split("_").filter(function(t){return t&&t.length}).map(function(n){var r,i="!"!==n[0],s=i?n:n.substr(1),u=(r=s,null==a?r:o+a+r),c={active:i,optid:s,optref:u};return t[u]=e,c});return t},{});return r.get("tags",Object.keys(s),o).then(function(n){function r(t){return{active:t.active,optid:t.optid,pid:t.optref,subs:(n[t.optref]||"").split("_")}}function o(t){return!!t}for(var a in t){var s=t[a],u=s.pid+e,c=i[u].opts.map(r).filter(o);c.length&&(s.opts=c),t[s.pid]=s}return t})})}function s(t){var e=[],n=[];return Object.keys(t).forEach(function(r){var o=t[r];(o.subs||[]).forEach(function(t){e.push(t.pid)}),(o.opts||[]).forEach(function(t){n.push(t.pid),n.push(t.optid),e=e.concat((o.subs||[]).map(function(t){return t.pid}))}),n.push(o.pid)}),t.meta={posPIDs:o(e.sort()),products:o(n.sort())},t}i.slotsmeta=function(t){return i.proto.STON("slotsmeta",function(e,n){return r=e,o=(n=n||{}).slots||{},i=t||{},u=n,a(r.reduce(function(t,e){var n=o[e];if(n){var r=n.split("_"),i=r[0],a=r.splice(1).reduce(function(t,e,n){var r=t[n]={};"!"===e[0]&&(r.inactive=1,e=e.substr(1));var o=e.split("x"),i=parseInt(o[1]);return r.pid=o[0],isNaN(i)||(r.qty=i),t},[]);t[e]={subs:a,tag:o[e],pid:i}}return t},{}),i,u).then(s);var r,o,i,u})},i.set("slotsmeta",i.slotsmeta())}(window),function(t){var e=t.libDMB,n=e.data,r=n.providers,o=!0,i=t.defineROProperties,a=e.config.features,s="dmb:assets@",u="dmb:assets:ts@",c=SPECTRA.modules.require("dmb.editor.rpc"),l=SPECTRA.modules.require("dmb.config.dynamic"),f={};function d(t,n){var r,o,i=a.cache&&a.cacheAssets,f=(r=t,o=n,$.when(c,l).then(function(t){var n=e.config.shared.dynamic.last,i=n.storeid||"",a=n.screenID||"",c=t?[i,n.deviceID,a,""].join("-"):"",l=c+s,f=c+u;return r.reduce(function(t,e){var n=o.keyToQuery(e),r=JSON.stringify(n);return t[e]={a:n,q:r,ck:l+r,ckt:f+r},t},{})})),d=n.cachetime,h=i?[]:t,p=[],v=[];return f.then(function(t){if(i)for(var n in t){var r=t[n],o=e.cacheable(r.ck,r.ckt,d).get()||"";try{o=JSON.parse(o)}catch(t){o=null}o?(p.push(n),r.c=o,delete r.p):r.p?v.push(r.p):h.push(n)}return{d:i,t:d,q:t,c:p,e:h,p:v}})}function h(t,n){return t.d&&(t.e.forEach(function(r){var o=t.q[r],i=n[r];i&&e.cacheable(o.ck,o.ckt,t.t).set(JSON.stringify(i));n[r]=i}),t.c.forEach(function(e){var r=t.q[e].c;n[e]=r})),n}var p=function(){function t(){}return t.prototype={type:"assets:sapi",get:function(t,n){n.keyToQuery;return d(t,n).then(function(t){return t.e.length?e.SAPI.assets().then(function(e){var n=e.assetsmgr(),r=t.q,o=t.e.map(function(t){return f[t]=n.getAssets(r[t].a).then(function(e){return{key:t,value:e}}).always(function(){delete f[t]}),f[t]}).concat(t.p||[]);return $.when.apply($,o).then(function(){var e=[].slice.apply(arguments).reduce(function(t,e){var n=e.value;if(n){for(var r in n){var o=n[r],i=o.cmid;delete n[r],n[i]=o}t[e.key]=n}return t},{});return h(t,e)})}):h(t,{})})}},t}();function v(t){this.rpc=t}v.prototype={type:"assets:rpc",get:function(t,e){var n=this.rpc;return(e=e||{}).cachetime=e.cachetime||1e4,d(t,e).then(function(t){var e=t.e.map(function(e){var n=t.q[e].a;return n.queryid=e,n});return(e.length?n.getAssets({assets:e}):$.when({})).then(function(e){return h(t,e)})}).fail(function(t){console.error(t)})}};var m=function(){function t(t){if(!t)return t;["startdate","enddate"].forEach(function(e){var n;t[e]=null==(n=t[e])?void 0:n.replace("T"," ").replace(/-/g,"/")})}return function(n){if(e.isDev)return n;for(var r in n){var o=n[r];t(o.schedule),t(o.lifecycle)}return n}}(),g=function(){function t(t,e){if(t&&e){var n=t.startdate||Math.max(0,e-1728e5),r=t.enddate||e+1728e5,o=new Date(new Date(n).setHours(0,0,0,0)).getTime(),i=new Date(new Date(r).setHours(23,59,59,0)).getTime();if(e<o||e>i)return!1}return!0}return function(n,r){var i=r||{},a=i.today,s=(e.isDev,i.types),u=(s&&s.length,[]),c=[],l={};for(var f in n){var d=n[f],h=!0;if(h&&a)if(t(d.lifecycle,a)){if(o){var p=!1;if(d.schedule){var v=JSON.parse(JSON.stringify(d.schedule));delete v.startdate,p=t(v,a)}p||(u.push(d),h=!1)}}else h=!1,c.push(d);else;h&&(l[f]=d)}return{valid:l,expired:c,unscheduled:u}}}();function y(t){var n=SPECTRA.assets.assetPath;if(!t)return null;var r=function(t){if(!o)return t;if(!SPECTRA.is_mode("player")){var e=new Date((new Date).setHours(0,0,0,0)),n=(new Date((new Date).setDate(e.getDate()+1)),{startdate:new Date(0),enddate:new Date(864e11)});for(var r in t){var i=t[r],a=i.schedule||n,s=i.lifecycle;s&&!a&&(a=s),i.schedule=a}}return t}(m(t));for(var i in r){var a=r[i],s=a.file;a.fileraw=s,e.path.isabs(s)||(a.file=n(s))}return r}e.assets.postProcess=y;var _,b=SPECTRA.modules.require("dmb.editor.rpc"),w=new p;function S(){}function E(){E.super.call(this)}S.prototype={type:"assets",getQuery:function(){return{}},postFilter:function(t){return t},canRPC:function(){return!0},get:function(t,e){var n=this,r=e||{};return r.keyToQuery=n.getQuery,b.then(function(e){e&&e.rpc||(r.today=new Date((new Date).setHours(0,0,0,0)).getTime());var o=n.canRPC()&&_||w;return $.when(o.get(t,r)).then(function(e){var o=t.reduce(function(t,n){var o=e[n];if(o){o=y(o);var i=g(o,r).valid;Object.keys(i).length&&(t[n]=i)}return t},{});return n.postFilter?n.postFilter(o):o})})}},r.proto.extend(E,S,{type:"archives",getQuery:function(t){return{mediatype:"html",tags:[{DMB_NAME:t}],withtags:1}}});var O=function(){function t(t){return $.when(t.reduce(function(t,e){return t[e]={0:{file:"."}},t},{}))}function e(t){return n.get("archives",t)}function r(t,e){i(this,{mode:(e=e||{}).mode,src:t})}return r.prototype={canRPC:function(){return"embed"!==this.mode},filter:function(t){if("embed"===this.mode)for(var e in t){var n=t[e];for(var r in n){var o=n[r];embedded&&(o.file=o.fileraw)}}return t},roots:function(n){var r=this,o="embed"===this.mode;return(o?t:e)(n).then(function(t){return o?t:r.filter(t)})},get:function(t,e){return this.roots(t)}},r}(),D=function(){var t=e.assets.css;function n(t,e){if(!t||!t.length)throw new InvalidOperationException('Invalid "src" argument: \''+t+"'");e=$.extend({},{inject:!0,DOMLink:!0},e||{}),n.super.call(this,t,e),i(this,{inject:e.inject,DOMLink:e.DOMLink})}return r.proto.extend(n,O,{type:"assets:css",cacheable:!0,getInternalSrc:function(){return this.src},isInline:function(){return this.inline},get:function(n,r){n=e.unique(n.sort()).filter(function(t){return t&&t.length});var o=this.isInline(),i=this.inject?t.inject:t.loadCSS;return this.roots(n).then(function(t){var e=n.map(function(e){var n=t[e],r=n[(Object.keys(n)||[])[0]].file+"/"+e,a=$.Deferred(),s={id:e,src:r};return i(r,o).fail(function(t){s.error=t}).always(function(){a.resolve(s)}),$.when(a)},{}),r=$.Deferred();return $.when.apply($,e).done(function(){r.resolve()}),$.when(r)})}}),n}(),M=function(){var t="fonts/fonts.css";function n(e,r){r=$.extend({},{inline:!1},r||{}),n.super.call(this,e||t,r)}return r.proto.extend(n,D,{type:"assets:fonts",isInline:function(){return this.inline&&e.config.features.embedFonts}}),r.set("fonts",new n(t)),n}();e.events.on("data:rpc",function(t,e){_=new v(e)}),r.set("archives",new E).proto.assetsEx=function(t,e,n){var r=new S;return r.type=t,r.getQuery=e,r.postFilter=n,r},$.extend(r,{assets:S,archives:E,earchives:O,css:D,fonts:M})}(window),function(t){var e=t.libDMB,n=e.copy,r=t.defineROProperties,o=e.unique,i=e.data,a=i.get,s=i.providers,u=s.proto,c="data/products",l=c+".json",f="products";function d(t,e){return[$.extend(!0,{},(t||[{}])[0],(e||[{}])[0])]}function h(t,e){var r=e[t],o=(r||[{}])[0],i=n(o||{}),a=r&&o&&!Object.keys(o).length;for(var s in i)null==i[s]&&delete i[s];return Object.keys(i).length||a?i:null}function p(t,e){p.super.call(this,t||l,e)}r(i.products={},{AVAILABLE:"available",SOLDOUT:"soldout",UNAVAILABLE:"unavailable"}),u.extend(p,s.earchives,{type:"products:json",cacheable:!0,noKeyOk:!0,getInternalSrc:function(){return this.src},raw:function(){var t=this,e=t.pending,n=this.src,r=this.getInternalSrc();return r?(e||(t.pending=e=$.when(this.roots([n])).then(function(e){var o=e[n];if(!o)return{};var i=(o[Object.keys(o)[0]]||{}).file+"/"+r,a=new s.JSON(i);return a.cacheable=t.cacheable,a.map404toNull=t.map404toNull,a.noKeyOk=t.noKeyOk,a.get()}).always(function(){t.pending=null})),e):$.when({})},get:function(t,e){var r=this.noKeyOk,i=t.length;return 0===(t=o(t.sort()).filter(function(t){return t&&t.length})).length&&0!==i?$.when({}):$.when(this.raw(),a("productsoverride",t,e)).then(function(o,i){var a=(o||{}).products||{},s=((i||{}).merged||{}).products||{};for(var u in s)a[u]=d(a[u],s[u]);return function(t,e,n,r){var o=(t||{}).products;if(!o)return{};var i=(n=n||{}).postFix,a={};for(var s in n.meta){var u=n.meta[s];u&&(a[s]=u,a[u.pid]=u)}!e.length&&r&&(e=Object.keys(o));var c=e.reduce(function(t,e){var r=e,s=r+"_"+i,u=h(r,o),c=h(s,o),l=(a[e],c||u);if(e.length&&l){var f=t[e]=t[r]=l,d=f.subs||{};f.pidCore=r,f.pid=r,(n.subs||Object.keys(d)).map(function(e){var n=d[e];if(null!=n){var r=h(n,o);r&&!t[n]&&(t[n]=r)}})}return t},{});for(var l in c){var f=c[l],d=f.cal;switch(typeof d){case"object":null!=d.min&&null==d.max&&(d.max=d.min),d.max=d.max||d.min}f.cal=d}return c}({meta:n((o||{}).meta||{}),products:a},t,e,r)})}});var v=function(){var t,o=c,i=SPECTRA.loggerLib.getLogger("dmb.data.products.overrides");function a(t){var e=(t.sources||[]).map(function(t){return t.src=[o,t.archive,"json"].join("."),t});a.super.call(this,"",t),r(this,{sources:e,sourceroots:e.map(function(t){return t.src}).filter(function(t){return!!t})}),t.debug&&i.debug("impl",t,this.sources,this.sourceroots)}return u.extend(a,s.earchives,{type:"data:productsoverride:json",cacheable:!0,map404toNull:!0,noKeyOk:!0,load:function(n){Date.now();var r=this,a=r.sources,u=e.config.shared.dynamic.last;return r.loadPromise||(r.loadPromise=r.roots(r.sourceroots).then(function(e){var n=a.reduce(function(n,i){var a,c=i.src,l=e[c]||{},f=l[Object.keys(l)[0]];if(f){var d=i.tags.map(function(t,e){return u[i.appcfg+"."+e]}).join("."),h=[o,i.archive,d,"json"].join("."),p=f.file+"/"+h,v=new s.JSON(p);t,v.cacheable=r.cacheable,v.map404toNull=r.map404toNull,v.noKeyOk=r.noKeyOk,a=v.get()}else a=$.when({});return n[c]=$.when(a),n},{});return $.when.named(n).then(function(t){return $.when(t)})}).fail(function(t){i.error(t),r.loadPromise=null})),r.loadPromise},get:function(t,e){Date.now();var n=this.sources;return e=e||{},this.load(e).then(function(t){return e.debug&&i.debug("got data for",Object.keys(t)),{merged:{products:n.map(function(e){var n=(t[e.src]||{}).result||{};return n.desc=e,n}).reduce(function(t,e){var n=e.products;for(var r in n){var o=n[r],i=d(t[r]||[{}],o);t[r]=i}return t},{})},raw:t}}).fail(function(t){i.error(t)})}}),function(){var t,o,u,c;function l(r){return r=n(r),(o?$.when(o):SPECTRA.modules.require("libdmb").then(function(t){return o=t,t})).then(function(){var n=s.empty(),o=e.config.shared.dynamic,l=o.last.productOverrides,f=r.overrides||l;if(f===t&&u)return u;if(!f.length)return c&&i.debug("overrides are empty"),n;c&&i.debug("getting sources",t,"->",r.overrides,"||",l,":",f),t=f;var d={};if(r.sources=t.split(",").map(function(t){var e=t.split(":"),n=e[0],r=e[1];if(null==n||null==r||!n.length||!r.length)return c&&i.debug("NULL override",t),null;var o=r.split("+"),a="@productoverride."+n;return o.forEach(function(t,e){d[["@productoverride",n,e].join(".")]=t}),{archive:n,appcfgsrc:r,appcfg:a,tags:o}}).filter(function(t){return!!t}),!r.sources.length)return c&&i.debug("empty sources"),n;e.config.appTags=$.extend(!0,{},e.config.appTags||{},d);try{return o.updateAppTags(),u=o.update().then(function(t){return(c=-1!==t.debugLogs.indexOf("productoverrides"))&&i.debug("config",t),new a(r)}).fail(function(t){i.error(t),u=null})}catch(t){return i.error(t.toString()),$.reject(t.toString())}})}function f(t){var e=n(t||{});e.overrides&&(e.overrides=e.overrides.map(function(t){return t.join(":")}).join(",")),r(this,{options:e})}return f.prototype={type:"products:override",noKeyOk:!0,get:function(t,e){return l(this.options).then(function(n){return n.get(t,e)})}},f}()}(),m=function(){function t(){}return t.prototype={type:"products:state",noKeyOk:!0,get:function(t,r){return a(f,t,r).then(function(t){return function(t){var r=s.ls(),i=!(!r.calories&&!r.productstatus),u=Object.keys(t),c={},l=u.map(function(e){var n=t[e],r=n.dynID?n.dynID:e;return i&&(c[r]=t[e]),r}).filter(function(t){return!!t});l=o(l),i&&(c=n(c));var f={products:c};return $.when(a("calories",l,f),a("productstatus",l,f),e.prices.get(l)).then(function(e,n,r){var o={};for(var i in t){var a=t[i].dynID||i,s={price:r[a],cal:e[a],status:n[a]};for(var u in s)null===s[u]&&delete s[u];o[i]=$.extend(!0,{},t[i],s)}return o})}(t).then(function(e){for(var n in t){var r=t[n],o=e[n]||{};for(var i in o)null!=o[i]&&(r[i]=o[i])}return t})})}},t}();$.extend(s,{productstate:m,products:p,productsoverride:v,productslocal:u.deprecated("productslocal","productsoverride")}),s.set({productstate:new m,products:new p})}(window),function(t){var e="data/regions.json",n="region",r=n+"data",o=n+"config",i=n+"layouts",a=n+"slots",s=n+"promos",u=0,c=1,l=2,f=t.libDMB,d=t.defineROProperties,h=f.copy,p=f.data,v=p.get,m=p.providers,g=Object.keys,y=f.unique,_=new m.JSON(e),b=["title","description","slots","promoslots","regions","dmbregion","subs"],w=[e,"sanitized"];function S(t,e){f.config.features.allowRPCContext&&(e=e||{},t=t||[],f.editor.addRegions(t.map(function(t){return(e[t]||{}).dmbregion||t})))}_.cacheable=!0;var E=d({STATE_OK:u,STATE_INACTIVE:c,STATE_MISSING:l});function O(t){return t&&t.length}function D(t){var e;return(t=t||{}).stages=t.stages||{},(e=t.debugLogs=t.debugLogs||{}).error=e.error||[],e.warn=e.warn||[],t}function M(t,e,n){n=D(n);var r,o,i,a,s=(r=t,n.stages[r]);return s||(o=n,i=t,a=v(t,e,n),o.nostage||(o.stages[i]=a),s=a),s}function C(t,e){d(t.prototype,e)}function x(t,e){var n,o=g(t);return e=D(e),SPECTRA.modules.require("dmb.editor.rpc").then(function(i){if(i)n=M(r,null,e).then(function(n){return S(o,n),$.when.named(t,function(t,e){var r=(n[e]||{}).dmbregion||e;return v("tags",t,{__dmb__:{region:r}})}).then(function(t){for(var n in t){var r=t[n]||{};r.result?t[n]=r.result:(e.debugLogs.error.push("getRegionTags",n,r.item,r.error),t[n]={},delete t[n])}return t})});else{var a=o.reduce(function(e,n){return e.concat(t[n])},[]);n=v("tags",a).then(function(e){return o.reduce(function(n,r){return n[r]=t[r].reduce(function(t,n){var r=e[n];return null==r&&(r=""),t[n]=r,t},{}),n},{})})}return n})}function P(){var t;this.get=function(e,n){return n=D(n),(t?$.when(t):_.get().then(function(e){if(e=e.regions||{},t=e){var r=g(e).reduce(function(t,n){var r=e[n],o=(e[n]=b.reduce(function(t,e){return r[e]&&(t[e]=r[e],delete r[e]),t},{}),g(r));return o.length&&(null===t&&(t={}),t[n]=o),t},null);r&&n.debugLogs.warn.push(w.concat(r))}return t||{}})).then(function(t){return e=(e||[]).length?e:g(t),h(e.reduce(function(e,n){return e[n]=t[n],e},{}))})}}function N(){}function T(){}function k(t){var e="!"===t.charAt(0);return{state:e?c:u,id:e?t.substr(1):t}}function A(t){var e={},n=t.slots;for(var r in n){var o=n[r];for(var i in o){var a=o[i]||"",s=a.split("_").map(k),u=s.shift().id;if(o[i]={id:i,raw:a,pid:u,meta:{subs:s,options:[]}},""!==u){var c=u+"_options";(e[c]=e[c]||[]).push(o[i])}}}return v("tags",g(e)).then(function(n){return g(n).forEach(function(t){(e[t]||[]).forEach(function(e){var r=n[t]||"",o=""===r?[]:r.split("_");e.meta.options=o.map(k).map(function(t){return t.pid=[e.pid,t.id].join("_"),t})})}),t})}function j(){d(this,{post:A})}function L(){}function R(){}d(f,{products:d({},{states:E})}),C(P,{type:r,noKeyOk:1}),C(N,{type:i,get:function(t,e){return x(t.reduce(function(t,e){return t[e]=[e+"_lineup"],t},{}),e).then(function(t){var e,n={};for(var r in t)(e=t[r][r+"_lineup"])&&e.length&&(n[r]=e);return n})}}),C(T,{type:o,get:function(t,e){return e=D(e),M(r,null,e).then(function(n){var r={slots:[],promoslots:[]},a=e[o]={};var s=y(t.reduce(function(t,e){return t.concat([e]).concat((n[e]||{}).regions||[])},[])),u=s.filter(function(t){return!a[t]});return e.fastrpc&&S(s,n),(e.nolayouts?$.when({}):M(i,s,e)).then(function(t){return u.forEach(function(e){var o=a[e]=n[e]||{};for(var i in r)!o[i]&&r[i]&&(o[i]=r[i]);o.id=e,o.layout=t[e]}),a})})}}),C(j,{type:a,get:function(t,e){var n=this.post;return e=D(e),M(o,t,e).then(function(t){var r=g(t),o={},i={},s=r.reduce(function(e,n){var r=t[n];return e[n]=[n+"_lineup"].concat(o[n]=r.slots).concat(i[n]=r.promoslots),e},{}),u={slots:{},promoslots:{},lineup:{}};return x(s,e).then(function(e){return r.reduce(function(n,r){var o=e[r];return n.slots[r]=t[r].slots.reduce(function(t,e){return t[e]=o[e],t},{}),n.promoslots[r]=t[r].promoslots.reduce(function(t,e){return t[e]=o[e],t},{}),n.lineup[r]=o[r+"_lineup"],n},u)}).then(n).then(function(t){return e[a]=t,t})})}}),C(L,{type:s,get:function(t,e){return e=D(e),M(a,t,e).then(function(t){var n={},r={},o=h(t.promoslots||{});for(var i in o){var a=o[i],s=r[i]={};for(var u in a){var c=a[u]||"",l=s[u]={id:u,promoid:c,stack:[],products:[]};if(c.length){var f=c+":"+u;n[f]=(n[f]||[]).concat([l])}}}var d=g(n);return v("promostack",d,e).then(function(t){return Object.keys(t).forEach(function(r){var o=n[r],i=t[r].stack;o?i.forEach(function(t){var e=t.pids||[];o.forEach(function(t){t.stack=i,t.products.push.apply(t.products,e)})}):e.debugLogs.warn.push(["promostack",r,"source/result mismatch",d])}),r}).fail(function(t){e.debugLogs.error.push(["promostack",g(n),t])})})}}),C(R,{type:"regionstate",get:function(t,e){return(e=D(e)).nolayouts=!0,e.fastrpc=!0,M(a,t,e).then(function(n){return M(s,t,e).then(function(r){var i=e[o];for(var a in i)i[a].lineup=n.lineup[a];var s=e.regionstate={regions:h(i)},u={},c=s.regions,f=g(c),d=[],p=f.reduce(function(t,e){var o=c[e],i=n.slots[e]||{},a=r[e]||{},s=[];return o.slots=o.slots.map(function(t){var e=i[t],n=(e.meta.options||[]).map(function(t){return t.pid});return s=s.concat(n).concat([e.pid]),e}),o.promoslots=o.promoslots.map(function(t){var e=a[t]||{},n=(e.stack||[]).map(function(t){var e={promoid:t.promoid,role:t.role};return delete t.slotid,delete t.promoreq,delete t.role,u[t.promoid]=t,e});return s=s.concat(e.products),{id:e.id,products:e.products,stack:n,promoid:e.promoid}}),s=y(s.filter(O)),d=d.concat(s),t[e]=s,t},{});return d=y(d),v("productstate",d).then(function(n){return e.products=s.products=n,e.promos=s.promos=u,function(t,e,n,r){var o=!e.concise,i=n.productsEx=g(n.products).reduce(function(t,n){var r=t[n].subs||{};for(var o in r){var i=r[o],a=t[i];a||(e.debugLogs.warn.push(["missing product",i,"referenced in",n]),a=t[i]||{state:l}),r[o]=a,r[o].pid=i}return t},h(n.products)),a=o?g(n.promos).reduce(function(t,e){return t[e].pdata=t[e].pids.map(function(t){return i[t]}),t},h(n.promos)):h(n.promos),s=n.regions,u=g(s).reduce(function(t,e){var n=t[e]=s[e],u=r[e].reduce(function(t,e){return t[e]=i[e]||{},t},{}),c={};return n.slots=n.slots.map(function(t){var e=u[t.pid];return e&&(e.options=(t.meta||{}).options.map(function(t){var e=i[t.id]||{};return e.state=t.state,e.id=t.id,e.pid=t.pid,o&&(e.product=u[e.pid]),e}),o&&(t.product=e)),t}),n.promoslots=n.promoslots.map(function(t){return t.stack=t.stack.map(function(t){return c[t.promoid]=a[t.promoid],o?a[t.promoid]:t}),o&&t.products&&(t.products=t.products.map(function(t){return i[t]})),t}),n.data={products:u,promos:c},n.regions=(n.regions||[]).map(function(t){return s[t]}),t},{});if(finalResult=t.reduce(function(t,e){return t[e]=u[e],t},{}),e.testcopy)try{h(finalResult)}catch(t){e.debugLogs.err.push(["Exception in post-process",t])}return finalResult}(t,e,s,p)})})})}}),m.rns([P,T,R,N,j,L])}(window),function(t){var e=t.libDMB,n=e.unique,r=e.promos={},o=e.data,i=o.get,a=o.providers,s=e.copy,u=t.defineROProperties,c=SPECTRA.loggerLib.getLogger("libdmb.data.promo").pipeToSinks("remote"),l={uid:0,type:"content",cmid:0,mediatype:"image",file:"",size:68,duration:-1,name:"none",tags:{DMB_ID:{value:"none"},DMB_TYPE:{value:"Promo"}},schedule:{}},f={NONE:0,PROMO:1,DEFAULT:2};function d(t){var e=t.split(":"),n={key:t,id:e[0]};return e[1]&&e[1].length&&(n.region=e[1]),n}u(r,{roles:u({},f)});var h=SPECTRA.modules.require("dmb.editor.rpc"),p=function(){function t(t,e,n){var r=t.tags||{},o=(r.DMB_TYPE||{}).value,i=((r.DMB_ID||{}).value,function(t){var e=(t.DMB_PROMO_DEFAULT_FOR||{}).value;switch(typeof e){case"number":case"string":case"undefined":e=[e]}return e}(r));if("Promo"!==o)return f.NONE;if((r.DMB_ID||{}).value===e)return f.PROMO;if(n&&i.indexOf(n)>=0)return f.DEFAULT;return f.NONE}var r,o=new(function(){var t="assets:promo:sapi",n=a.proto.assetsEx(t+":promo",function(t){return{type:"content",tags:[{DMB_TYPE:"Promo"},{DMB_ID:t}],withtags:1}}),r=a.proto.assetsEx(t+":promo",function(t){return{type:"content",tags:[{DMB_TYPE:"Promo"},{DMB_PROMO_DEFAULT_FOR:t}],withtags:1}});function o(t){for(var n in t)t[n]=e.assets.postProcess(t[n]);return t}function i(){}return n.canRPC=r.canRPC=function(){return!1},i.prototype={type:t,get:function(t,e){var i=[],a=[];return t.forEach(function(t){i.push(t.id),a.push(t.region)}),$.when(n.get(i).then(o),r.get(a).then(o)).then(function(e,n){return e=e||{},n=n||{},t.reduce(function(t,r){return t[r.key]=$.extend({},e[r.id]||{},n[r.region]||{}),t},{})})}},i}());function i(){}return e.events.on("data:rpc",function(t,n){r=new function(t){this.get=function(n,r){var o=r.debugLogs?r.debugLogs.error:null,i=n.reduce(function(t,e){return t[e.key]=e,t},{});return $.when.named(i,function(e){return t.getPromosByID(e.id,e.region)}).then(function(t){for(var n in t){var r=t[n];r.error&&errorAccum&&(o.push([r.error]),c.error(r.error)),t[n]=e.assets.postProcess(r.result)}return t})}}(n)}),$.extend(i.prototype,{type:"assets:promo:assets",get:function(i,a){a=a||{};Date.now();var u=n(i).reduce(function(t,e){return t.concat([d(e)])},[]);return h.then(function(n){return(r||o).get(u,a).then(function(n){return u.forEach(function(t){if("none"===t.id){var e={};e[l.cmid]=s(l),n[t.key]=e}}),function(n,r){n=s(n);var o=e.isDev,i=["mp4","webm"];for(var a in n){var u=n[a],c=d(a);for(var l in u){var h=!0,p=u[l],m=(p.tags,f.NONE);if("video"===p.mediatype){var g=p.file.substr(p.file.lastIndexOf(".")+1);-1===i.indexOf(g.toLowerCase())&&(h=!1)}else o&&"image"===p.mediatype&&(p.duration=-1);h&&(h=(m=t(p,c.id,c.region))!==f.NONE),h?(p.promoRole=m,p.url=v(p.file)):delete u[l]}}return n}(n)})})}}),i}();function v(t){var n=e.path.abs(t),r=e.path.location(n),o=location;if(r.protocol!==o.protocol&&"https:"!==r.protocol){var i=r.href.replace(r.protocol,o.protocol);r.href=i}return r.href}function m(t,r,o){e.config.shared.static.isHTML5Video;var i,a,u="standalone"===SPECTRA.impl_id(),l=t.tags||{},f=[],d={x:0,y:0,w:0,h:0},h={},p=[];try{i=l.DMB_PROMO_PIDS.value.split(",")}catch(t){i=[]}try{a=l.DMB_PROMO_PRODUCTS.value.split(",")}catch(t){a=[]}var v=(l.DMB_PROMO_GEO||h).value;if(v){var m=v.match(/\-?[0-9]+/g);d={w:m[0],h:m[1],x:m[2]||0,y:m[3]||0}}try{var g=[],y=0;i.forEach(function(t,e){var n,o={},i={},a="",s=["pid",t.replace(/[^a-z0-9\-_]/gi),e].join("-"),d=(l["DMB_PROMO_CSS_"+e]||h).value||"{}";u&&"object"==typeof d&&(d=JSON.stringify(d));var v=JSON.parse(d);for(var m in v){var _=v[m],b=_.split(";");a+="#overlay #"+s+"."+m+" {"+_+"}\n";var w={};for(var S in b){var E=b[S].split(":");w[E[0]]=E[1]}delete w[""],o[m]=w}p.push(a),n=(l["DMB_PROMO_LAYOUT_"+e]||h).value;var O=(l["DMB_PROMO_ANIM_"+e]||h).value,D=(O||"").split(",");for(var M in D){var C=D[M].split(":"),x=parseInt(C[0]),P=parseInt(C[2]),N=C[1];if(isNaN(x)||isNaN(P))null!=O&&c.error("Invalid animation tag DMB_PROMO_ANIM_"+e,r,O,C[0],C[2]);else{var T=x+P;y=Math.max(y,T),i[x]={css:N,duration:P}}}i[0]||(i[0]={css:"hidden",duration:1}),g[e]={index:e,pid:t,css:o,cssrule:a,layout:n,keyframes:i,DOMID:s,cssclass:(l["DMB_PROMO_CLASS_"+e]||{}).value||""},f=f.concat(Object.keys(i)||[]).map(function(t){return parseInt(t)})});var _=t.duration;return isNaN(_)&&(_=-1),_<=0&&(_=y/1e3||1),_*=1e3,{promoid:(t=s(t)).tags.DMB_ID.value,promoreq:r,slotid:o,region:d,asset:t,duration:_,path:t.url,pids:a,products:g,role:t.promoRole,css:p,timestamps:n(f.sort(function(t,e){return t-e}))}}catch(e){return c.error("Error with result",t,e.toString()),null}}function g(){}function y(){}function _(){}g.prototype={type:"assets:promo:info",get:function(t,e){return i("promoassets",t,e).then(function(r){var o={},a={},u=[];for(var c in r){var l=r[c];for(var f in l){var h=l[f],p=o[f];p||(p=m(h),u=u.concat((p.products||[]).map(function(t){return t.pid}))),a[f]||(a[f]={}),a[f][c]=h.promoRole,delete p.asset.promoRole,o[f]=p}}return(u.length?i("productstate",u,e):$.when({})).then(function(e){function i(t){return t.state=e[t.pid],t}for(var u in o){var c=o[u];c.products=c.products.map(i)}return n(t).reduce(function(t,e){var n=r[e]||{},i=d(e),u=t[e]={};for(var c in n){var l=$.extend(s(o[c]),{promoreq:i.id,slotid:i.region});l.role=a[c][i.key],u[c]=l}return t},{})})})}},y.prototype={type:"assets:promo:stack",get:function(t,e){return i("promos",t,e).then(function(e){return t.reduce(function(t,n){var r=d(n),o=e[r.key],i=(t[r.key]={},Object.keys(o).map(function(t){return o[t]}).sort(function(t,e){return t.role-e.role}));return t[r.key]={stack:i,query:{promoid:r.id,slotid:r.region}},t},{})})}},u(_.prototype,{type:"assets:promo:stack:tag",get:function(t,e){var n=t,r=n.indexOf("")+1;return n=n.filter(function(t){return!!t}),i("tags",n,e).then(function(t){var o=n.map(function(e){return t[e]+":"+e});return i("promostack",o,e).then(function(t){var e={};for(var n in r&&(e[""]={query:{slotid:"",promoid:""},stack:[{}]}),t){var o=t[n];e[o.query.slotid]=o}return e})})}}),$.extend(a,{promos:g,promoassets:p,promostack:y,promostacktag:_}).set({promos:new g,promoassets:new p,promostack:new y,promostacktag:new _})}(window),function(t,e){var n,r,o=t.defineROProperties,i=t.libDMB,a=i.call,s="POS",u="DMB.COD",c="onpeer",l="onmessage",f="onopen",d="onclose",h="onerror",p=[f,d,h,l,c],v=$.noop,m={onpayload:v,onpeer:v,onclose:v,onmessage:v},g=e.loggerLib.getLogger("dmb.orderbridge").pipeToSinks("remote");function y(t,e){return function(n,r){return a(t,e,n,r)}}function _(t,r){var i,s=this;function p(t){var e=t.hdr,n=e.type,r=e.from;switch(n){case"CHAD":case"CHRM":a(s,c,r,"CHAD"===n);break;case"CHBC":a(s,l,t.data,r)}}o(s,{send:function(t,e){i.send(t,e)},close:function(){i._signal_provider.transport.close()}}),setTimeout(function(){(n||(n=e.require_service("comm")),n.promise()).then(function(e){var n={channel:u,id:t,type:"online"};null!=r&&(n.hostname=r),e.getClient(n).then(function(t){(i=t).listen(p);var e=i._signal_provider.transport;e[h],e[h]=function(t){a(s,h,t)},i[d]=function(t){try{delete i._signal_provider,i=null}catch(t){g.error(t)}return a(s,d,t)},a(s,f)}).fail(function(t){a(s,h,t)})})})}function b(t,n){var r,i=this;p.forEach(function(t){i[t]=v}),o(i,{send:function(t,e){if(r)return r.send(t,e);throw new Error("Client not ready. use "+f)},close:function(t,e){r&&r.close()}}),setTimeout(function(){$.when(e.modules.require("dmb.editor.rpc")).then(function(e){r=e?new function(t,e){var n=this;o(n,{send:v,close:v}),setTimeout(function(){a(n,f)})}:new _(t,n),p.forEach(function(t){r[t]=t===h?function(e){queue=[],a(i,t,e)}:y(i,t)})}).fail(function(t){a(i,h,t)})})}o(i,{orderBridge:o(m,{connect:function(t){var e=$.Deferred();return r?e.resolve(m):((r=new b("view-"+t,null,!0))[f]=function(){e.resolve(m)},r[h]=function(t){e.reject(t)},r[d]=function(t,e){r=null,a(m,d,t,e)},r[c]=y(m,c),r[l]=function(t,e){e===s&&a(m,"onpayload",t,e),a(m,l,t,e)}),e},send:function(t,e){return!!r&&r.send(t,e||s)},close:function(){return!!r&&r.close()},Client:b})})}(window,SPECTRA),function(t,e){var n=SPECTRA.modules,r=t.libDMB,o=r.SAPI;n.define("libdmb",["dmb.config","dmb.preview.init","dmb.editor.rpc",{data:o.data(),assets:o.assets()}],function(t){return r}),t.defineROProperties(r,{ready:$.when(n.require("libdmb"))})}(window),function(t){var e=t.libDMB,n=e.data,r=t.defineROProperties,o=SPECTRA.loggerLib.getLogger("dmb.region"),i={};function a(t){i[t]=i[t]||o.warn("'libDMB.region."+t+"' will be removed in a future version. See DMBC-47")||1}function s(t,e,n){return t.notify({stage:e,args:n})}function u(t){var e=t.split(":");r(this,{fullregion:t,id:t.replace(/\W/g,"_"),region:e[0],lineup:e[1]}),a("RegionStateHandler"),o.debug("Creating RegionStateHandler",t,this)}function c(t){var i=$.Deferred();return $.when(e.ready).then(function(){var a;(a=t,o.debug("UpdatingEnv",a.fullregion,a),$.when(n.get("layout",[a.fullregion])).then(function(t){var n,i=a.layout=t[a.fullregion]||{};return o.debug("Got layout",a.fullregion,t),e.config.features.allowRPCContext&&e.config.features.menuStateAutoContext&&(r(a,{dmbregion:i.dmbregion||a.region}),n={__dmb__:{region:a.dmbregion}}),e.config.handler(a.region,a.lineup,n).update().then(function(t){return o.debug("Got config",a.fullregion,t),a.config=t,{layout:i,config:t}})})).then(function(e){return s(i,"env",e),(r=t,n.menu.getState(r.region,{layout:r.layout,cfg:r.config}).then(function(t){return r.state=t,t})).then(function(n){o.debug("State",t.fullregion,e,n),s(i,"state",n),i.resolve(t)});var r}).fail(function(t){i.reject(t)})}),$.when(i)}function l(t){a("MultiRegionStateHandler"),r(this,{handlers:t.reduce(function(t,e){return t[e]=new u(e),t},{})})}r(u.prototype,{update:function(){return c(this)}}),r(l.prototype,{update:function(){return $.when.named(this.handlers,u.prototype.update)}}),e.region={StateHandler:u,MultiStateHandler:l}}(window),function(t,e){var n,r,o,i=t.libDMB,a=i.RO,s=(i.call,t.jsonRpcRemote),u=5e3,c=3e4,l="dmb.failover.peers",f={},d=!1,h={player:["adapter.state"],display:["prop.power","prop.input"]},p=[["http://",":4980"],["https://",":4983"]],v={},m=e.loggerLib.getLogger("dmb.failover");function g(t){var e,n=Object.keys(t).reduce(function(e,n){var r=t[n],o=r.error;if(o)e[n]={state:0,causes:[[o.code,o.message,JSON.stringify(o.data)].join(";")],detail:r.error};else if(r.result){var i=r.result;i.commands&&i.commands.length?(e[n]=f[n],e[n]||delete e[n]):e[n]={detail:i,players:(i.modules||[]).reduce(function(t,e){var n=e.id,r=e.state,o=e.events||[],i=t[n]={state:r};return 0===r&&(i.causes=o.filter(function(t){if(t&&3==t.level)for(var e in h)if(t.ns&&t.ns.startsWith(e)&&-1!=h[e].indexOf(t.name))return!0}).map(function(t){return[t.ns,t.name,t.msg].join(",")}).sort()),t},{})}}else{var a={msg:"No result or error"};e[n]={state:0,causes:[JSON.stringify(a)],detail:a}}return e},{}),r=(e=n,Object.keys(e).sort().reduce(function(t,n){var r=e[n],o=r.causes||[],i=r.players,a=Object.keys(i||{}).sort().reduce(function(t,e){var n=i[e],r=n.causes||[];return t.concat([e,n.state,r.length]).concat(r)},[]);return t.concat([n,o.length]).concat(o).concat(a)},[]).join("|"));if(o!==r)return o=r,f=n,n}function y(t,e){var n,r=$.Deferred(),o=t.hostname,i=o&&o.length?(n=o,(v.http?p[0]:p[1]).join(n)):"";return s(i,"Player","fullmonitoring",null,function(n){if(n.error&&-16010==n.error.code&&!e)return(o=i,a=t,u=$.Deferred(),c={user:a.user,passwd:a.passwd,remember:0},s(o,"Login","login",c,function(t){u.resolve(t)}),u).then(function(e){e.result&&1===e.result?y(t,1).then(function(t){r.resolve(t)}):r.resolve(e)});var o,a,u,c;r.resolve(n)}),r.promise()}function _(){if(!d)try{if("function"!=typeof s)return m.error("jsonRpcRemote is not a function"),i.events.emit(l,{"":{error:"jsonRpcRemote is not a function"}}),b();d=!0;var t=n.peers||[],e={},r=t.map(function(t){return y(t).then(function(n){var r,o,i,a;e[t.hostname]=(o={},i=(r=n).result,(a=r.error)?o.error=a:i&&(o.result=i),o)})});$.when.apply($,r).then(function(){var t=g(e);t&&(m.log("New state",o),i.events.emit(l,t))}).always(function(){d=!1})}catch(t){m.error(t),d=!1}}function b(){r=clearInterval(r),d=!1}a(i,{failover:a(v,{start:function(t){n=n||{};var e=parseInt(t.frequency);return isNaN(e)?e=c:e<u&&(e=u),n.frequency=e,n.peers=t.peers||[],b(),i.editor.ready.then(function(t){t||(r=setTimeout(function(){_(),r=setInterval(_,n.frequency)}))})},stop:b,EVENT:l})})}(this,SPECTRA),function(){var t=window.defineROProperties;Math.floor;function e(e,n){if(!n||!n.length)throw new Error("Empty keyframes");if(e<0||isNaN(e))throw new Error("No Start Epoch");0!==(n=n.map(function(t){return+t}).filter(function(t){return!isNaN(t)}).sort(function(t,e){return t-e}))[0]&&n.unshift(0);var r,o=this,i=!1,a=n[n.length-1],s=+e;function u(t){var e=t-(t-s)%a,r=t-e,o=n.reduce(function(t,e,n){return e<=r?n:t}),i=n[o],u=o+1;return 0===u&&(u=1),{lastLoop:e,index:o,localTime:i,globalTime:e+i,duration:(n[u]-i)%a}}function c(t,e,r){Date.now();try{o.onkf&&(o.onkf(t,e,r),t===n.length-1&&o.onkf(0,e,0))}catch(t){}l()}function l(){r=clearTimeout(r);var t=Date.now(),e=u(t),o=e.index,i=e.lastLoop,a=o+1,s=n[a],l=i+s,f=l-t;f<0||(r=setTimeout(c,f,a,l,s))}function f(){i||l()}function d(){r=clearTimeout(r)}function h(){return!!r}t(o,{keyframes:n,duration:n[n.length-1],getKeyFrameAt:u,setRef:function(t){var e=h();t!==s&&(e&&d(),s=t,e&&f())},isActive:h,start:f,stop:d,shutdown:function(){d(),i=!0}}),Object.defineProperty(o,"ref",{enumerable:!0,get:function(){return s}})}function n(t){var e=0,n=t.split(",")||[],r={};return n.map(function(t){var n=t.split(":"),o=n[0],i=parseInt(n[1]);i=isNaN(i)?0:i;var a=r[+e]||[];a.push(o),r[+e]=a,e+=i}),r[e]||(r[e]=[null]),r}var r=function(){var t=getURLParam("seq",void 0);if(t){var r=n(t),o=Object.keys(r),i=new e(Date.now(),o);return i.keyFrameData=r,libDMB.events.on("libdmb:editor:editing",function(t){if(libDMB.editing)i.stop();else if(i.start(),i.onkf){var e=i.getKeyFrameAt(Date.now());i.onkf(e.index,e.globalTime,e.localTime)}}),libDMB.SAPI.init().done(function(){i.ref;i.setRef(libDMB.fireTime)}),i}}();libDMB.animation={utils:{stringToKeyFrameData:n},animators:{sequence:r,AnchoredLoopKF:e}}}(),function(t,e){libDMB.dev={avPostMessage:function(n){libDMB.SAPI.impl().then(function(){if(!libDMB.isDev&&"s200src"!==e.impl_id())return e.loggerLib.getLogger("dmb.dev").error("Should only be called in standalone"),void console.error("libDMB.dev.avPostMessage() called outside standalone");var r,o=t.getURLParam,i=parseInt,a=isNaN;try{r=t.performance.timing.navigationStart}catch(t){r=Date.now()}var s=i(o("offset",0)),u=a(s)?0:s,c=function(){var t,e=o("ft",null),n=+e;if(n>0)t=n;else if(n<0){var i=new Date;i.setHours(0,0,0,0),t=i.getTime(),u=r-s-i}else null!=e?(u=0,t=0):t=r-u;return t}(),l=i(o("avp")),f=o("avd","").split("."),d=i(f[1]),h=i(f[0]),p={type:"multiplayer.init",videoPlayer:o("vp","HTML5"),playerId:a(l)?0:l,logicalPlayerId:a(d)?1:d,dur:-1,seek:u,ft:c,playerIp:"127.0.0.1",playerHostName:"localhost",playlist:{scale:[1,1],name:"playlist",id:0,deviceId:-1}};a(h)||(p.playlist.deviceId=h);var v=$.extend(!0,{},p,n);if(!v.regionName||!(v.playlist||{}).geometry){var m=["rl",0,v.playerId,""].join("_"),g=[0,0,1920,1080],y=[g[2],g[3],g[0],g[1]],_=m+o("rn","region")+"-"+y.join("-");v.regionName=_,v.playlist.geometry=g}t.postMessage(JSON.stringify(v),"*")})}}}(window,SPECTRA);try{!function(t,e){"use strict";var n=t.libDMB,r=n.unique,o=n.SAPI.data,i=n.RO,a=(Array.isArray,e.loggerLib.getLogger("dmb.data.db")),s={};function u(t){s[t]=s[t]||a.warn("Using deprecated",t)||Date.now()}function c(t){return null==t?t:t.trim()}function l(t,e){$.extend(t.prototype,e)}function f(t,e,n,i){u(this.type),this.get=function(a){var s=Array.isArray,u=(s(i)?i:i.split(",")).map(c);u.join(", "),u.length;return a=r(a),o().then(function(r){var o=u.map(function(o,i){return r.dbproperties(t,e,n,o,a,-1).update().then(function(t){for(var e in t)s(t[e])||(t[e]=[t[e]]);return t})});return $.when.apply($,o).then(function(){var t=arguments;return a.reduce(function(e,n){var r=u.map(function(e,r){return t[r][n]});return r&&s(r[0])&&(e[n]=r[0].map(function(t,e){return r.map(function(t,n){return t[e]})})),e},{})})})}}function d(t,e,n,r){u(this.type);var o=(Array.isArray(r)?r:r.split(",")).map(c),i=new f(t,e,n,o);function a(t){return o.reduce(function(e,n,r){return e[n]=t[r],e},{})}this.get=function(t){return i.get(t).then(function(t){var e={};for(var n in t)e[n]=scalarToArray(t[n]).map(a);return e})}}l(f,{type:"DBLegacy"}),l(d,{type:"DBMapLegacy"}),i(n.data.providers,{DBLegacy:f,DBMapLegacy:d})}(window,SPECTRA)}catch(t){console.error(t)}var StrataDash=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){return void 0===e&&(e={log_level:2,log_cache_size:200}),t.call(this,e)||this}return o(e,t),e.prototype.catch=function(t){return _.has(t,"level")&&_.has(t,"msg")&&_.has(t,"values")?(this[t.level](t.msg,t.values),"error"===t.level&&console.trace()):(console.error(t),console.trace()),t.fallback?t.fallback:void 0},e.prototype.rejection=function(t,e,n,r){void 0===t&&(t="Error"),void 0===e&&(e="error"),void 0===n&&(n=[]);var o={msg:t,level:e,values:n};return r&&(o.fallback=r),o},e}(n(1).default);e.Base=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this,e)||this;return n.initLogging(),n.log_cache_size=e.log_cache_size,n.setLogLevel(n.isNumber(e.log_level)?e.log_level:6),n}return o(e,t),e.prototype.setLogLevel=function(t){"true"===sessionStorage.getItem("log_debug_mode")&&this.overrideLogsFromSession()?this.warn("Overriding the log level from session storage. Setting it to "+this.log_lvl+"."):(this.log_lvl=t,this.info("The log level is set to "+this.log_lvl+"."))},e.prototype.overrideLogsFromSession=function(){var t=Number(sessionStorage.getItem("log_debug_level"));return!!this.isNumber(t)&&(this.log_lvl=t,this.log_lvl===t)},e.prototype.initLogging=function(){this.log_styles={group:{shared:"padding: 2px 5px; font-size: 12px; color: #000; ",detail:"border-right: 1px solid #d9dce0; padding-right: 11px;",log:"background: #d9dce0; padding-right: 33px;",success:"background: #ceedc9;",info:"background: #b2d7ff; padding-right: 26px;",warn:"background: #fff0a8; padding-right: 26px;",error:"background: #ffd1d1; padding-right: 19px;"},single:{shared:"padding: 2px 5px; font-size: 12px; font-weight: bold;",detail:"border-right: 1px solid #d9dce0; padding-right: 40px;",log:"background: #d9dce0; padding-right: 62px;",success:"background: #ceedc9; padding-right: 33px;",info:"background: #b2d7ff; padding-right: 55px;",warn:"background: #fff0a8; padding-right: 45px;",error:"background: #ffd1d1; padding-right: 38px;"}},this.log_levels={detail:6,log:5,success:4,info:3,warn:2,error:1},this.log_cache={items:[]},this.logger_namespace="default"},e.prototype.endLogging=function(){"default"!==this.logger_namespace&&this.warn("Your logging namespace of "+this.logger_namespace+" was never closed."),this.setLogSessionCache(this.log_cache)},e.prototype.clearLoggingCache=function(){this.log_cache={items:[]},this.setLogSessionCache({items:[]})},e.prototype.cacheLog=function(t,e,n,r){void 0===r&&(r=this.logger_namespace),this.log_cache.items.length<this.log_cache_size&&this.log_cache.items.push({type:"Log",args:t,method:e,title:n,namespace:r})},e.prototype.cacheLogGroup=function(t,e,n,r){void 0===r&&(r=this.logger_namespace),this.log_cache.items.length<this.log_cache_size&&this.log_cache.items.push({type:"Group",header:t,title:e,method:n,namespace:r})},e.prototype.setLogSessionCache=function(t){sessionStorage.setItem("logger_cache",this.log_cache)},e.prototype.cfg=function(t){return t.log_cfg=!0,t},e.prototype.startNamespace=function(t){"default"!==this.logger_namespace&&this.warn("The previous namespace of "+this.logger_namespace+" was never closed."),this.logger_namespace=t},e.prototype.endNamespace=function(){this.logger_namespace="default"},e.prototype.showNamespace=function(t){this.showLogsWithNamespace(t)},e.prototype.showAllLogs=function(){this.showLogsWithNamespace("all")},e.prototype.showLogsWithNamespace=function(t){console.clear(),this.log_cache.items.forEach(function(e){"all"!==t&&t!==e.namespace||this["showLogsOf"+e.type](e)}.bind(this))},e.prototype.showLogsOfLog=function(t){this.processLog(t.args,t.method,t.title)},e.prototype.showLogsOfGroup=function(t){"groupEnd"===t.method?this.groupEnd(!1):this.processGroup(t.header,t.title,t.method)},e.prototype.toggleDebug=function(){var t=sessionStorage.getItem("log_debug_mode");this.detail("session_mode",typeof t,t);var e=!!t&&!this.parseBoolean(t);sessionStorage.setItem("log_debug_mode",e.toString()),this.warn(e?"Logging debug mode is enabled.":"Logging debug mode is disabled.")},e.prototype.setDebugLevel=function(t){if(this.isNumber(t)){var e=""+t;sessionStorage.setItem("log_debug_level",e),this.success("The debug log level has been set to "+sessionStorage.getItem("log_debug_level")+".")}else this.error("Failed: the value specified is not a number.",t)},e.prototype.detail=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.processLog(t,"log","detail")},e.prototype.groupDetail=function(t,e){this.processGroup(t,"detail",e)},e.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.processLog(t,"log","log")},e.prototype.groupLog=function(t,e){this.processGroup(t,"log",e)},e.prototype.success=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.processLog(t,"log","success")},e.prototype.groupSuccess=function(t,e){this.processGroup(t,"success",e)},e.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.processLog(t,"info","info")},e.prototype.groupInfo=function(t,e){this.processGroup(t,"info",e)},e.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.processLog(t,"warn","warn")},e.prototype.groupWarn=function(t,e){this.processGroup(t,"warn",e)},e.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.push(Error().stack),this.processLog(t,"error","error")},e.prototype.groupError=function(t,e){this.processGroup(t,"error",e)},e.prototype.processLog=function(t,e,n){if(this.log_lvl>=this.log_levels[n]){var r=this.makeLogConfig(t,n);t=this.cleanConfigFromArgs(t),this.printLog(t,e,n,r),this.cacheLog(t,e,n,r.namespace?r.namespace:void 0)}},e.prototype.processGroup=function(t,e,n){void 0===n&&(n=!0);var r=n?"groupCollapsed":"group";if(this.cacheLogGroup(t,e,r),this.log_lvl>=this.log_levels[e]){var o=this.makeLogConfig([t],e);console[r]("%c"+this.capitalize(e),o.styles,t)}},e.prototype.groupEnd=function(t){void 0===t&&(t=!0),console.groupEnd(),t&&this.cacheLogGroup("","groupEnd","")},e.prototype.printLog=function(t,e,n,r){t.length>1?this.printLogGroup(t,n,e,r):this.printLogSingle(t,n,e,r)},e.prototype.makeLogConfig=function(t,e){var n=this.findLogConfig(t);if(-1!==n){var r=t.length>2?"group":"single",o=this.log_styles[r].shared,i=t[n];return i.styles=o+(i.styles?i.styles:this.log_styles[r][e]),i}r=t.length>1?"group":"single";return{styles:(o=this.log_styles[r].shared)+this.log_styles[r][e]}},e.prototype.cleanConfigFromArgs=function(t){var e=this.findLogConfig(t);return-1!==e&&t.splice(e,1),t},e.prototype.printLogGroup=function(t,e,n,r){var o=this.isString(t[0])?t[0]:"";console.groupCollapsed("%c("+(t.length-1)+") "+this.capitalize(e),r.styles,o);for(var i=1;i<t.length;i++)console[n](t[i]);console.groupEnd()},e.prototype.printLogSingle=function(t,e,n,r){console[n]("%c"+this.capitalize(e),r.styles,t[0])},e.prototype.findLogConfig=function(t){for(var e=-1,n=0;n<t.length;n++)this.isObject(t[n])&&(e=t[n].log_cfg?n:e);return e},e}(n(2).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.setDayPartConversions()}return t.prototype.setDayPartConversions=function(){this.daypart_conversions={breakfast:"brk",lunch:"lun",dinner:"din",balanceofday:"bod"}},t.prototype.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.prototype.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t.prototype.isObject=function(t){return t===Object(t)},t.prototype.isString=function(t){return"string"==typeof t},t.prototype.parseBoolean=function(t){if(!this.isString(t))throw"value is not of type String.";switch(t){case"0":case"false":return!1}return!0},t.prototype.arrayContents=function(t,e){for(var n=0;n<t.length;n++)if(typeof t[n]!=e||"number"==typeof t[n]&&!1===_.isFinite(t[n]))return!1;return!0},t.prototype.arrayReplaceAll=function(t,e,n){return t.map(function(t){if(t===e)return n})},t.prototype.grabBrowserInfo=function(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"ie",version:(t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""}:"Chrome"===n[1]&&null!=(t=e.match(/\b(OPR|Edge)\/(\d+)/))?{name:t[1].replace("OPR","Opera").toLowerCase(),version:t[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0].toLowerCase(),version:n[1]})},t.prototype.detectOS=function(){return-1!=navigator.appVersion.indexOf("Win")?"windows":-1!=navigator.appVersion.indexOf("Linux")?"linux":""},t.prototype.parseTemplate=function(t,e){for(var n=t,r=0;r<e.length;r++){var o=e[r].id,i=e[r].data;for(var a in i)-1!=t.indexOf("{{"+o+"-"+a+"}}")&&(n=n.replace("{{"+o+"-"+a+"}}",i[a]))}return n},t.prototype.camelToHyphen=function(t){return t!=t.toLowerCase()&&(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),t},t.prototype.hyphenToCamel=function(t){return-1!=t.indexOf("-")&&(t=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})),t},t.prototype.snakeToCamel=function(t){return-1!=t.indexOf("_")&&(t=t.replace(/_([a-z])/g,function(t){return t[1].toUpperCase()})),t},t.prototype.splitCamelCase=function(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1 $2").split(" ")},t.prototype.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()},t.prototype.setRemoveAttr=function(t,e,n){for(var r=0;r<e.length;r++)"set"===n?t.setAttribute(e[r][0],e[r][1]):t.removeAttribute(e[r])},t.prototype.applyClasses=function(t,e){this.loopTargetsAndClasses("add",t,e)},t.prototype.removeClasses=function(t,e){this.loopTargetsAndClasses("remove",t,e)},t.prototype.loopTargetsAndClasses=function(t,e,n){for(var r=0;r<n.length;r++)for(var o=0;o<e.length;o++)n[r].classList[t](e[o])},t.prototype.getDayPartAbbrev=function(t){return this.daypart_conversions[t]},t}();e.default=r}]);"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(t){if("Element"in t){t=t.Element.prototype;var e=Object,n=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},i=function(t,e){if(""===e)throw new o("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","The token must not contain space characters.");return r.call(t,e)},a=function(t){for(var e=n.call(t.getAttribute("class")||""),r=0,o=(e=e?e.split(/\s+/):[]).length;r<o;r++)this.push(e[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},s=a.prototype=[],u=function(){return new a(this)};if(o.prototype=Error.prototype,s.item=function(t){return this[t]||null},s.contains=function(t){return!~i(this,t+"")},s.add=function(){var t=arguments,e=0,n=t.length,r=!1;do{var o=t[e]+"";~i(this,o)&&(this.push(o),r=!0)}while(++e<n);r&&this._updateClassName()},s.remove=function(){var t,e=arguments,n=0,r=e.length,o=!1;do{var a=e[n]+"";for(t=i(this,a);~t;)this.splice(t,1),o=!0,t=i(this,a)}while(++n<r);o&&this._updateClassName()},s.toggle=function(t,e){var n=this.contains(t),r=n?!0!==e&&"remove":!1!==e&&"add";return r&&this[r](t),!0===e||!1===e?e:!n},s.replace=function(t,e){var n=i(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},s.toString=function(){return this.join(" ")},e.defineProperty){s={get:u,enumerable:!0,configurable:!0};try{e.defineProperty(t,"classList",s)}catch(n){void 0!==n.number&&-2146823252!==n.number||(s.enumerable=!1,e.defineProperty(t,"classList",s))}}else e.prototype.__defineGetter__&&t.__defineGetter__("classList",u)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),r=n.indexOf(t+"");~r&&(n=n.slice(r),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}()),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t}function e(){var t=setTimeout;return function(){return t(n,1)}}function n(){for(var t=0;t<w;t+=2){(0,N[t])(N[t+1]),N[t]=void 0,N[t+1]=void 0}w=0}function r(t,e){var n=this,r=new this.constructor(i);void 0===r[k]&&v(r);var o=n._state;if(o){var a=arguments[o-1];O(function(){return p(o,r,a,n._result)})}else d(n,r,t,e);return r}function o(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(i);return u(e,t),e}function i(){}function a(t){try{return t.then}catch(t){return R.error=t,R}}function s(e,n,i){var a,s,c,h;n.constructor===e.constructor&&i===r&&n.constructor.resolve===o?(c=e,(h=n)._state===j?l(c,h._result):h._state===L?f(c,h._result):d(h,void 0,function(t){return u(c,t)},function(t){return f(c,t)})):i===R?(f(e,R.error),R.error=null):void 0===i?l(e,n):t(i)?(a=n,s=i,O(function(t){var e=!1,n=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(s,a,function(n){e||(e=!0,a!==n?u(t,n):l(t,n))},function(n){e||(e=!0,f(t,n))},t._label);!e&&n&&(e=!0,f(t,n))},e)):l(e,n)}function u(t,e){var n,r;t===e?f(t,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=e),null===n||"object"!==r&&"function"!==r?l(t,e):s(t,e,a(e)))}function c(t){t._onerror&&t._onerror(t._result),h(t)}function l(t,e){t._state===A&&(t._result=e,t._state=j,0!==t._subscribers.length&&O(h,t))}function f(t,e){t._state===A&&(t._state=L,t._result=e,O(c,t))}function d(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+j]=n,o[i+L]=r,0===i&&t._state&&O(h,t)}function h(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?p(n,r,o,i):o(i);t._subscribers.length=0}}function p(e,n,r,o){var i=t(r),a=void 0,s=void 0,c=void 0,d=void 0;if(i){if((a=function(t,e){try{return t(e)}catch(t){return R.error=t,R}}(r,o))===R?(d=!0,s=a.error,a.error=null):c=!0,n===a)return void f(n,new TypeError("A promises callback cannot return that same promise."))}else a=o,c=!0;n._state!==A||(i&&c?u(n,a):d?f(n,s):e===j?l(n,a):e===L&&f(n,a))}function v(t){t[k]=I++,t._state=void 0,t._result=void 0,t._subscribers=[]}var m,g,y,_,b=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},w=0,S=void 0,E=void 0,O=function(t,e){N[w]=t,N[w+1]=e,2===(w+=2)&&(E?E(n):T())},D="undefined"!=typeof window?window:void 0,M=D||{},C=M.MutationObserver||M.WebKitMutationObserver,x="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),P="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,N=new Array(1e3),T=void 0;T=x?function(){return process.nextTick(n)}:C?(g=0,y=new C(n),_=document.createTextNode(""),y.observe(_,{characterData:!0}),function(){_.data=g=++g%2}):P?((m=new MessageChannel).port1.onmessage=n,function(){return m.port2.postMessage(0)}):void 0===D&&"function"==typeof require?function(){try{var t=Function("return this")().require("vertx");return void 0!==(S=t.runOnLoop||t.runOnContext)?function(){S(n)}:e()}catch(t){return e()}}():e();var k=Math.random().toString(36).substring(2),A=void 0,j=1,L=2,R={error:null},I=0,F=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(i),this.promise[k]||v(this.promise),b(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?l(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&l(this.promise,this._result))):f(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===A&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,u=n.resolve;if(u===o){var c=a(t);if(c===r&&t._state!==A)this._settledAt(t._state,e,t._result);else if("function"!=typeof c)this._remaining--,this._result[e]=t;else if(n===B){var l=new n(i);s(l,t,c),this._willSettleAt(l,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(u(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===A&&(this._remaining--,t===L?f(r,n):this._result[e]=n),0===this._remaining&&l(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;d(t,void 0,function(t){return n._settledAt(j,e,t)},function(t){return n._settledAt(L,e,t)})},t}(),B=function(){function t(e){this[k]=I++,this._result=this._state=void 0,this._subscribers=[],i!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){u(t,e)},function(e){f(t,e)})}catch(e){f(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return B.prototype.then=r,B.all=function(t){return new F(this,t).promise},B.race=function(t){var e=this;return new e(b(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},B.resolve=o,B.reject=function(t){var e=new this(i);return f(e,t),e},B._setScheduler=function(t){E=t},B._setAsap=function(t){O=t},B._asap=O,B.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=B},B.Promise=B,B.polyfill(),B}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Redux=t.Redux||{})}(this,function(t){"use strict";function e(t){return null==t?void 0===t?g:m:y&&y in Object(t)?function(t){var e=d.call(t,p),n=t[p];try{t[p]=void 0;var r=!0}catch(t){}var o=h.call(t);return r&&(e?t[p]=n:delete t[p]),o}(t):(e=t,v.call(e));var e}function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}var o,i,a,s,u="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,l=(u||c||Function("return this")()).Symbol,f=Object.prototype,d=f.hasOwnProperty,h=f.toString,p=l?l.toStringTag:void 0,v=Object.prototype.toString,m="[object Null]",g="[object Undefined]",y=l?l.toStringTag:void 0,_=(a=Object.getPrototypeOf,s=Object,function(t){return a(s(t))}),b="[object Object]",w=Function.prototype,S=Object.prototype,E=w.toString,O=S.hasOwnProperty,D=E.call(Object),M=("function"==typeof(i=("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()).Symbol)?i.observable?o=i.observable:(o=i("observable"),i.observable=o):o="@@observable",o),C={INIT:"@@redux/INIT"},x=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};t.createStore=function t(n,r,o){function i(){h===d&&(h=d.slice())}function a(){return f}function s(t){if("function"!=typeof t)throw Error("Expected listener to be a function.");var e=!0;return i(),h.push(t),function(){if(e){e=!1,i();var n=h.indexOf(t);h.splice(n,1)}}}function u(t){if(!function(t){if(null==(n=t)||"object"!=typeof n||e(t)!=b)return!1;var n,r=_(t);if(null===r)return!0;var o=O.call(r,"constructor")&&r.constructor;return"function"==typeof o&&o instanceof o&&E.call(o)==D}(t))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw Error("Reducers may not dispatch actions.");try{p=!0,f=l(f,t)}finally{p=!1}for(var n=d=h,r=0;n.length>r;r++)(0,n[r])();return t}var c;if("function"==typeof r&&void 0===o&&(o=r,r=void 0),void 0!==o){if("function"!=typeof o)throw Error("Expected the enhancer to be a function.");return o(t)(n,r)}if("function"!=typeof n)throw Error("Expected the reducer to be a function.");var l=n,f=r,d=[],h=d,p=!1;return u({type:C.INIT}),(c={dispatch:u,subscribe:s,getState:a,replaceReducer:function(t){if("function"!=typeof t)throw Error("Expected the nextReducer to be a function.");l=t,u({type:C.INIT})}})[M]=function(){var t,e=s;return(t={subscribe:function(t){function n(){t.next&&t.next(a())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:e(n)}}})[M]=function(){return this},t},c},t.combineReducers=function(t){for(var e=Object.keys(t),n={},r=0;e.length>r;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var i,a=Object.keys(n),s=void 0;try{i=n,Object.keys(i).forEach(function(t){var e=i[t];if(void 0===e(void 0,{type:C.INIT}))throw Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===e(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+C.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}catch(t){s=t}return function(){var t,e,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1];if(s)throw s;for(var u=!1,c={},l=0;a.length>l;l++){var f=a[l],d=n[f],h=o[f],p=d(h,i);if(void 0===p){var v=(t=f,void 0,"Given action "+((r=(e=i)&&e.type)&&'"'+r+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.');throw Error(v)}c[f]=p,u=u||p!==h}return u?c:o}},t.bindActionCreators=function(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),o={},i=0;r.length>i;i++){var a=r[i],s=t[a];"function"==typeof s&&(o[a]=n(s,e))}return o},t.applyMiddleware=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(t){return function(n,o,i){var a,s=t(n,o,i),u=s.dispatch,c={getState:s.getState,dispatch:function(t){return u(t)}};return a=e.map(function(t){return t(c)}),u=r.apply(void 0,a)(s.dispatch),x({},s,{dispatch:u})}}},t.compose=r,Object.defineProperty(t,"__esModule",{value:!0})}),function(){function t(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function e(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function r(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function o(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function i(t,e){return!(null==t||!t.length)&&-1<p(t,e,0)}function a(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function s(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function u(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function c(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function l(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function f(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function d(t,e,n){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=n,!1}),r}function h(t,e,n,r){var o=t.length;for(n+=r?1:-1;r?n--:++n<o;)if(e(t[n],n,t))return n;return-1}function p(t,e,n){if(e==e)t:{--n;for(var r=t.length;++n<r;)if(t[n]===e){t=n;break t}t=-1}else t=h(t,m,n);return t}function v(t,e,n,r){--n;for(var o=t.length;++n<o;)if(r(t[n],e))return n;return-1}function m(t){return t!=t}function g(t,e){var n=null==t?0:t.length;return n?w(t,e)/n:I}function y(t){return function(e){return null==e?L:e[t]}}function _(t){return function(e){return null==t?L:t[e]}}function b(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function w(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);i!==L&&(n=n===L?i:n+i)}return n}function S(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function E(t){return function(e){return t(e)}}function O(t,e){return s(e,function(e){return t[e]})}function D(t,e){return t.has(e)}function M(t,e){for(var n=-1,r=t.length;++n<r&&-1<p(e,t[n],0););return n}function C(t,e){for(var n=t.length;n--&&-1<p(e,t[n],0););return n}function x(t){return"\\"+Nt[t]}function P(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function N(t,e){return function(n){return t(e(n))}}function T(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&"__lodash_placeholder__"!==a||(t[n]="__lodash_placeholder__",i[o++]=n)}return i}function k(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function A(t){if(Ot.test(t)){for(var e=St.lastIndex=0;St.test(t);)++e;t=e}else t=Wt(t);return t}function j(t){return Ot.test(t)?t.match(St)||[]:t.split("")}var L,R=1/0,I=NaN,F=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],B=/\b__p\+='';/g,$=/\b(__p\+=)''\+/g,z=/(__e\(.*?\)|\b__t\))\+'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,H=RegExp(q.source),Y=RegExp(U.source),W=/<%-([\s\S]+?)%>/g,G=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,X=RegExp(Q.source),tt=/^\s+|\s+$/g,et=/^\s+/,nt=/\s+$/,rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ot=/\{\n\/\* \[wrapped with (.+)\] \*/,it=/,? & /,at=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,st=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ct=/\w*$/,lt=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,dt=/^\[object .+?Constructor\]$/,ht=/^0o[0-7]+$/i,pt=/^(?:0|[1-9]\d*)$/,vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mt=/($^)/,gt=/['\n\r\u2028\u2029\\]/g,yt="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*",_t="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+yt,bt=RegExp("['â]","g"),wt=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),St=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])"+yt,"g"),Et=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['â](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['â](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['â](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['â](?:D|LL|M|RE|S|T|VE))?|\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+",_t].join("|"),"g"),Ot=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Dt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mt="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Ct={};Ct["[object Float32Array]"]=Ct["[object Float64Array]"]=Ct["[object Int8Array]"]=Ct["[object Int16Array]"]=Ct["[object Int32Array]"]=Ct["[object Uint8Array]"]=Ct["[object Uint8ClampedArray]"]=Ct["[object Uint16Array]"]=Ct["[object Uint32Array]"]=!0,Ct["[object Arguments]"]=Ct["[object Array]"]=Ct["[object ArrayBuffer]"]=Ct["[object Boolean]"]=Ct["[object DataView]"]=Ct["[object Date]"]=Ct["[object Error]"]=Ct["[object Function]"]=Ct["[object Map]"]=Ct["[object Number]"]=Ct["[object Object]"]=Ct["[object RegExp]"]=Ct["[object Set]"]=Ct["[object String]"]=Ct["[object WeakMap]"]=!1;var xt={};xt["[object Arguments]"]=xt["[object Array]"]=xt["[object ArrayBuffer]"]=xt["[object DataView]"]=xt["[object Boolean]"]=xt["[object Date]"]=xt["[object Float32Array]"]=xt["[object Float64Array]"]=xt["[object Int8Array]"]=xt["[object Int16Array]"]=xt["[object Int32Array]"]=xt["[object Map]"]=xt["[object Number]"]=xt["[object Object]"]=xt["[object RegExp]"]=xt["[object Set]"]=xt["[object String]"]=xt["[object Symbol]"]=xt["[object Uint8Array]"]=xt["[object Uint8ClampedArray]"]=xt["[object Uint16Array]"]=xt["[object Uint32Array]"]=!0,xt["[object Error]"]=xt["[object Function]"]=xt["[object WeakMap]"]=!1;var Pt,Nt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Tt=parseFloat,kt=parseInt,At="object"==typeof global&&global&&global.Object===Object&&global,jt="object"==typeof self&&self&&self.Object===Object&&self,Lt=At||jt||Function("return this")(),Rt="object"==typeof exports&&exports&&!exports.nodeType&&exports,It=Rt&&"object"==typeof module&&module&&!module.nodeType&&module,Ft=It&&It.exports===Rt,Bt=Ft&&At.process;t:{try{Pt=Bt&&Bt.binding&&Bt.binding("util");break t}catch(t){}Pt=void 0}var $t=Pt&&Pt.isArrayBuffer,zt=Pt&&Pt.isDate,qt=Pt&&Pt.isMap,Ut=Pt&&Pt.isRegExp,Ht=Pt&&Pt.isSet,Yt=Pt&&Pt.isTypedArray,Wt=y("length"),Gt=_({"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"}),Vt=_({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Jt=_({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Kt=function _(yt){function _t(t){if($r(t)&&!ka(t)&&!(t instanceof Nt)){if(t instanceof Pt)return t;if(No.call(t,"__wrapped__"))return dr(t)}return new Pt(t)}function St(){}function Pt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=L}function Nt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function At(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Rt;++e<n;)this.add(t[e])}function Bt(t){this.size=(this.__data__=new jt(t)).size}function Wt(t,e){var n,r=ka(t),o=!r&&Ta(t),i=!r&&!o&&ja(t),a=!r&&!o&&!i&&Ba(t),s=(o=(r=r||o||i||a)?S(t.length,Oo):[]).length;for(n in t)!e&&!No.call(t,n)||r&&("length"==n||i&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Xn(n,s))||o.push(n);return o}function Zt(t){var e=t.length;return e?t[ze(0,e-1)]:L}function Qt(t,e,n){(n===L||kr(t[e],n))&&(n!==L||e in t)||re(t,e,n)}function Xt(t,e,n){var r=t[e];No.call(t,e)&&kr(r,n)&&(n!==L||e in t)||re(t,e,n)}function te(t,e){for(var n=t.length;n--;)if(kr(t[n][0],e))return n;return-1}function ee(t,e,n,r){return xi(t,function(t,o,i){e(r,t,n(t),i)}),r}function ne(t,e){return t&&mn(e,to(e),t)}function re(t,e,n){"__proto__"==e&&Vo?Vo(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function oe(t,e){for(var n=-1,r=e.length,o=go(r),i=null==t;++n<r;)o[n]=i?L:Qr(t,e[n]);return o}function ie(t,e,n){return t==t&&(n!==L&&(t=t<=n?t:n),e!==L&&(t=t>=e?t:e)),t}function ae(t,e,r,o,i,a){var s,u,c,l,f,d,h,p,v,m,g=1&e,y=2&e,_=4&e;if(r&&(s=i?r(t,o,i,a):r(t)),s!==L)return s;if(!Br(t))return t;if(o=ka(t)){if(v=(p=t).length,m=new p.constructor(v),v&&"string"==typeof p[0]&&No.call(p,"index")&&(m.index=p.index,m.input=p.input),s=m,!g)return vn(t,s)}else{var b=Bi(t),w="[object Function]"==b||"[object GeneratorFunction]"==b;if(ja(t))return cn(t,g);if("[object Object]"==b||"[object Arguments]"==b||w&&!i){if(s=y||w?{}:Zn(t),!g)return y?(l=t,h=t,f=(d=s)&&mn(h,eo(h),d),mn(l,Fi(l),f)):(u=t,c=ne(s,t),mn(u,Ii(u),c))}else{if(!xt[b])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return ln(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return e=n?ln(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return fn(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return(e=new t.constructor(t.source,ct.exec(t))).lastIndex=t.lastIndex,e;case"[object Set]":return new r;case"[object Symbol]":return Di?So(Di.call(t)):{}}}(t,b,g)}}if(a||(a=new Bt),i=a.get(t))return i;if(a.set(t,s),Fa(t))return t.forEach(function(n){s.add(ae(n,e,r,n,t,a))}),s;if(Ra(t))return t.forEach(function(n,o){s.set(o,ae(n,e,r,o,t,a))}),s;y=_?y?Un:qn:y?eo:to;var S=o?L:y(t);return n(S||t,function(n,o){S&&(n=t[o=n]),Xt(s,o,ae(n,e,r,o,t,a))}),s}function se(t,e,n){var r=n.length;if(null==t)return!r;for(t=So(t);r--;){var o=n[r],i=e[o],a=t[o];if(a===L&&!(o in t)||!i(a))return!1}return!0}function ue(t,e,n){if("function"!=typeof t)throw new Do("Expected a function");return Hi(function(){t.apply(L,n)},e)}function ce(t,e,n,r){var o=-1,u=i,c=!0,l=t.length,f=[],d=e.length;if(!l)return f;n&&(e=s(e,E(n))),r?(u=a,c=!1):200<=e.length&&(u=D,c=!1,e=new It(e));t:for(;++o<l;){var h=t[o],p=null==n?h:n(h);h=r||0!==h?h:0;if(c&&p==p){for(var v=d;v--;)if(e[v]===p)continue t;f.push(h)}else u(e,p,r)||f.push(h)}return f}function le(t,e){var n=!0;return xi(t,function(t,r,o){return n=!!e(t,r,o)}),n}function fe(t,e,n){for(var r=-1,o=t.length;++r<o;){var i=t[r],a=e(i);if(null!=a&&(s===L?a==a&&!Hr(a):n(a,s)))var s=a,u=i}return u}function de(t,e){var n=[];return xi(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}function he(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=Qn),o||(o=[]);++i<a;){var s=t[i];0<e&&n(s)?1<e?he(s,e-1,n,r,o):u(o,s):r||(o[o.length]=s)}return o}function pe(t,e){return t&&Ni(t,e,to)}function ve(t,e){return t&&Ti(t,e,to)}function me(t,e){return o(e,function(e){return Rr(t[e])})}function ge(t,e){for(var n=0,r=(e=sn(e,t)).length;null!=t&&n<r;)t=t[cr(e[n++])];return n&&n==r?t:L}function ye(t,e,n){return e=e(t),ka(t)?e:u(e,n(t))}function _e(t){if(null==t)t=t===L?"[object Undefined]":"[object Null]";else if(Go&&Go in So(t)){var e=No.call(t,Go),n=t[Go];try{t[Go]=L;var r=!0}catch(t){}var o=Ao.call(t);r&&(e?t[Go]=n:delete t[Go]),t=o}else t=Ao.call(t);return t}function be(t,e){return t>e}function we(t,e){return null!=t&&No.call(t,e)}function Se(t,e){return null!=t&&e in So(t)}function Ee(t,e,n){for(var r=n?a:i,o=t[0].length,u=t.length,c=u,l=go(u),f=1/0,d=[];c--;){var h=t[c];c&&e&&(h=s(h,E(e))),f=ai(h.length,f),l[c]=!n&&(e||120<=o&&120<=h.length)?new It(c&&h):L}h=t[0];var p=-1,v=l[0];t:for(;++p<o&&d.length<f;){var m=h[p],g=e?e(m):m;m=n||0!==m?m:0;if(v?!D(v,g):!r(d,g,n)){for(c=u;--c;){var y=l[c];if(y?!D(y,g):!r(t[c],g,n))continue t}v&&v.push(g),d.push(m)}}return d}function Oe(e,n,r){return null==(n=null==(e=2>(n=sn(n,e)).length?e:ge(e,Ye(n,0,-1)))?e:e[cr(gr(n))])?L:t(n,e,r)}function De(t){return $r(t)&&"[object Arguments]"==_e(t)}function Me(t,e,n,r,o){if(t===e)e=!0;else if(null==t||null==e||!$r(t)&&!$r(e))e=t!=t&&e!=e;else t:{var i,a,s=ka(t),u=ka(e),c="[object Object]"==(i="[object Arguments]"==(i=s?"[object Array]":Bi(t))?"[object Object]":i);u="[object Object]"==(a="[object Arguments]"==(a=u?"[object Array]":Bi(e))?"[object Object]":a);if((a=i==a)&&ja(t)){if(!ja(e)){e=!1;break t}s=!0,c=!1}if(a&&!c)o||(o=new Bt),e=s||Ba(t)?$n(t,e,n,r,Me,o):function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!i(new Bo(t),new Bo(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return kr(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=P;case"[object Set]":if(s||(s=k),t.size!=e.size&&!(1&r))break;return(n=a.get(t))?n==e:(r|=2,a.set(t,e),e=$n(s(t),s(e),r,o,i,a),a.delete(t),e);case"[object Symbol]":if(Di)return Di.call(t)==Di.call(e)}return!1}(t,e,i,n,r,Me,o);else{if(!(1&n)&&(s=c&&No.call(t,"__wrapped__"),i=u&&No.call(e,"__wrapped__"),s||i)){t=s?t.value():t,e=i?e.value():e,o||(o=new Bt),e=Me(t,e,n,r,o);break t}if(a)e:if(o||(o=new Bt),s=1&n,i=qn(t),u=i.length,a=qn(e).length,u==a||s){for(c=u;c--;){var l=i[c];if(!(s?l in e:No.call(e,l))){e=!1;break e}}if((a=o.get(t))&&o.get(e))e=a==e;else{a=!0,o.set(t,e),o.set(e,t);for(var f=s;++c<u;){var d=t[l=i[c]],h=e[l];if(r)var p=s?r(h,d,l,e,t,o):r(d,h,l,t,e,o);if(p===L?d!==h&&!Me(d,h,n,r,o):!p){a=!1;break}f||(f="constructor"==l)}a&&!f&&((n=t.constructor)!=(r=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(a=!1)),o.delete(t),o.delete(e),e=a}}else e=!1;else e=!1}}return e}function Ce(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=So(t);o--;){var s=n[o];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var u=(s=n[o])[0],c=t[u],l=s[1];if(a&&s[2]){if(c===L&&!(u in t))return!1}else{if(s=new Bt,r)var f=r(c,l,u,t,e,s);if(f===L?!Me(l,c,3,r,s):!f)return!1}}return!0}function xe(t){return!(!Br(t)||ko&&ko in t)&&(Rr(t)?Ro:dt).test(lr(t))}function Pe(t){return"function"==typeof t?t:null==t?uo:"object"==typeof t?ka(t)?je(t[0],t[1]):Ae(t):ho(t)}function Ne(t){if(!rr(t))return oi(t);var e,n=[];for(e in So(t))No.call(t,e)&&"constructor"!=e&&n.push(e);return n}function Te(t,e){return t<e}function ke(t,e){var n=-1,r=Ar(t)?go(t.length):[];return xi(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function Ae(t){var e=Vn(t);return 1==e.length&&e[0][2]?or(e[0][0],e[0][1]):function(n){return n===t||Ce(n,t,e)}}function je(t,e){return er(t)&&e==e&&!Br(e)?or(cr(t),e):function(n){var r=Qr(n,t);return r===L&&r===e?Xr(n,t):Me(e,r,3)}}function Le(t,e,n,r,o){t!==e&&Ni(e,function(i,a){if(Br(i)){o||(o=new Bt);var s=o,u="__proto__"==a?L:t[a],c="__proto__"==a?L:e[a];if(p=s.get(c))Qt(t,a,p);else{var l=(p=r?r(u,c,a+"",t,e,s):L)===L;if(l){var f=ka(c),d=!f&&ja(c),h=!f&&!d&&Ba(c),p=c;f||d||h?ka(u)?p=u:jr(u)?p=vn(u):d?(l=!1,p=cn(c,!0)):h?(l=!1,p=fn(c,!0)):p=[]:qr(c)||Ta(c)?(p=u,Ta(u)?p=Kr(u):(!Br(u)||n&&Rr(u))&&(p=Zn(c))):l=!1}l&&(s.set(c,p),Le(p,c,n,r,s),s.delete(c)),Qt(t,a,p)}}else(s=r?r("__proto__"==a?L:t[a],i,a+"",t,e,o):L)===L&&(s=i),Qt(t,a,s)},eo)}function Re(t,e){var n=t.length;if(n)return Xn(e+=0>e?n:0,n)?t[e]:L}function Ie(t,e,n){var r=-1;return e=s(e.length?e:[uo],E(Wn())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}(t=ke(t,function(t){return{a:s(e,function(e){return e(t)}),b:++r,c:t}}),function(t,e){var r;t:{r=-1;for(var o=t.a,i=e.a,a=o.length,s=n.length;++r<a;){var u=dn(o[r],i[r]);if(u){r=r>=s?u:u*("desc"==n[r]?-1:1);break t}}r=t.b-e.b}return r})}function Fe(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=ge(t,a);n(s,a)&&He(i,sn(a,t),s)}return i}function Be(t,e,n,r){var o=r?v:p,i=-1,a=e.length,u=t;for(t===e&&(e=vn(e)),n&&(u=s(t,E(n)));++i<a;){var c=0,l=e[i];for(l=n?n(l):l;-1<(c=o(u,l,c,r));)u!==t&&Ho.call(u,c,1),Ho.call(t,c,1)}return t}function $e(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;Xn(o)?Ho.call(t,o,1):Xe(t,o)}}}function ze(t,e){return t+Xo(ci()*(e-t+1))}function qe(t,e){var n="";if(!t||1>e||9007199254740991<e)return n;do{e%2&&(n+=t),(e=Xo(e/2))&&(t+=t)}while(e);return n}function Ue(t,e){return Yi(ir(t,e,uo),t+"")}function He(t,e,n,r){if(!Br(t))return t;for(var o=-1,i=(e=sn(e,t)).length,a=i-1,s=t;null!=s&&++o<i;){var u=cr(e[o]),c=n;if(o!=a){var l=s[u];(c=r?r(l,u,s):L)===L&&(c=Br(l)?l:Xn(e[o+1])?[]:{})}Xt(s,u,c),s=s[u]}return t}function Ye(t,e,n){var r=-1,o=t.length;for(0>e&&(e=-e>o?0:o+e),0>(n=n>o?o:n)&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0,n=go(o);++r<o;)n[r]=t[r+e];return n}function We(t,e){var n;return xi(t,function(t,r,o){return!(n=e(t,r,o))}),!!n}function Ge(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&2147483647>=o){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!Hr(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return Ve(t,e,uo,n)}function Ve(t,e,n,r){e=n(e);for(var o=0,i=null==t?0:t.length,a=e!=e,s=null===e,u=Hr(e),c=e===L;o<i;){var l=Xo((o+i)/2),f=n(t[l]),d=f!==L,h=null===f,p=f==f,v=Hr(f);(a?r||p:c?p&&(r||d):s?p&&d&&(r||!h):u?p&&d&&!h&&(r||!v):!h&&!v&&(r?f<=e:f<e))?o=l+1:i=l}return ai(i,4294967294)}function Je(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!kr(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function Ke(t){return"number"==typeof t?t:Hr(t)?I:+t}function Ze(t){if("string"==typeof t)return t;if(ka(t))return s(t,Ze)+"";if(Hr(t))return Mi?Mi.call(t):"";var e=t+"";return"0"==e&&1/t==-R?"-0":e}function Qe(t,e,n){var r=-1,o=i,s=t.length,u=!0,c=[],l=c;if(n)u=!1,o=a;else if(200<=s){if(o=e?null:Li(t))return k(o);u=!1,o=D,l=new It}else l=e?[]:c;t:for(;++r<s;){var f=t[r],d=e?e(f):f;f=n||0!==f?f:0;if(u&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue t;e&&l.push(d),c.push(f)}else o(l,d,n)||(l!==c&&l.push(d),c.push(f))}return c}function Xe(t,e){return null==(t=2>(e=sn(e,t)).length?t:ge(t,Ye(e,0,-1)))||delete t[cr(gr(e))]}function tn(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?Ye(t,r?0:i,r?i+1:o):Ye(t,r?i+1:0,r?o:i)}function en(t,e){var n=t;return n instanceof Nt&&(n=n.value()),c(e,function(t,e){return e.func.apply(e.thisArg,u([t],e.args))},n)}function nn(t,e,n){var r=t.length;if(2>r)return r?Qe(t[0]):[];for(var o=-1,i=go(r);++o<r;)for(var a=t[o],s=-1;++s<r;)s!=o&&(i[o]=ce(i[o]||a,t[s],e,n));return Qe(he(i,1),e,n)}function rn(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;)n(a,t[r],r<i?e[r]:L);return a}function on(t){return jr(t)?t:[]}function an(t){return"function"==typeof t?t:uo}function sn(t,e){return ka(t)?t:er(t,e)?[t]:Wi(Zr(t))}function un(t,e,n){var r=t.length;return n=n===L?r:n,!e&&n>=r?t:Ye(t,e,n)}function cn(t,e){if(e)return t.slice();var n=t.length;n=$o?$o(n):new t.constructor(n);return t.copy(n),n}function ln(t){var e=new t.constructor(t.byteLength);return new Bo(e).set(new Bo(t)),e}function fn(t,e){return new t.constructor(e?ln(t.buffer):t.buffer,t.byteOffset,t.length)}function dn(t,e){if(t!==e){var n=t!==L,r=null===t,o=t==t,i=Hr(t),a=e!==L,s=null===e,u=e==e,c=Hr(e);if(!s&&!c&&!i&&t>e||i&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!o)return 1;if(!r&&!i&&!c&&t<e||c&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!u)return-1}return 0}function hn(t,e,n,r){var o=-1,i=t.length,a=n.length,s=-1,u=e.length,c=ii(i-a,0),l=go(u+c);for(r=!r;++s<u;)l[s]=e[s];for(;++o<a;)(r||o<i)&&(l[n[o]]=t[o]);for(;c--;)l[s++]=t[o++];return l}function pn(t,e,n,r){var o=-1,i=t.length,a=-1,s=n.length,u=-1,c=e.length,l=ii(i-s,0),f=go(l+c);for(r=!r;++o<l;)f[o]=t[o];for(l=o;++u<c;)f[l+u]=e[u];for(;++a<s;)(r||o<i)&&(f[l+n[a]]=t[o++]);return f}function vn(t,e){var n=-1,r=t.length;for(e||(e=go(r));++n<r;)e[n]=t[n];return e}function mn(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var s=e[i],u=r?r(n[s],t[s],s,n,t):L;u===L&&(u=t[s]),o?re(n,s,u):Xt(n,s,u)}return n}function gn(t,n){return function(r,o){var i=ka(r)?e:ee,a=n?n():{};return i(r,t,Wn(o,2),a)}}function yn(t){return Ue(function(e,n){var r=-1,o=n.length,i=1<o?n[o-1]:L,a=2<o?n[2]:L;i=3<t.length&&"function"==typeof i?(o--,i):L;for(a&&tr(n[0],n[1],a)&&(i=3>o?L:i,o=1),e=So(e);++r<o;)(a=n[r])&&t(e,a,r,i);return e})}function _n(t,e){return function(n,r){if(null==n)return n;if(!Ar(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=So(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function bn(t){return function(e,n,r){for(var o=-1,i=So(e),a=(r=r(e)).length;a--;){var s=r[t?a:++o];if(!1===n(i[s],s,i))break}return e}}function wn(t){return function(e){e=Zr(e);var n=Ot.test(e)?j(e):L,r=n?n[0]:e.charAt(0);return e=n?un(n,1).join(""):e.slice(1),r[t]()+e}}function Sn(t){return function(e){return c(ao(io(e).replace(bt,"")),t,"")}}function En(t){return function(){switch((e=arguments).length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var e,n=Ci(t.prototype);return Br(e=t.apply(n,e))?e:n}}function On(t){return function(e,n,r){var o=So(e);if(!Ar(e)){var i=Wn(n,3);e=to(e),n=function(t){return i(o[t],t,o)}}return-1<(n=t(e,n,r))?o[i?e[n]:n]:L}}function Dn(t){return zn(function(e){var n=e.length,r=n,o=Pt.prototype.thru;for(t&&e.reverse();r--;){if("function"!=typeof(a=e[r]))throw new Do("Expected a function");if(o&&!i&&"wrapper"==Hn(a))var i=new Pt([],!0)}for(r=i?r:n;++r<n;){var a,s="wrapper"==(o=Hn(a=e[r]))?Ri(a):L;i=s&&nr(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?i[Hn(s[0])].apply(i,s[3]):1==a.length&&nr(a)?i[o]():i.thru(a)}return function(){var t=(o=arguments)[0];if(i&&1==o.length&&ka(t))return i.plant(t).value();for(var r=0,o=n?e[r].apply(this,o):t;++r<n;)o=e[r].call(this,o);return o}})}function Mn(t,e,n,r,o,i,a,s,u,c){var l=128&e,f=1&e,d=2&e,h=24&e,p=512&e,v=d?L:En(t);return function m(){for(var g=arguments.length,y=go(g),_=g;_--;)y[_]=arguments[_];if(h){var b,w=Yn(m);for(_=y.length,b=0;_--;)y[_]===w&&++b}if(r&&(y=hn(y,r,o,h)),i&&(y=pn(y,i,a,h)),g-=b,h&&g<c)return w=T(y,w),An(t,e,Mn,m.placeholder,n,y,w,s,u,c-g);if(w=f?n:this,_=d?w[t]:t,g=y.length,s){b=y.length;for(var S=ai(s.length,b),E=vn(y);S--;){var O=s[S];y[S]=Xn(O,b)?E[O]:L}}else p&&1<g&&y.reverse();return l&&u<g&&(y.length=u),this&&this!==Lt&&this instanceof m&&(_=v||En(_)),_.apply(w,y)}}function Cn(t,e){return function(n,r){return o=n,i=t,a=e(r),s={},pe(o,function(t,e,n){i(s,a(t),e,n)}),s;var o,i,a,s}}function xn(t,e){return function(n,r){var o;if(n===L&&r===L)return e;if(n!==L&&(o=n),r!==L){if(o===L)return r;"string"==typeof n||"string"==typeof r?(n=Ze(n),r=Ze(r)):(n=Ke(n),r=Ke(r)),o=t(n,r)}return o}}function Pn(e){return zn(function(n){return n=s(n,E(Wn())),Ue(function(r){var o=this;return e(n,function(e){return t(e,o,r)})})})}function Nn(t,e){var n=(e=e===L?" ":Ze(e)).length;return 2>n?n?qe(e,t):e:(n=qe(e,Qo(t/A(e))),Ot.test(e)?un(j(n),0,t).join(""):n.slice(0,t))}function Tn(t){return function(e,n,r){r&&"number"!=typeof r&&tr(e,n,r)&&(n=r=L),e=Wr(e),n===L?(n=e,e=0):n=Wr(n),r=r===L?e<n?1:-1:Wr(r);var o=-1;n=ii(Qo((n-e)/(r||1)),0);for(var i=go(n);n--;)i[t?n:++o]=e,e+=r;return i}}function kn(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Jr(e),n=Jr(n)),t(e,n)}}function An(t,e,n,r,o,i,a,s,u,c){var l=8&e;return 4&(e=(e|(l?32:64))&~(l?64:32))||(e&=-4),o=[t,e,o,l?i:L,l?a:L,i=l?L:i,a=l?L:a,s,u,c],n=n.apply(L,o),nr(t)&&Ui(n,o),n.placeholder=r,ar(n,t,e)}function jn(t){var e=wo[t];return function(t,n){if(t=Jr(t),n=null==n?0:ai(Gr(n),292)){var r=(Zr(t)+"e").split("e");return+((r=(Zr(r=e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}function Ln(t){return function(e){var n,r,o,i,a=Bi(e);return"[object Map]"==a?P(e):"[object Set]"==a?(r=e,o=-1,i=Array(r.size),r.forEach(function(t){i[++o]=[t,t]}),i):(n=e,s(t(e),function(t){return[t,n[t]]}))}}function Rn(e,n,r,o,i,a,s,u){var c=2&n;if(!c&&"function"!=typeof e)throw new Do("Expected a function");var l=o?o.length:0;if(l||(n&=-97,o=i=L),s=s===L?s:ii(Gr(s),0),u=u===L?u:Gr(u),l-=i?i.length:0,64&n){var f=o,d=i;o=i=L}var h,p,v,m,g,y,_,b,w,S,E,O,D,M=c?L:Ri(e);return a=[e,n,r,o,i,f,d,a,s,u],M&&(n=(r=a[1])|(e=M[1]),o=128==e&&8==r||128==e&&256==r&&a[7].length<=M[8]||384==e&&M[7].length<=M[8]&&8==r,131>n||o)&&(1&e&&(a[2]=M[2],n|=1&r?0:4),(r=M[3])&&(o=a[3],a[3]=o?hn(o,r,M[4]):r,a[4]=o?T(a[3],"__lodash_placeholder__"):M[4]),(r=M[5])&&(o=a[5],a[5]=o?pn(o,r,M[6]):r,a[6]=o?T(a[5],"__lodash_placeholder__"):M[6]),(r=M[7])&&(a[7]=r),128&e&&(a[8]=null==a[8]?M[8]:ai(a[8],M[8])),null==a[9]&&(a[9]=M[9]),a[0]=M[0],a[1]=n),e=a[0],n=a[1],r=a[2],o=a[3],i=a[4],!(u=a[9]=a[9]===L?c?0:e.length:ii(a[9]-l,0))&&24&n&&(n&=-25),ar((M?ki:Ui)(n&&1!=n?8==n||16==n?(E=n,O=u,D=En(S=e),function e(){for(var n=arguments.length,r=go(n),o=n,i=Yn(e);o--;)r[o]=arguments[o];return(n-=(o=3>n&&r[0]!==i&&r[n-1]!==i?[]:T(r,i)).length)<O?An(S,E,Mn,e.placeholder,L,r,o,L,L,O-n):t(this&&this!==Lt&&this instanceof e?D:S,this,r)}):32!=n&&33!=n||i.length?Mn.apply(L,a):(y=r,_=o,b=1&n,w=En(g=e),function e(){for(var n=-1,r=arguments.length,o=-1,i=_.length,a=go(i+r),s=this&&this!==Lt&&this instanceof e?w:g;++o<i;)a[o]=_[o];for(;r--;)a[o++]=arguments[++n];return t(s,b?y:this,a)}):(p=r,v=1&n,m=En(h=e),function t(){return(this&&this!==Lt&&this instanceof t?m:h).apply(v?p:this,arguments)}),a),e,n)}function In(t,e,n,r){return t===L||kr(t,Co[n])&&!No.call(r,n)?e:t}function Fn(t,e,n,r,o,i){return Br(t)&&Br(e)&&(i.set(e,t),Le(t,e,L,Fn,i),i.delete(e)),t}function Bn(t){return qr(t)?L:t}function $n(t,e,n,r,o,i){var a=1&n,s=t.length;if(s!=(u=e.length)&&!(a&&u>s))return!1;if((u=i.get(t))&&i.get(e))return u==e;var u=-1,c=!0,l=2&n?new It:L;for(i.set(t,e),i.set(e,t);++u<s;){var d=t[u],h=e[u];if(r)var p=a?r(h,d,u,e,t,i):r(d,h,u,t,e,i);if(p!==L){if(p)continue;c=!1;break}if(l){if(!f(e,function(t,e){if(!D(l,e)&&(d===t||o(d,t,n,r,i)))return l.push(e)})){c=!1;break}}else if(d!==h&&!o(d,h,n,r,i)){c=!1;break}}return i.delete(t),i.delete(e),c}function zn(t){return Yi(ir(t,L,vr),t+"")}function qn(t){return ye(t,to,Ii)}function Un(t){return ye(t,eo,Fi)}function Hn(t){for(var e=t.name+"",n=yi[e],r=No.call(yi,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function Yn(t){return(No.call(_t,"placeholder")?_t:t).placeholder}function Wn(){var t=(t=_t.iteratee||co)===co?Pe:t;return arguments.length?t(arguments[0],arguments[1]):t}function Gn(t,e){var n=t.__data__,r=typeof e;return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?n["string"==typeof e?"string":"hash"]:n.map}function Vn(t){for(var e=to(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,o==o&&!Br(o)]}return e}function Jn(t,e){var n=null==t?L:t[e];return xe(n)?n:L}function Kn(t,e,n){for(var r=-1,o=(e=sn(e,t)).length,i=!1;++r<o;){var a=cr(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Fr(o)&&Xn(a,o)&&(ka(t)||Ta(t))}function Zn(t){return"function"!=typeof t.constructor||rr(t)?{}:Ci(zo(t))}function Qn(t){return ka(t)||Ta(t)||!!(Yo&&t&&t[Yo])}function Xn(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&pt.test(t))&&-1<t&&0==t%1&&t<e}function tr(t,e,n){if(!Br(n))return!1;var r=typeof e;return!!("number"==r?Ar(n)&&Xn(e,n.length):"string"==r&&e in n)&&kr(n[e],t)}function er(t,e){if(ka(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Hr(t))||K.test(t)||!J.test(t)||null!=e&&t in So(e)}function nr(t){var e=Hn(t),n=_t[e];return"function"==typeof n&&e in Nt.prototype&&(t===n||!!(e=Ri(n))&&t===e[0])}function rr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Co)}function or(t,e){return function(n){return null!=n&&n[t]===e&&(e!==L||t in So(n))}}function ir(e,n,r){return n=ii(n===L?e.length-1:n,0),function(){for(var o=arguments,i=-1,a=ii(o.length-n,0),s=go(a);++i<a;)s[i]=o[n+i];for(i=-1,a=go(n+1);++i<n;)a[i]=o[i];return a[n]=r(s),t(e,this,a)}}function ar(t,e,n){var r=e+"";e=Yi;var o,i=fr;return(i=(n=i(o=(o=r.match(ot))?o[1].split(it):[],n)).length)&&(n[o=i-1]=(1<i?"& ":"")+n[o],n=n.join(2<i?", ":" "),r=r.replace(rt,"{\n/* [wrapped with "+n+"] */\n")),e(t,r)}function sr(t){var e=0,n=0;return function(){var r=si(),o=16-(r-n);if(n=r,0<o){if(800<=++e)return arguments[0]}else e=0;return t.apply(L,arguments)}}function ur(t,e){var n=-1,r=(o=t.length)-1;for(e=e===L?o:e;++n<e;){var o,i=t[o=ze(n,r)];t[o]=t[n],t[n]=i}return t.length=e,t}function cr(t){if("string"==typeof t||Hr(t))return t;var e=t+"";return"0"==e&&1/t==-R?"-0":e}function lr(t){if(null!=t){try{return Po.call(t)}catch(t){}return t+""}return""}function fr(t,e){return n(F,function(n){var r="_."+n[0];e&n[1]&&!i(t,r)&&t.push(r)}),t.sort()}function dr(t){if(t instanceof Nt)return t.clone();var e=new Pt(t.__wrapped__,t.__chain__);return e.__actions__=vn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function hr(t,e,n){var r=null==t?0:t.length;return r?(0>(n=null==n?0:Gr(n))&&(n=ii(r+n,0)),h(t,Wn(e,3),n)):-1}function pr(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==L&&(o=Gr(n),o=0>n?ii(r+o,0):ai(o,r-1)),h(t,Wn(e,3),o,!0)}function vr(t){return null!=t&&t.length?he(t,1):[]}function mr(t){return t&&t.length?t[0]:L}function gr(t){var e=null==t?0:t.length;return e?t[e-1]:L}function yr(t,e){return t&&t.length&&e&&e.length?Be(t,e):t}function _r(t){return null==t?t:li.call(t)}function br(t){if(!t||!t.length)return[];var e=0;return t=o(t,function(t){if(jr(t))return e=ii(t.length,e),!0}),S(e,function(e){return s(t,y(e))})}function wr(e,n){if(!e||!e.length)return[];var r=br(e);return null==n?r:s(r,function(e){return t(n,L,e)})}function Sr(t){return(t=_t(t)).__chain__=!0,t}function Er(t,e){return e(t)}function Or(t,e){return(ka(t)?n:xi)(t,Wn(e,3))}function Dr(t,e){return(ka(t)?function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}:Pi)(t,Wn(e,3))}function Mr(t,e){return(ka(t)?s:ke)(t,Wn(e,3))}function Cr(t,e,n){return e=n?L:e,e=t&&null==e?t.length:e,Rn(t,128,L,L,L,L,e)}function xr(t,e){var n;if("function"!=typeof e)throw new Do("Expected a function");return t=Gr(t),function(){return 0<--t&&(n=e.apply(this,arguments)),1>=t&&(e=L),n}}function Pr(t,e,n){function r(e){var n=u,r=c;return u=c=L,p=e,f=t.apply(r,n)}function o(t){var n=t-h;return t-=p,h===L||n>=e||0>n||m&&t>=l}function i(){var t=_a();if(o(t))return a(t);var n,r=Hi;n=t-p,t=e-(t-h),n=m?ai(t,l-n):t,d=r(i,n)}function a(t){return d=L,g&&u?r(t):(u=c=L,f)}function s(){var t=_a(),n=o(t);if(u=arguments,c=this,h=t,n){if(d===L)return p=t=h,d=Hi(i,e),v?r(t):f;if(m)return d=Hi(i,e),r(h)}return d===L&&(d=Hi(i,e)),f}var u,c,l,f,d,h,p=0,v=!1,m=!1,g=!0;if("function"!=typeof t)throw new Do("Expected a function");return e=Jr(e)||0,Br(n)&&(v=!!n.leading,l=(m="maxWait"in n)?ii(Jr(n.maxWait)||0,e):l,g="trailing"in n?!!n.trailing:g),s.cancel=function(){d!==L&&ji(d),p=0,u=h=c=d=L},s.flush=function(){return d===L?f:a(_a())},s}function Nr(t,e){function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;return i.has(o)?i.get(o):(r=t.apply(this,r),n.cache=i.set(o,r)||i,r)}if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Do("Expected a function");return n.cache=new(Nr.Cache||Rt),n}function Tr(t){if("function"!=typeof t)throw new Do("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function kr(t,e){return t===e||t!=t&&e!=e}function Ar(t){return null!=t&&Fr(t.length)&&!Rr(t)}function jr(t){return $r(t)&&Ar(t)}function Lr(t){if(!$r(t))return!1;var e=_e(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!qr(t)}function Rr(t){return!!Br(t)&&("[object Function]"==(t=_e(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function Ir(t){return"number"==typeof t&&t==Gr(t)}function Fr(t){return"number"==typeof t&&-1<t&&0==t%1&&9007199254740991>=t}function Br(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function $r(t){return null!=t&&"object"==typeof t}function zr(t){return"number"==typeof t||$r(t)&&"[object Number]"==_e(t)}function qr(t){return!(!$r(t)||"[object Object]"!=_e(t))&&(null===(t=zo(t))||"function"==typeof(t=No.call(t,"constructor")&&t.constructor)&&t instanceof t&&Po.call(t)==jo)}function Ur(t){return"string"==typeof t||!ka(t)&&$r(t)&&"[object String]"==_e(t)}function Hr(t){return"symbol"==typeof t||$r(t)&&"[object Symbol]"==_e(t)}function Yr(t){if(!t)return[];if(Ar(t))return Ur(t)?j(t):vn(t);if(Wo&&t[Wo]){t=t[Wo]();for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}return("[object Map]"==(e=Bi(t))?P:"[object Set]"==e?k:ro)(t)}function Wr(t){return t?(t=Jr(t))===R||t===-R?1.7976931348623157e308*(0>t?-1:1):t==t?t:0:0===t?t:0}function Gr(t){var e=(t=Wr(t))%1;return t==t?e?t-e:t:0}function Vr(t){return t?ie(Gr(t),0,4294967295):0}function Jr(t){if("number"==typeof t)return t;if(Hr(t))return I;if(Br(t)&&(t=Br(t="function"==typeof t.valueOf?t.valueOf():t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=t.replace(tt,"");var e=ft.test(t);return e||ht.test(t)?kt(t.slice(2),e?2:8):lt.test(t)?I:+t}function Kr(t){return mn(t,eo(t))}function Zr(t){return null==t?"":Ze(t)}function Qr(t,e,n){return(t=null==t?L:ge(t,e))===L?n:t}function Xr(t,e){return null!=t&&Kn(t,e,Se)}function to(t){return Ar(t)?Wt(t):Ne(t)}function eo(t){if(Ar(t))t=Wt(t,!0);else if(Br(t)){var e,n=rr(t),r=[];for(e in t)("constructor"!=e||!n&&No.call(t,e))&&r.push(e);t=r}else{if(e=[],null!=t)for(n in So(t))e.push(n);t=e}return t}function no(t,e){if(null==t)return{};var n=s(Un(t),function(t){return[t]});return e=Wn(e),Fe(t,n,function(t,n){return e(t,n[0])})}function ro(t){return null==t?[]:O(t,to(t))}function oo(t){return fs(Zr(t).toLowerCase())}function io(t){return(t=Zr(t))&&t.replace(vt,Gt).replace(wt,"")}function ao(t,e,n){return t=Zr(t),(e=n?L:e)===L?Dt.test(t)?t.match(Et)||[]:t.match(at)||[]:t.match(e)||[]}function so(t){return function(){return t}}function uo(t){return t}function co(t){return Pe("function"==typeof t?t:ae(t,1))}function lo(t,e,r){var o=to(e),i=me(e,o);null!=r||Br(e)&&(i.length||!o.length)||(r=e,e=t,t=this,i=me(e,to(e)));var a=!(Br(r)&&"chain"in r&&!r.chain),s=Rr(t);return n(i,function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__);return(n.__actions__=vn(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,u([this.value()],arguments))})}),t}function fo(){}function ho(t){return er(t)?y(cr(t)):(e=t,function(t){return ge(t,e)});var e}function po(){return[]}function vo(){return!1}var mo,go=(yt=null==yt?Lt:Kt.defaults(Lt.Object(),yt,Kt.pick(Lt,Mt))).Array,yo=yt.Date,_o=yt.Error,bo=yt.Function,wo=yt.Math,So=yt.Object,Eo=yt.RegExp,Oo=yt.String,Do=yt.TypeError,Mo=go.prototype,Co=So.prototype,xo=yt["__core-js_shared__"],Po=bo.prototype.toString,No=Co.hasOwnProperty,To=0,ko=(mo=/[^.]+$/.exec(xo&&xo.keys&&xo.keys.IE_PROTO||""))?"Symbol(src)_1."+mo:"",Ao=Co.toString,jo=Po.call(So),Lo=Lt._,Ro=Eo("^"+Po.call(No).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Io=Ft?yt.Buffer:L,Fo=yt.Symbol,Bo=yt.Uint8Array,$o=Io?Io.f:L,zo=N(So.getPrototypeOf,So),qo=So.create,Uo=Co.propertyIsEnumerable,Ho=Mo.splice,Yo=Fo?Fo.isConcatSpreadable:L,Wo=Fo?Fo.iterator:L,Go=Fo?Fo.toStringTag:L,Vo=function(){try{var t=Jn(So,"defineProperty");return t({},"",{}),t}catch(t){}}(),Jo=yt.clearTimeout!==Lt.clearTimeout&&yt.clearTimeout,Ko=yo&&yo.now!==Lt.Date.now&&yo.now,Zo=yt.setTimeout!==Lt.setTimeout&&yt.setTimeout,Qo=wo.ceil,Xo=wo.floor,ti=So.getOwnPropertySymbols,ei=Io?Io.isBuffer:L,ni=yt.isFinite,ri=Mo.join,oi=N(So.keys,So),ii=wo.max,ai=wo.min,si=yo.now,ui=yt.parseInt,ci=wo.random,li=Mo.reverse,fi=Jn(yt,"DataView"),di=Jn(yt,"Map"),hi=Jn(yt,"Promise"),pi=Jn(yt,"Set"),vi=Jn(yt,"WeakMap"),mi=Jn(So,"create"),gi=vi&&new vi,yi={},_i=lr(fi),bi=lr(di),wi=lr(hi),Si=lr(pi),Ei=lr(vi),Oi=Fo?Fo.prototype:L,Di=Oi?Oi.valueOf:L,Mi=Oi?Oi.toString:L,Ci=function(){function t(){}return function(e){return Br(e)?qo?qo(e):(t.prototype=e,e=new t,t.prototype=L,e):{}}}();_t.templateSettings={escape:W,evaluate:G,interpolate:V,variable:"",imports:{_:_t}},_t.prototype=St.prototype,_t.prototype.constructor=_t,Pt.prototype=Ci(St.prototype),Pt.prototype.constructor=Pt,Nt.prototype=Ci(St.prototype),Nt.prototype.constructor=Nt,At.prototype.clear=function(){this.__data__=mi?mi(null):{},this.size=0},At.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},At.prototype.get=function(t){var e=this.__data__;return mi?"__lodash_hash_undefined__"===(t=e[t])?L:t:No.call(e,t)?e[t]:L},At.prototype.has=function(t){var e=this.__data__;return mi?e[t]!==L:No.call(e,t)},At.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mi&&e===L?"__lodash_hash_undefined__":e,this},jt.prototype.clear=function(){this.__data__=[],this.size=0},jt.prototype.delete=function(t){var e=this.__data__;return!(0>(t=te(e,t))||(t==e.length-1?e.pop():Ho.call(e,t,1),--this.size,0))},jt.prototype.get=function(t){var e=this.__data__;return 0>(t=te(e,t))?L:e[t][1]},jt.prototype.has=function(t){return-1<te(this.__data__,t)},jt.prototype.set=function(t,e){var n=this.__data__,r=te(n,t);return 0>r?(++this.size,n.push([t,e])):n[r][1]=e,this},Rt.prototype.clear=function(){this.size=0,this.__data__={hash:new At,map:new(di||jt),string:new At}},Rt.prototype.delete=function(t){return t=Gn(this,t).delete(t),this.size-=t?1:0,t},Rt.prototype.get=function(t){return Gn(this,t).get(t)},Rt.prototype.has=function(t){return Gn(this,t).has(t)},Rt.prototype.set=function(t,e){var n=Gn(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},It.prototype.add=It.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},It.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.clear=function(){this.__data__=new jt,this.size=0},Bt.prototype.delete=function(t){var e=this.__data__;return t=e.delete(t),this.size=e.size,t},Bt.prototype.get=function(t){return this.__data__.get(t)},Bt.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof jt){var r=n.__data__;if(!di||199>r.length)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Rt(r)}return n.set(t,e),this.size=n.size,this};var xi=_n(pe),Pi=_n(ve,!0),Ni=bn(),Ti=bn(!0),ki=gi?function(t,e){return gi.set(t,e),t}:uo,Ai=Vo?function(t,e){return Vo(t,"toString",{configurable:!0,enumerable:!1,value:so(e),writable:!0})}:uo,ji=Jo||function(t){return Lt.clearTimeout(t)},Li=pi&&1/k(new pi([,-0]))[1]==R?function(t){return new pi(t)}:fo,Ri=gi?function(t){return gi.get(t)}:fo,Ii=ti?function(t){return null==t?[]:(t=So(t),o(ti(t),function(e){return Uo.call(t,e)}))}:po,Fi=ti?function(t){for(var e=[];t;)u(e,Ii(t)),t=zo(t);return e}:po,Bi=_e;(fi&&"[object DataView]"!=Bi(new fi(new ArrayBuffer(1)))||di&&"[object Map]"!=Bi(new di)||hi&&"[object Promise]"!=Bi(hi.resolve())||pi&&"[object Set]"!=Bi(new pi)||vi&&"[object WeakMap]"!=Bi(new vi))&&(Bi=function(t){var e=_e(t);if(t=(t="[object Object]"==e?t.constructor:L)?lr(t):"")switch(t){case _i:return"[object DataView]";case bi:return"[object Map]";case wi:return"[object Promise]";case Si:return"[object Set]";case Ei:return"[object WeakMap]"}return e});var $i,zi,qi=xo?Rr:vo,Ui=sr(ki),Hi=Zo||function(t,e){return Lt.setTimeout(t,e)},Yi=sr(Ai),Wi=(zi=($i=Nr($i=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Z,function(t,n,r,o){e.push(r?o.replace(st,"$1"):n||t)}),e},function(t){return 500===zi.size&&zi.clear(),t})).cache,$i),Gi=Ue(function(t,e){return jr(t)?ce(t,he(e,1,jr,!0)):[]}),Vi=Ue(function(t,e){var n=gr(e);return jr(n)&&(n=L),jr(t)?ce(t,he(e,1,jr,!0),Wn(n,2)):[]}),Ji=Ue(function(t,e){var n=gr(e);return jr(n)&&(n=L),jr(t)?ce(t,he(e,1,jr,!0),L,n):[]}),Ki=Ue(function(t){var e=s(t,on);return e.length&&e[0]===t[0]?Ee(e):[]}),Zi=Ue(function(t){var e=gr(t),n=s(t,on);return e===gr(n)?e=L:n.pop(),n.length&&n[0]===t[0]?Ee(n,Wn(e,2)):[]}),Qi=Ue(function(t){var e=gr(t),n=s(t,on);return(e="function"==typeof e?e:L)&&n.pop(),n.length&&n[0]===t[0]?Ee(n,L,e):[]}),Xi=Ue(yr),ta=zn(function(t,e){var n=null==t?0:t.length,r=oe(t,e);return $e(t,s(e,function(t){return Xn(t,n)?+t:t}).sort(dn)),r}),ea=Ue(function(t){return Qe(he(t,1,jr,!0))}),na=Ue(function(t){var e=gr(t);return jr(e)&&(e=L),Qe(he(t,1,jr,!0),Wn(e,2))}),ra=Ue(function(t){var e="function"==typeof(e=gr(t))?e:L;return Qe(he(t,1,jr,!0),L,e)}),oa=Ue(function(t,e){return jr(t)?ce(t,e):[]}),ia=Ue(function(t){return nn(o(t,jr))}),aa=Ue(function(t){var e=gr(t);return jr(e)&&(e=L),nn(o(t,jr),Wn(e,2))}),sa=Ue(function(t){var e="function"==typeof(e=gr(t))?e:L;return nn(o(t,jr),L,e)}),ua=Ue(br),ca=Ue(function(t){var e;return wr(t,e="function"==typeof(e=1<(e=t.length)?t[e-1]:L)?(t.pop(),e):L)}),la=zn(function(t){function e(e){return oe(e,t)}var n=t.length,r=n?t[0]:0,o=this.__wrapped__;return!(1<n||this.__actions__.length)&&o instanceof Nt&&Xn(r)?((o=o.slice(r,+r+(n?1:0))).__actions__.push({func:Er,args:[e],thisArg:L}),new Pt(o,this.__chain__).thru(function(t){return n&&!t.length&&t.push(L),t})):this.thru(e)}),fa=gn(function(t,e,n){No.call(t,n)?++t[n]:re(t,n,1)}),da=On(hr),ha=On(pr),pa=gn(function(t,e,n){No.call(t,n)?t[n].push(e):re(t,n,[e])}),va=Ue(function(e,n,r){var o=-1,i="function"==typeof n,a=Ar(e)?go(e.length):[];return xi(e,function(e){a[++o]=i?t(n,e,r):Oe(e,n,r)}),a}),ma=gn(function(t,e,n){re(t,n,e)}),ga=gn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ya=Ue(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&tr(t,e[0],e[1])?e=[]:2<n&&tr(e[0],e[1],e[2])&&(e=[e[0]]),Ie(t,he(e,1),[])}),_a=Ko||function(){return Lt.Date.now()},ba=Ue(function(t,e,n){var r=1;if(n.length){var o=T(n,Yn(ba));r=32|r}return Rn(t,r,e,n,o)}),wa=Ue(function(t,e,n){var r=3;if(n.length){var o=T(n,Yn(wa));r=32|r}return Rn(e,r,t,n,o)}),Sa=Ue(function(t,e){return ue(t,1,e)}),Ea=Ue(function(t,e,n){return ue(t,Jr(e)||0,n)});Nr.Cache=Rt;var Oa,Da=Ue(function(e,n){var r=(n=1==n.length&&ka(n[0])?s(n[0],E(Wn())):s(he(n,1),E(Wn()))).length;return Ue(function(o){for(var i=-1,a=ai(o.length,r);++i<a;)o[i]=n[i].call(this,o[i]);return t(e,this,o)})}),Ma=Ue(function(t,e){return Rn(t,32,L,e,T(e,Yn(Ma)))}),Ca=Ue(function(t,e){return Rn(t,64,L,e,T(e,Yn(Ca)))}),xa=zn(function(t,e){return Rn(t,256,L,L,L,e)}),Pa=kn(be),Na=kn(function(t,e){return t>=e}),Ta=De(function(){return arguments}())?De:function(t){return $r(t)&&No.call(t,"callee")&&!Uo.call(t,"callee")},ka=go.isArray,Aa=$t?E($t):function(t){return $r(t)&&"[object ArrayBuffer]"==_e(t)},ja=ei||vo,La=zt?E(zt):function(t){return $r(t)&&"[object Date]"==_e(t)},Ra=qt?E(qt):function(t){return $r(t)&&"[object Map]"==Bi(t)},Ia=Ut?E(Ut):function(t){return $r(t)&&"[object RegExp]"==_e(t)},Fa=Ht?E(Ht):function(t){return $r(t)&&"[object Set]"==Bi(t)},Ba=Yt?E(Yt):function(t){return $r(t)&&Fr(t.length)&&!!Ct[_e(t)]},$a=kn(Te),za=kn(function(t,e){return t<=e}),qa=yn(function(t,e){if(rr(e)||Ar(e))mn(e,to(e),t);else for(var n in e)No.call(e,n)&&Xt(t,n,e[n])}),Ua=yn(function(t,e){mn(e,eo(e),t)}),Ha=yn(function(t,e,n,r){mn(e,eo(e),t,r)}),Ya=yn(function(t,e,n,r){mn(e,to(e),t,r)}),Wa=zn(oe),Ga=Ue(function(t,e){t=So(t);var n=-1,r=e.length;for((o=2<r?e[2]:L)&&tr(e[0],e[1],o)&&(r=1);++n<r;)for(var o,i=eo(o=e[n]),a=-1,s=i.length;++a<s;){var u=i[a],c=t[u];(c===L||kr(c,Co[u])&&!No.call(t,u))&&(t[u]=o[u])}return t}),Va=Ue(function(e){return e.push(L,Fn),t(Xa,L,e)}),Ja=Cn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ao.call(e)),t[e]=n},so(uo)),Ka=Cn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ao.call(e)),No.call(t,e)?t[e].push(n):t[e]=[n]},Wn),Za=Ue(Oe),Qa=yn(function(t,e,n){Le(t,e,n)}),Xa=yn(function(t,e,n,r){Le(t,e,n,r)}),ts=zn(function(t,e){var n={};if(null==t)return n;var r=!1;e=s(e,function(e){return e=sn(e,t),r||(r=1<e.length),e}),mn(t,Un(t),n),r&&(n=ae(n,7,Bn));for(var o=e.length;o--;)Xe(n,e[o]);return n}),es=zn(function(t,e){return null==t?{}:Fe(n=t,e,function(t,e){return Xr(n,e)});var n}),ns=Ln(to),rs=Ln(eo),os=Sn(function(t,e,n){return e=e.toLowerCase(),t+(n?oo(e):e)}),is=Sn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),as=Sn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),ss=wn("toLowerCase"),us=Sn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),cs=Sn(function(t,e,n){return t+(n?" ":"")+fs(e)}),ls=Sn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),fs=wn("toUpperCase"),ds=Ue(function(e,n){try{return t(e,L,n)}catch(t){return Lr(t)?t:new _o(t)}}),hs=zn(function(t,e){return n(e,function(e){e=cr(e),re(t,e,ba(t[e],t))}),t}),ps=Dn(),vs=Dn(!0),ms=Ue(function(t,e){return function(n){return Oe(n,t,e)}}),gs=Ue(function(t,e){return function(n){return Oe(t,n,e)}}),ys=Pn(s),_s=Pn(r),bs=Pn(f),ws=Tn(),Ss=Tn(!0),Es=xn(function(t,e){return t+e},0),Os=jn("ceil"),Ds=xn(function(t,e){return t/e},1),Ms=jn("floor"),Cs=xn(function(t,e){return t*e},1),xs=jn("round"),Ps=xn(function(t,e){return t-e},0);return _t.after=function(t,e){if("function"!=typeof e)throw new Do("Expected a function");return t=Gr(t),function(){if(1>--t)return e.apply(this,arguments)}},_t.ary=Cr,_t.assign=qa,_t.assignIn=Ua,_t.assignInWith=Ha,_t.assignWith=Ya,_t.at=Wa,_t.before=xr,_t.bind=ba,_t.bindAll=hs,_t.bindKey=wa,_t.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ka(t)?t:[t]},_t.chain=Sr,_t.chunk=function(t,e,n){if(e=(n?tr(t,e,n):e===L)?1:ii(Gr(e),0),!(n=null==t?0:t.length)||1>e)return[];for(var r=0,o=0,i=go(Qo(n/e));r<n;)i[o++]=Ye(t,r,r+=e);return i},_t.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},_t.concat=function(){var t=arguments.length;if(!t)return[];for(var e=go(t-1),n=arguments[0];t--;)e[t-1]=arguments[t];return u(ka(n)?vn(n):[n],he(e,1))},_t.cond=function(e){var n=null==e?0:e.length,r=Wn();return e=n?s(e,function(t){if("function"!=typeof t[1])throw new Do("Expected a function");return[r(t[0]),t[1]]}):[],Ue(function(r){for(var o=-1;++o<n;){var i=e[o];if(t(i[0],this,r))return t(i[1],this,r)}})},_t.conforms=function(t){return e=ae(t,1),n=to(e),function(t){return se(t,e,n)};var e,n},_t.constant=so,_t.countBy=fa,_t.create=function(t,e){var n=Ci(t);return null==e?n:ne(n,e)},_t.curry=function t(e,n,r){return(e=Rn(e,8,L,L,L,L,L,n=r?L:n)).placeholder=t.placeholder,e},_t.curryRight=function t(e,n,r){return(e=Rn(e,16,L,L,L,L,L,n=r?L:n)).placeholder=t.placeholder,e},_t.debounce=Pr,_t.defaults=Ga,_t.defaultsDeep=Va,_t.defer=Sa,_t.delay=Ea,_t.difference=Gi,_t.differenceBy=Vi,_t.differenceWith=Ji,_t.drop=function(t,e,n){var r=null==t?0:t.length;return r?Ye(t,0>(e=n||e===L?1:Gr(e))?0:e,r):[]},_t.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Ye(t,0,0>(e=r-(e=n||e===L?1:Gr(e)))?0:e):[]},_t.dropRightWhile=function(t,e){return t&&t.length?tn(t,Wn(e,3),!0,!0):[]},_t.dropWhile=function(t,e){return t&&t.length?tn(t,Wn(e,3),!0):[]},_t.fill=function(t,e,n,r){var o=null==t?0:t.length;if(!o)return[];for(n&&"number"!=typeof n&&tr(t,e,n)&&(n=0,r=o),o=t.length,0>(n=Gr(n))&&(n=-n>o?0:o+n),0>(r=r===L||r>o?o:Gr(r))&&(r+=o),r=n>r?0:Vr(r);n<r;)t[n++]=e;return t},_t.filter=function(t,e){return(ka(t)?o:de)(t,Wn(e,3))},_t.flatMap=function(t,e){return he(Mr(t,e),1)},_t.flatMapDeep=function(t,e){return he(Mr(t,e),R)},_t.flatMapDepth=function(t,e,n){return n=n===L?1:Gr(n),he(Mr(t,e),n)},_t.flatten=vr,_t.flattenDeep=function(t){return null!=t&&t.length?he(t,R):[]},_t.flattenDepth=function(t,e){return null!=t&&t.length?he(t,e=e===L?1:Gr(e)):[]},_t.flip=function(t){return Rn(t,512)},_t.flow=ps,_t.flowRight=vs,_t.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},_t.functions=function(t){return null==t?[]:me(t,to(t))},_t.functionsIn=function(t){return null==t?[]:me(t,eo(t))},_t.groupBy=pa,_t.initial=function(t){return null!=t&&t.length?Ye(t,0,-1):[]},_t.intersection=Ki,_t.intersectionBy=Zi,_t.intersectionWith=Qi,_t.invert=Ja,_t.invertBy=Ka,_t.invokeMap=va,_t.iteratee=co,_t.keyBy=ma,_t.keys=to,_t.keysIn=eo,_t.map=Mr,_t.mapKeys=function(t,e){var n={};return e=Wn(e,3),pe(t,function(t,r,o){re(n,e(t,r,o),t)}),n},_t.mapValues=function(t,e){var n={};return e=Wn(e,3),pe(t,function(t,r,o){re(n,r,e(t,r,o))}),n},_t.matches=function(t){return Ae(ae(t,1))},_t.matchesProperty=function(t,e){return je(t,ae(e,1))},_t.memoize=Nr,_t.merge=Qa,_t.mergeWith=Xa,_t.method=ms,_t.methodOf=gs,_t.mixin=lo,_t.negate=Tr,_t.nthArg=function(t){return t=Gr(t),Ue(function(e){return Re(e,t)})},_t.omit=ts,_t.omitBy=function(t,e){return no(t,Tr(Wn(e)))},_t.once=function(t){return xr(2,t)},_t.orderBy=function(t,e,n,r){return null==t?[]:(ka(e)||(e=null==e?[]:[e]),ka(n=r?L:n)||(n=null==n?[]:[n]),Ie(t,e,n))},_t.over=ys,_t.overArgs=Da,_t.overEvery=_s,_t.overSome=bs,_t.partial=Ma,_t.partialRight=Ca,_t.partition=ga,_t.pick=es,_t.pickBy=no,_t.property=ho,_t.propertyOf=function(t){return function(e){return null==t?L:ge(t,e)}},_t.pull=Xi,_t.pullAll=yr,_t.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Be(t,e,Wn(n,2)):t},_t.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Be(t,e,L,n):t},_t.pullAt=ta,_t.range=ws,_t.rangeRight=Ss,_t.rearg=xa,_t.reject=function(t,e){return(ka(t)?o:de)(t,Tr(Wn(e,3)))},_t.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=Wn(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return $e(t,o),n},_t.rest=function(t,e){if("function"!=typeof t)throw new Do("Expected a function");return Ue(t,e=e===L?e:Gr(e))},_t.reverse=_r,_t.sampleSize=function(t,e,n){return e=(n?tr(t,e,n):e===L)?1:Gr(e),(ka(t)?function(t,e){return ur(vn(t),ie(e,0,t.length))}:function(t,e){var n=ro(t);return ur(n,ie(e,0,n.length))})(t,e)},_t.set=function(t,e,n){return null==t?t:He(t,e,n)},_t.setWith=function(t,e,n,r){return r="function"==typeof r?r:L,null==t?t:He(t,e,n,r)},_t.shuffle=function(t){return(ka(t)?function(t){return ur(vn(t))}:function(t){return ur(ro(t))})(t)},_t.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&tr(t,e,n)?(e=0,n=r):(e=null==e?0:Gr(e),n=n===L?r:Gr(n)),Ye(t,e,n)):[]},_t.sortBy=ya,_t.sortedUniq=function(t){return t&&t.length?Je(t):[]},_t.sortedUniqBy=function(t,e){return t&&t.length?Je(t,Wn(e,2)):[]},_t.split=function(t,e,n){return n&&"number"!=typeof n&&tr(t,e,n)&&(e=n=L),(n=n===L?4294967295:n>>>0)?(t=Zr(t))&&("string"==typeof e||null!=e&&!Ia(e))&&(!(e=Ze(e))&&Ot.test(t))?un(j(t),0,n):t.split(e,n):[]},_t.spread=function(e,n){if("function"!=typeof e)throw new Do("Expected a function");return n=null==n?0:ii(Gr(n),0),Ue(function(r){var o=r[n];return r=un(r,0,n),o&&u(r,o),t(e,this,r)})},_t.tail=function(t){var e=null==t?0:t.length;return e?Ye(t,1,e):[]},_t.take=function(t,e,n){return t&&t.length?Ye(t,0,0>(e=n||e===L?1:Gr(e))?0:e):[]},_t.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Ye(t,0>(e=r-(e=n||e===L?1:Gr(e)))?0:e,r):[]},_t.takeRightWhile=function(t,e){return t&&t.length?tn(t,Wn(e,3),!1,!0):[]},_t.takeWhile=function(t,e){return t&&t.length?tn(t,Wn(e,3)):[]},_t.tap=function(t,e){return e(t),t},_t.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Do("Expected a function");return Br(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Pr(t,e,{leading:r,maxWait:e,trailing:o})},_t.thru=Er,_t.toArray=Yr,_t.toPairs=ns,_t.toPairsIn=rs,_t.toPath=function(t){return ka(t)?s(t,cr):Hr(t)?[t]:vn(Wi(Zr(t)))},_t.toPlainObject=Kr,_t.transform=function(t,e,r){var o=ka(t),i=o||ja(t)||Ba(t);if(e=Wn(e,4),null==r){var a=t&&t.constructor;r=i?o?new a:[]:Br(t)&&Rr(a)?Ci(zo(t)):{}}return(i?n:pe)(t,function(t,n,o){return e(r,t,n,o)}),r},_t.unary=function(t){return Cr(t,1)},_t.union=ea,_t.unionBy=na,_t.unionWith=ra,_t.uniq=function(t){return t&&t.length?Qe(t):[]},_t.uniqBy=function(t,e){return t&&t.length?Qe(t,Wn(e,2)):[]},_t.uniqWith=function(t,e){return e="function"==typeof e?e:L,t&&t.length?Qe(t,L,e):[]},_t.unset=function(t,e){return null==t||Xe(t,e)},_t.unzip=br,_t.unzipWith=wr,_t.update=function(t,e,n){return null==t?t:He(t,e,an(n)(ge(t,e)),void 0)},_t.updateWith=function(t,e,n,r){return r="function"==typeof r?r:L,null!=t&&(t=He(t,e,an(n)(ge(t,e)),r)),t},_t.values=ro,_t.valuesIn=function(t){return null==t?[]:O(t,eo(t))},_t.without=oa,_t.words=ao,_t.wrap=function(t,e){return Ma(an(e),t)},_t.xor=ia,_t.xorBy=aa,_t.xorWith=sa,_t.zip=ua,_t.zipObject=function(t,e){return rn(t||[],e||[],Xt)},_t.zipObjectDeep=function(t,e){return rn(t||[],e||[],He)},_t.zipWith=ca,_t.entries=ns,_t.entriesIn=rs,_t.extend=Ua,_t.extendWith=Ha,lo(_t,_t),_t.add=Es,_t.attempt=ds,_t.camelCase=os,_t.capitalize=oo,_t.ceil=Os,_t.clamp=function(t,e,n){return n===L&&(n=e,e=L),n!==L&&(n=(n=Jr(n))==n?n:0),e!==L&&(e=(e=Jr(e))==e?e:0),ie(Jr(t),e,n)},_t.clone=function(t){return ae(t,4)},_t.cloneDeep=function(t){return ae(t,5)},_t.cloneDeepWith=function(t,e){return ae(t,5,e="function"==typeof e?e:L)},_t.cloneWith=function(t,e){return ae(t,4,e="function"==typeof e?e:L)},_t.conformsTo=function(t,e){return null==e||se(t,e,to(e))},_t.deburr=io,_t.defaultTo=function(t,e){return null==t||t!=t?e:t},_t.divide=Ds,_t.endsWith=function(t,e,n){t=Zr(t),e=Ze(e);var r=t.length;r=n=n===L?r:ie(Gr(n),0,r);return 0<=(n-=e.length)&&t.slice(n,r)==e},_t.eq=kr,_t.escape=function(t){return(t=Zr(t))&&Y.test(t)?t.replace(U,Vt):t},_t.escapeRegExp=function(t){return(t=Zr(t))&&X.test(t)?t.replace(Q,"\\$&"):t},_t.every=function(t,e,n){var o=ka(t)?r:le;return n&&tr(t,e,n)&&(e=L),o(t,Wn(e,3))},_t.find=da,_t.findIndex=hr,_t.findKey=function(t,e){return d(t,Wn(e,3),pe)},_t.findLast=ha,_t.findLastIndex=pr,_t.findLastKey=function(t,e){return d(t,Wn(e,3),ve)},_t.floor=Ms,_t.forEach=Or,_t.forEachRight=Dr,_t.forIn=function(t,e){return null==t?t:Ni(t,Wn(e,3),eo)},_t.forInRight=function(t,e){return null==t?t:Ti(t,Wn(e,3),eo)},_t.forOwn=function(t,e){return t&&pe(t,Wn(e,3))},_t.forOwnRight=function(t,e){return t&&ve(t,Wn(e,3))},_t.get=Qr,_t.gt=Pa,_t.gte=Na,_t.has=function(t,e){return null!=t&&Kn(t,e,we)},_t.hasIn=Xr,_t.head=mr,_t.identity=uo,_t.includes=function(t,e,n,r){return t=Ar(t)?t:ro(t),n=n&&!r?Gr(n):0,r=t.length,0>n&&(n=ii(r+n,0)),Ur(t)?n<=r&&-1<t.indexOf(e,n):!!r&&-1<p(t,e,n)},_t.indexOf=function(t,e,n){var r=null==t?0:t.length;return r?(0>(n=null==n?0:Gr(n))&&(n=ii(r+n,0)),p(t,e,n)):-1},_t.inRange=function(t,e,n){return e=Wr(e),n===L?(n=e,e=0):n=Wr(n),(t=Jr(t))>=ai(e,n)&&t<ii(e,n)},_t.invoke=Za,_t.isArguments=Ta,_t.isArray=ka,_t.isArrayBuffer=Aa,_t.isArrayLike=Ar,_t.isArrayLikeObject=jr,_t.isBoolean=function(t){return!0===t||!1===t||$r(t)&&"[object Boolean]"==_e(t)},_t.isBuffer=ja,_t.isDate=La,_t.isElement=function(t){return $r(t)&&1===t.nodeType&&!qr(t)},_t.isEmpty=function(t){if(null==t)return!0;if(Ar(t)&&(ka(t)||"string"==typeof t||"function"==typeof t.splice||ja(t)||Ba(t)||Ta(t)))return!t.length;var e=Bi(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(rr(t))return!Ne(t).length;for(var n in t)if(No.call(t,n))return!1;return!0},_t.isEqual=function(t,e){return Me(t,e)},_t.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:L)?n(t,e):L;return r===L?Me(t,e,L,n):!!r},_t.isError=Lr,_t.isFinite=function(t){return"number"==typeof t&&ni(t)},_t.isFunction=Rr,_t.isInteger=Ir,_t.isLength=Fr,_t.isMap=Ra,_t.isMatch=function(t,e){return t===e||Ce(t,e,Vn(e))},_t.isMatchWith=function(t,e,n){return n="function"==typeof n?n:L,Ce(t,e,Vn(e),n)},_t.isNaN=function(t){return zr(t)&&t!=+t},_t.isNative=function(t){if(qi(t))throw new _o("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xe(t)},_t.isNil=function(t){return null==t},_t.isNull=function(t){return null===t},_t.isNumber=zr,_t.isObject=Br,_t.isObjectLike=$r,_t.isPlainObject=qr,_t.isRegExp=Ia,_t.isSafeInteger=function(t){return Ir(t)&&-9007199254740991<=t&&9007199254740991>=t},_t.isSet=Fa,_t.isString=Ur,_t.isSymbol=Hr,_t.isTypedArray=Ba,_t.isUndefined=function(t){return t===L},_t.isWeakMap=function(t){return $r(t)&&"[object WeakMap]"==Bi(t)},_t.isWeakSet=function(t){return $r(t)&&"[object WeakSet]"==_e(t)},_t.join=function(t,e){return null==t?"":ri.call(t,e)},_t.kebabCase=is,_t.last=gr,_t.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;if(n!==L&&(o=0>(o=Gr(n))?ii(r+o,0):ai(o,r-1)),e==e){for(n=o+1;n--&&t[n]!==e;);t=n}else t=h(t,m,o,!0);return t},_t.lowerCase=as,_t.lowerFirst=ss,_t.lt=$a,_t.lte=za,_t.max=function(t){return t&&t.length?fe(t,uo,be):L},_t.maxBy=function(t,e){return t&&t.length?fe(t,Wn(e,2),be):L},_t.mean=function(t){return g(t,uo)},_t.meanBy=function(t,e){return g(t,Wn(e,2))},_t.min=function(t){return t&&t.length?fe(t,uo,Te):L},_t.minBy=function(t,e){return t&&t.length?fe(t,Wn(e,2),Te):L},_t.stubArray=po,_t.stubFalse=vo,_t.stubObject=function(){return{}},_t.stubString=function(){return""},_t.stubTrue=function(){return!0},_t.multiply=Cs,_t.nth=function(t,e){return t&&t.length?Re(t,Gr(e)):L},_t.noConflict=function(){return Lt._===this&&(Lt._=Lo),this},_t.noop=fo,_t.now=_a,_t.pad=function(t,e,n){t=Zr(t);var r=(e=Gr(e))?A(t):0;return!e||r>=e?t:Nn(Xo(e=(e-r)/2),n)+t+Nn(Qo(e),n)},_t.padEnd=function(t,e,n){t=Zr(t);var r=(e=Gr(e))?A(t):0;return e&&r<e?t+Nn(e-r,n):t},_t.padStart=function(t,e,n){t=Zr(t);var r=(e=Gr(e))?A(t):0;return e&&r<e?Nn(e-r,n)+t:t},_t.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ui(Zr(t).replace(et,""),e||0)},_t.random=function(t,e,n){if(n&&"boolean"!=typeof n&&tr(t,e,n)&&(e=n=L),n===L&&("boolean"==typeof e?(n=e,e=L):"boolean"==typeof t&&(n=t,t=L)),t===L&&e===L?(t=0,e=1):(t=Wr(t),e===L?(e=t,t=0):e=Wr(e)),t>e){var r=t;t=e,e=r}return n||t%1||e%1?(n=ci(),ai(t+n*(e-t+Tt("1e-"+((n+"").length-1))),e)):ze(t,e)},_t.reduce=function(t,e,n){var r=ka(t)?c:b,o=3>arguments.length;return r(t,Wn(e,4),n,o,xi)},_t.reduceRight=function(t,e,n){var r=ka(t)?l:b,o=3>arguments.length;return r(t,Wn(e,4),n,o,Pi)},_t.repeat=function(t,e,n){return e=(n?tr(t,e,n):e===L)?1:Gr(e),qe(Zr(t),e)},_t.replace=function(){var t=arguments,e=Zr(t[0]);return 3>t.length?e:e.replace(t[1],t[2])},_t.result=function(t,e,n){var r=-1,o=(e=sn(e,t)).length;for(o||(o=1,t=L);++r<o;){var i=null==t?L:t[cr(e[r])];i===L&&(r=o,i=n),t=Rr(i)?i.call(t):i}return t},_t.round=xs,_t.runInContext=_,_t.sample=function(t){return(ka(t)?Zt:function(t){return Zt(ro(t))})(t)},_t.size=function(t){if(null==t)return 0;if(Ar(t))return Ur(t)?A(t):t.length;var e=Bi(t);return"[object Map]"==e||"[object Set]"==e?t.size:Ne(t).length},_t.snakeCase=us,_t.some=function(t,e,n){var r=ka(t)?f:We;return n&&tr(t,e,n)&&(e=L),r(t,Wn(e,3))},_t.sortedIndex=function(t,e){return Ge(t,e)},_t.sortedIndexBy=function(t,e,n){return Ve(t,e,Wn(n,2))},_t.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ge(t,e);if(r<n&&kr(t[r],e))return r}return-1},_t.sortedLastIndex=function(t,e){return Ge(t,e,!0)},_t.sortedLastIndexBy=function(t,e,n){return Ve(t,e,Wn(n,2),!0)},_t.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Ge(t,e,!0)-1;if(kr(t[n],e))return n}return-1},_t.startCase=cs,_t.startsWith=function(t,e,n){return t=Zr(t),n=null==n?0:ie(Gr(n),0,t.length),e=Ze(e),t.slice(n,n+e.length)==e},_t.subtract=Ps,_t.sum=function(t){return t&&t.length?w(t,uo):0},_t.sumBy=function(t,e){return t&&t.length?w(t,Wn(e,2)):0},_t.template=function(t,e,n){var r=_t.templateSettings;n&&tr(t,e,n)&&(e=L),t=Zr(t),e=Ha({},e,r,In);var o,i,a=to(n=Ha({},e.imports,r.imports,In)),s=O(n,a),u=0;n=e.interpolate||mt;var c="__p+='";n=Eo((e.escape||mt).source+"|"+n.source+"|"+(n===V?ut:mt).source+"|"+(e.evaluate||mt).source+"|$","g");var l="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(n,function(e,n,r,a,s,l){return r||(r=a),c+=t.slice(u,l).replace(gt,x),n&&(o=!0,c+="'+__e("+n+")+'"),s&&(i=!0,c+="';"+s+";\n__p+='"),r&&(c+="'+((__t=("+r+"))==null?'':__t)+'"),u=l+e.length,e}),c+="';",(e=e.variable)||(c="with(obj){"+c+"}"),c=(i?c.replace(B,""):c).replace($,"$1").replace(z,"$1;"),c="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",(e=ds(function(){return bo(a,l+"return "+c).apply(L,s)})).source=c,Lr(e))throw e;return e},_t.times=function(t,e){if(1>(t=Gr(t))||9007199254740991<t)return[];var n=4294967295,r=ai(t,4294967295);for(t-=4294967295,r=S(r,e=Wn(e));++n<t;)e(n);return r},_t.toFinite=Wr,_t.toInteger=Gr,_t.toLength=Vr,_t.toLower=function(t){return Zr(t).toLowerCase()},_t.toNumber=Jr,_t.toSafeInteger=function(t){return t?ie(Gr(t),-9007199254740991,9007199254740991):0===t?t:0},_t.toString=Zr,_t.toUpper=function(t){return Zr(t).toUpperCase()},_t.trim=function(t,e,n){return(t=Zr(t))&&(n||e===L)?t.replace(tt,""):t&&(e=Ze(e))?un(t=j(t),e=M(t,n=j(e)),n=C(t,n)+1).join(""):t},_t.trimEnd=function(t,e,n){return(t=Zr(t))&&(n||e===L)?t.replace(nt,""):t&&(e=Ze(e))?un(t=j(t),0,e=C(t,j(e))+1).join(""):t},_t.trimStart=function(t,e,n){return(t=Zr(t))&&(n||e===L)?t.replace(et,""):t&&(e=Ze(e))?un(t=j(t),e=M(t,j(e))).join(""):t},_t.truncate=function(t,e){var n=30,r="...";if(Br(e)){var o="separator"in e?e.separator:o;n="length"in e?Gr(e.length):n,r="omission"in e?Ze(e.omission):r}var i=(t=Zr(t)).length;if(Ot.test(t)){var a=j(t);i=a.length}if(n>=i)return t;if(1>(i=n-A(r)))return r;if(n=a?un(a,0,i).join(""):t.slice(0,i),o===L)return n+r;if(a&&(i+=n.length-i),Ia(o)){if(t.slice(i).search(o)){var s=n;for(o.global||(o=Eo(o.source,Zr(ct.exec(o))+"g")),o.lastIndex=0;a=o.exec(s);)var u=a.index;n=n.slice(0,u===L?i:u)}}else t.indexOf(Ze(o),i)!=i&&(-1<(o=n.lastIndexOf(o))&&(n=n.slice(0,o)));return n+r},_t.unescape=function(t){return(t=Zr(t))&&H.test(t)?t.replace(q,Jt):t},_t.uniqueId=function(t){var e=++To;return Zr(t)+e},_t.upperCase=ls,_t.upperFirst=fs,_t.each=Or,_t.eachRight=Dr,_t.first=mr,lo(_t,(Oa={},pe(_t,function(t,e){No.call(_t.prototype,e)||(Oa[e]=t)}),Oa),{chain:!1}),_t.VERSION="4.17.5",n("bind bindKey curry curryRight partial partialRight".split(" "),function(t){_t[t].placeholder=_t}),n(["drop","take"],function(t,e){Nt.prototype[t]=function(n){n=n===L?1:ii(Gr(n),0);var r=this.__filtered__&&!e?new Nt(this):this.clone();return r.__filtered__?r.__takeCount__=ai(n,r.__takeCount__):r.__views__.push({size:ai(n,4294967295),type:t+(0>r.__dir__?"Right":"")}),r},Nt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),n(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;Nt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Wn(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),n(["head","last"],function(t,e){var n="take"+(e?"Right":"");Nt.prototype[t]=function(){return this[n](1).value()[0]}}),n(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Nt.prototype[t]=function(){return this.__filtered__?new Nt(this):this[n](1)}}),Nt.prototype.compact=function(){return this.filter(uo)},Nt.prototype.find=function(t){return this.filter(t).head()},Nt.prototype.findLast=function(t){return this.reverse().find(t)},Nt.prototype.invokeMap=Ue(function(t,e){return"function"==typeof t?new Nt(this):this.map(function(n){return Oe(n,t,e)})}),Nt.prototype.reject=function(t){return this.filter(Tr(Wn(t)))},Nt.prototype.slice=function(t,e){t=Gr(t);var n=this;return n.__filtered__&&(0<t||0>e)?new Nt(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==L&&(n=0>(e=Gr(e))?n.dropRight(-e):n.take(e-t)),n)},Nt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Nt.prototype.toArray=function(){return this.take(4294967295)},pe(Nt.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=_t[r?"take"+("last"==e?"Right":""):e],i=r||/^find/.test(e);o&&(_t.prototype[e]=function(){function e(t){return t=o.apply(_t,u([t],s)),r&&d?t[0]:t}var a=this.__wrapped__,s=r?[1]:arguments,c=a instanceof Nt,l=s[0],f=c||ka(a);f&&n&&"function"==typeof l&&1!=l.length&&(c=f=!1);var d=this.__chain__,h=!!this.__actions__.length;l=i&&!d,c=c&&!h;return!i&&f?(a=c?a:new Nt(this),(a=t.apply(a,s)).__actions__.push({func:Er,args:[e],thisArg:L}),new Pt(a,d)):l&&c?t.apply(this,s):(a=this.thru(e),l?r?a.value()[0]:a.value():a)})}),n("pop push shift sort splice unshift".split(" "),function(t){var e=Mo[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);_t.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(ka(o)?o:[],t)}return this[n](function(n){return e.apply(ka(n)?n:[],t)})}}),pe(Nt.prototype,function(t,e){var n=_t[e];if(n){var r=n.name+"";(yi[r]||(yi[r]=[])).push({name:e,func:n})}}),yi[Mn(L,2).name]=[{name:"wrapper",func:L}],Nt.prototype.clone=function(){var t=new Nt(this.__wrapped__);return t.__actions__=vn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=vn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=vn(this.__views__),t},Nt.prototype.reverse=function(){if(this.__filtered__){var t=new Nt(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Nt.prototype.value=function(){var t,e=this.__wrapped__.value(),n=this.__dir__,r=ka(e),o=0>n,i=r?e.length:0;t=i;for(var a=this.__views__,s=0,u=-1,c=a.length;++u<c;){var l=a[u],f=l.size;switch(l.type){case"drop":s+=f;break;case"dropRight":t-=f;break;case"take":t=ai(t,s+f);break;case"takeRight":s=ii(s,t-f)}}if(a=(t={start:s,end:t}).start,t=(s=t.end)-a,a=o?s:a-1,u=(s=this.__iteratees__).length,c=0,l=ai(t,this.__takeCount__),!r||!o&&i==t&&l==t)return en(e,this.__actions__);r=[];t:for(;t--&&c<l;){for(o=-1,i=e[a+=n];++o<u;){f=(d=s[o]).type;var d=(0,d.iteratee)(i);if(2==f)i=d;else if(!d){if(1==f)continue t;break t}}r[c++]=i}return r},_t.prototype.at=la,_t.prototype.chain=function(){return Sr(this)},_t.prototype.commit=function(){return new Pt(this.value(),this.__chain__)},_t.prototype.next=function(){this.__values__===L&&(this.__values__=Yr(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?L:this.__values__[this.__index__++]}},_t.prototype.plant=function(t){for(var e,n=this;n instanceof St;){var r=dr(n);r.__index__=0,r.__values__=L,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},_t.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof Nt?(this.__actions__.length&&(t=new Nt(this)),(t=t.reverse()).__actions__.push({func:Er,args:[_r],thisArg:L}),new Pt(t,this.__chain__)):this.thru(_r)},_t.prototype.toJSON=_t.prototype.valueOf=_t.prototype.value=function(){return en(this.__wrapped__,this.__actions__)},_t.prototype.first=_t.prototype.head,Wo&&(_t.prototype[Wo]=function(){return this}),_t}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Lt._=Kt,define(function(){return Kt})):It?((It.exports=Kt)._=Kt,Rt._=Kt):Lt._=Kt}.call(this),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ResizeSensor=e()}("undefined"!=typeof window?window:this,function(){if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};function e(t,e){var n=Object.prototype.toString.call(t),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements,o=0,i=t.length;if(r)for(;o<i;o++)e(t[o]);else e(t)}function n(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}var r=function(o,i){e(o,function(e){!function(e,r){if(e)if(e.resizedAttached)e.resizedAttached.add(r);else{e.resizedAttached=new function(){var t,e,n=[];this.add=function(t){n.push(t)},this.call=function(){for(t=0,e=n.length;t<e;t++)n[t].call()},this.remove=function(r){var o=[];for(t=0,e=n.length;t<e;t++)n[t]!==r&&o.push(n[t]);n=o},this.length=function(){return n.length}},e.resizedAttached.add(r),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var o="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",i="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=o,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+o+'"><div style="'+i+'"></div></div><div class="resize-sensor-shrink" style="'+o+'"><div style="'+i+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor);var a=window.getComputedStyle(e).getPropertyValue("position");"absolute"!==a&&"relative"!==a&&"fixed"!==a&&(e.style.position="relative");var s,u,c=e.resizeSensor.childNodes[0],l=c.childNodes[0],f=e.resizeSensor.childNodes[1],d=n(e),h=d.width,p=d.height,v=function(){var t=0===e.offsetWidth&&0===e.offsetHeight;if(t){var n=e.style.display;e.style.display="block"}l.style.width="100000px",l.style.height="100000px",c.scrollLeft=1e5,c.scrollTop=1e5,f.scrollLeft=1e5,f.scrollTop=1e5,t&&(e.style.display=n)};e.resizeSensor.resetSensor=v;var m=function(){u=0,s&&(h=void 0,p=void 0,e.resizedAttached&&e.resizedAttached.call())},g=function(){var r=n(e),o=r.width,i=r.height;(s=o!=h||i!=p)&&!u&&(u=t(m)),v()},y=function(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n)};y(c,"scroll",g),y(f,"scroll",g),t(v)}}(e,i)}),this.detach=function(t){r.detach(o,t)},this.reset=function(){o.resizeSensor.resetSensor()}};return r.reset=function(t,n){e(t,function(t){t.resizeSensor.resetSensor()})},r.detach=function(t,n){e(t,function(t){t&&(t.resizedAttached&&"function"==typeof n&&(t.resizedAttached.remove(n),t.resizedAttached.length())||t.resizeSensor&&(t.contains(t.resizeSensor)&&t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached))})},r}),function(t,e){"function"==typeof define&&define.amd?define(["./ResizeSensor.js"],e):"object"==typeof exports?module.exports=e(require("./ResizeSensor.js")):(t.ElementQueries=e(t.ResizeSensor),t.ElementQueries.listen())}("undefined"!=typeof window?window:this,function(t){var e=function(){var e,n={},r=[];function o(t){t||(t=document.documentElement);var e=window.getComputedStyle(t,null).fontSize;return parseFloat(e)||16}function i(t,e){var n=e.split(/\d/),r=n[n.length-1];switch(e=parseFloat(e),r){case"px":return e;case"em":return e*o(t);case"rem":return e*o();case"vw":return e*document.documentElement.clientWidth/100;case"vh":return e*document.documentElement.clientHeight/100;case"vmin":case"vmax":var i=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return e*(0,Math["vmin"===r?"min":"max"])(i,a);default:return e}}function a(t,e){var r,o,a,s,u,c,l,f;this.element=t;var d=["min-width","min-height","max-width","max-height"];this.call=function(){for(r in a=function(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}(this.element),c={},n[e])n[e].hasOwnProperty(r)&&(o=n[e][r],s=i(this.element,o.value),u="width"===o.property?a.width:a.height,f=o.mode+"-"+o.property,l="","min"===o.mode&&u>=s&&(l+=o.value),"max"===o.mode&&u<=s&&(l+=o.value),c[f]||(c[f]=""),l&&-1===(" "+c[f]+" ").indexOf(" "+l+" ")&&(c[f]+=" "+l));for(var t in d)d.hasOwnProperty(t)&&(c[d[t]]?this.element.setAttribute(d[t],c[d[t]].substr(1)):this.element.removeAttribute(d[t]))}}function s(e,n){e.elementQueriesSetupInformation||(e.elementQueriesSetupInformation=new a(e,n)),e.elementQueriesSensor||(e.elementQueriesSensor=new t(e,function(){e.elementQueriesSetupInformation.call()})),e.elementQueriesSetupInformation.call()}function u(t,o,i,a){if(void 0===n[t]){n[t]=[];var s=r.length;e.innerHTML+="\n"+t+" {animation: 0.1s element-queries;}",e.innerHTML+="\n"+t+" > .resize-sensor {min-width: "+s+"px;}",r.push(t)}n[t].push({mode:o,property:i,value:a})}function c(t){var e;if(document.querySelectorAll&&(e=t?t.querySelectorAll.bind(t):document.querySelectorAll.bind(document)),e||"undefined"==typeof $$||(e=$$),e||"undefined"==typeof jQuery||(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return e}function l(e){var n=[],r=[],o=[],i=0,a=-1,s=[];for(var u in e.children)if(e.children.hasOwnProperty(u)&&e.children[u].tagName&&"img"===e.children[u].tagName.toLowerCase()){n.push(e.children[u]);var c=e.children[u].getAttribute("min-width")||e.children[u].getAttribute("data-min-width"),l=e.children[u].getAttribute("data-src")||e.children[u].getAttribute("url");o.push(l);var f={minWidth:c};r.push(f),c?e.children[u].style.display="none":(i=n.length-1,e.children[u].style.display="block")}function d(){var t,u=!1;for(t in n)n.hasOwnProperty(t)&&r[t].minWidth&&e.offsetWidth>r[t].minWidth&&(u=t);if(u||(u=i),a!==u)if(s[u])n[a].style.display="none",n[u].style.display="block",a=u;else{var c=new Image;c.onload=function(){n[u].src=o[u],n[a].style.display="none",n[u].style.display="block",s[u]=!0,a=u},c.src=o[u]}else n[u].src=o[u]}a=i,e.resizeSensor=new t(e,d),d()}var f=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,d=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function h(t){var e,n,r,o;for(t=t.replace(/'/g,'"');null!==(e=f.exec(t));)for(n=e[1]+e[3],r=e[2];null!==(o=d.exec(r));)u(n,o[1],o[2],o[3])}function p(t){var e="";if(t)if("string"==typeof t)-1===(t=t.toLowerCase()).indexOf("min-width")&&-1===t.indexOf("max-width")||h(t);else for(var n=0,r=t.length;n<r;n++)1===t[n].type?-1!==(e=t[n].selectorText||t[n].cssText).indexOf("min-height")||-1!==e.indexOf("max-height")?h(e):-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||h(e):4===t[n].type?p(t[n].cssRules||t[n].rules):3===t[n].type&&t[n].styleSheet.hasOwnProperty("cssRules")&&p(t[n].styleSheet.cssRules)}var v=!1;this.init=function(){var n="animationstart";void 0!==document.documentElement.style.webkitAnimationName?n="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?n="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(n="oanimationstart"),document.body.addEventListener(n,function(e){var n=e.target;if(-1!==window.getComputedStyle(n,null).getPropertyValue("animation-name").indexOf("element-queries")){n.elementQueriesSensor=new t(n,function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()});var o=window.getComputedStyle(n.resizeSensor,null).getPropertyValue("min-width");o=parseInt(o.replace("px","")),s(e.target,r[o])}}),v||((e=document.createElement("style")).type="text/css",e.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",e.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(e),v=!0);for(var o=0,i=document.styleSheets.length;o<i;o++)try{document.styleSheets[o].href&&0===document.styleSheets[o].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[o].href),p(document.styleSheets[o].cssRules||document.styleSheets[o].rules||document.styleSheets[o].cssText)}catch(t){}!function(){for(var t=c()("[data-responsive-image],[responsive-image]"),e=0,n=t.length;e<n;e++)l(t[e])}()},this.findElementQueriesElements=function(t){!function(t){var e=c(t);for(var r in n)if(n.hasOwnProperty(r))for(var o=e(r,t),i=0,a=o.length;i<a;i++)s(o[i],r)}(t)},this.update=function(){this.init()}};e.update=function(){e.instance.update()},e.detach=function(t){t.elementQueriesSetupInformation?(t.elementQueriesSensor.detach(),delete t.elementQueriesSetupInformation,delete t.elementQueriesSensor):t.resizeSensor&&(t.resizeSensor.detach(),delete t.resizeSensor)},e.init=function(){e.instance||(e.instance=new e),e.instance.init()};return e.findElementQueriesElements=function(t){e.instance.findElementQueriesElements(t)},e.listen=function(){!function(t){if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var e=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(t(),clearInterval(e))},10);else window.onload=t}(e.init)},e}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Immutable=e()}(this,function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:G(t)}function r(t){return s(t)?t:V(t)}function o(t){return u(t)?t:J(t)}function i(t){return a(t)&&!c(t)?t:K(t)}function a(t){return!(!t||!t[f])}function s(t){return!(!t||!t[d])}function u(t){return!(!t||!t[h])}function c(t){return s(t)||u(t)}function l(t){return!(!t||!t[p])}e(r,n),e(o,n),e(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=o,n.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",v="delete",m=5,g=1<<m,y=g-1,_={},b={value:!1},w={value:!1};function S(t){return t.value=!1,t}function E(t){t&&(t.value=!0)}function O(){}function D(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function M(t){return void 0===t.size&&(t.size=t.__iterate(x)),t.size}function C(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?M(t)+e:e}function x(){return!0}function P(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function N(t,e){return k(t,e,0)}function T(t,e){return k(t,e,e)}function k(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var A=0,j=1,L=2,R="function"==typeof Symbol&&Symbol.iterator,I="@@iterator",F=R||I;function B(t){this.next=t}function $(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function z(){return{value:void 0,done:!0}}function q(t){return!!Y(t)}function U(t){return t&&"function"==typeof t.next}function H(t){var e=Y(t);return e&&e.call(t)}function Y(t){var e=t&&(R&&t[R]||t[I]);if("function"==typeof e)return e}function W(t){return t&&"number"==typeof t.length}function G(t){return null==t?at():a(t)?t.toSeq():function(t){var e=ct(t)||"object"==typeof t&&new nt(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function V(t){return null==t?at().toKeyedSeq():a(t)?s(t)?t.toSeq():t.fromEntrySeq():st(t)}function J(t){return null==t?at():a(t)?s(t)?t.entrySeq():t.toIndexedSeq():ut(t)}function K(t){return(null==t?at():a(t)?s(t)?t.entrySeq():t:ut(t)).toSetSeq()}B.prototype.toString=function(){return"[Iterator]"},B.KEYS=A,B.VALUES=j,B.ENTRIES=L,B.prototype.inspect=B.prototype.toSource=function(){return this.toString()},B.prototype[F]=function(){return this},e(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(t,e){return lt(this,t,e,!0)},G.prototype.__iterator=function(t,e){return ft(this,t,e,!0)},e(V,G),V.prototype.toKeyedSeq=function(){return this},e(J,G),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(t,e){return lt(this,t,e,!1)},J.prototype.__iterator=function(t,e){return ft(this,t,e,!1)},e(K,G),K.of=function(){return K(arguments)},K.prototype.toSetSeq=function(){return this},G.isSeq=it,G.Keyed=V,G.Set=K,G.Indexed=J;var Z,Q,X,tt="@@__IMMUTABLE_SEQ__@@";function et(t){this._array=t,this.size=t.length}function nt(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function rt(t){this._iterable=t,this.size=t.length||t.size}function ot(t){this._iterator=t,this._iteratorCache=[]}function it(t){return!(!t||!t[tt])}function at(){return Z||(Z=new et([]))}function st(t){var e=Array.isArray(t)?new et(t).fromEntrySeq():U(t)?new ot(t).fromEntrySeq():q(t)?new rt(t).fromEntrySeq():"object"==typeof t?new nt(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function ut(t){var e=ct(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function ct(t){return W(t)?new et(t):U(t)?new ot(t):q(t)?new rt(t):void 0}function lt(t,e,n,r){var o=t._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function ft(t,e,n,r){var o=t._cache;if(o){var i=o.length-1,a=0;return new B(function(){var t=o[n?i-a:a];return a++>i?{value:void 0,done:!0}:$(e,r?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,n)}function dt(t,e){return e?function t(e,n,r,o){if(Array.isArray(n))return e.call(o,r,J(n).map(function(r,o){return t(e,r,o,n)}));if(pt(n))return e.call(o,r,V(n).map(function(r,o){return t(e,r,o,n)}));return n}(e,t,"",{"":t}):ht(t)}function ht(t){return Array.isArray(t)?J(t).map(ht).toList():pt(t)?V(t).map(ht).toMap():t}function pt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function vt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function mt(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!c(t);if(l(t)){var r=t.entries();return e.every(function(t,e){var o=r.next().value;return o&&vt(o[1],t)&&(n||vt(o[0],e))})&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var f=!0,d=e.__iterate(function(e,r){if(n?!t.has(e):o?!vt(e,t.get(r,_)):!vt(t.get(r,_),e))return f=!1,!1});return f&&t.size===d}function gt(t,e){if(!(this instanceof gt))return new gt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Q)return Q;Q=this}}function yt(t,e){if(!t)throw new Error(e)}function _t(t,e,n){if(!(this instanceof _t))return new _t(t,e,n);if(yt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(X)return X;X=this}}function bt(){throw TypeError("Abstract")}function wt(){}function St(){}function Et(){}G.prototype[tt]=!0,e(et,J),et.prototype.get=function(t,e){return this.has(t)?this._array[C(this,t)]:e},et.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===t(n[e?r-o:o],o,this))return o+1;return o},et.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,o=0;return new B(function(){return o>r?{value:void 0,done:!0}:$(t,o,n[e?r-o++:o++])})},e(nt,V),nt.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},nt.prototype.has=function(t){return this._object.hasOwnProperty(t)},nt.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[e?o-i:i];if(!1===t(n[a],a,this))return i+1}return i},nt.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length-1,i=0;return new B(function(){var a=r[e?o-i:i];return i++>o?{value:void 0,done:!0}:$(t,a,n[a])})},nt.prototype[p]=!0,e(rt,J),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=H(this._iterable),r=0;if(U(n))for(var o;!(o=n.next()).done&&!1!==t(o.value,r++,this););return r},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=H(this._iterable);if(!U(n))return new B(z);var r=0;return new B(function(){var e=n.next();return e.done?e:$(t,r++,e.value)})},e(ot,J),ot.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===t(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===t(a,i++,this))break}return i},ot.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,o=0;return new B(function(){if(o>=r.length){var e=n.next();if(e.done)return e;r[o]=e.value}return $(t,o,r[o++])})},e(gt,J),gt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},gt.prototype.get=function(t,e){return this.has(t)?this._value:e},gt.prototype.includes=function(t){return vt(this._value,t)},gt.prototype.slice=function(t,e){var n=this.size;return P(t,e,n)?this:new gt(this._value,T(e,n)-N(t,n))},gt.prototype.reverse=function(){return this},gt.prototype.indexOf=function(t){return vt(this._value,t)?0:-1},gt.prototype.lastIndexOf=function(t){return vt(this._value,t)?this.size:-1},gt.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},gt.prototype.__iterator=function(t,e){var n=this,r=0;return new B(function(){return r<n.size?$(t,r++,n._value):{value:void 0,done:!0}})},gt.prototype.equals=function(t){return t instanceof gt?vt(this._value,t._value):mt(t)},e(_t,J),_t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},_t.prototype.get=function(t,e){return this.has(t)?this._start+C(this,t)*this._step:e},_t.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},_t.prototype.slice=function(t,e){return P(t,e,this.size)?this:(t=N(t,this.size),(e=T(e,this.size))<=t?new _t(0,0):new _t(this.get(t,this._end),this.get(e,this._end),this._step))},_t.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},_t.prototype.lastIndexOf=function(t){return this.indexOf(t)},_t.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===t(o,i,this))return i+1;o+=e?-r:r}return i},_t.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;return new B(function(){var a=o;return o+=e?-r:r,i>n?{value:void 0,done:!0}:$(t,i++,a)})},_t.prototype.equals=function(t){return t instanceof _t?this._start===t._start&&this._end===t._end&&this._step===t._step:mt(this,t)},e(bt,n),e(wt,bt),e(St,bt),e(Et,bt),bt.Keyed=wt,bt.Indexed=St,bt.Set=Et;var Ot="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function Dt(t){return t>>>1&1073741824|3221225471&t}function Mt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return Dt(n)}if("string"===e)return t.length>jt?function(t){var e=It[t];void 0===e&&(e=Ct(t),Rt===Lt&&(Rt=0,It={}),Rt++,It[t]=e);return e}(t):Ct(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(Tt&&void 0!==(e=Nt.get(t)))return e;if(void 0!==(e=t[At]))return e;if(!Pt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[At]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++kt,1073741824&kt&&(kt=0);if(Tt)Nt.set(t,e);else{if(void 0!==xt&&!1===xt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Pt)Object.defineProperty(t,At,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[At]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[At]=e}}return e}(t);if("function"==typeof t.toString)return Ct(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Ct(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Dt(e)}var xt=Object.isExtensible,Pt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();var Nt,Tt="function"==typeof WeakMap;Tt&&(Nt=new WeakMap);var kt=0,At="__immutablehash__";"function"==typeof Symbol&&(At=Symbol(At));var jt=16,Lt=255,Rt=0,It={};function Ft(t){yt(t!==1/0,"Cannot perform this action with an infinite size.")}function Bt(t){return null==t?Xt():$t(t)&&!l(t)?t:Xt().withMutations(function(e){var n=r(t);Ft(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function $t(t){return!(!t||!t[qt])}e(Bt,wt),Bt.of=function(){var e=t.call(arguments,0);return Xt().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},Bt.prototype.toString=function(){return this.__toString("Map {","}")},Bt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Bt.prototype.set=function(t,e){return te(this,t,e)},Bt.prototype.setIn=function(t,e){return this.updateIn(t,_,function(){return e})},Bt.prototype.remove=function(t){return te(this,t,_)},Bt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return _})},Bt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Bt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,o){var i=e===_;var a=n.next();if(a.done){var s=i?r:e,u=o(s);return u===s?e:u}yt(i||e&&e.set,"invalid keyPath");var c=a.value;var l=i?_:e.get(c,_);var f=t(l,n,r,o);return f===l?e:f===_?e.remove(c):(i?Xt():e).set(c,f)}(this,rn(t),e,n);return r===_?void 0:r},Bt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Xt()},Bt.prototype.merge=function(){return oe(this,void 0,arguments)},Bt.prototype.mergeWith=function(e){return oe(this,e,t.call(arguments,1))},Bt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Xt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,n):n[n.length-1]})},Bt.prototype.mergeDeep=function(){return oe(this,ie,arguments)},Bt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return oe(this,ae(e),n)},Bt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Xt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]})},Bt.prototype.sort=function(t){return Ne(We(this,t))},Bt.prototype.sortBy=function(t,e){return Ne(We(this,e,t))},Bt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Bt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new O)},Bt.prototype.asImmutable=function(){return this.__ensureOwner()},Bt.prototype.wasAltered=function(){return this.__altered},Bt.prototype.__iterator=function(t,e){return new Jt(this,t,e)},Bt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},Bt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Qt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Bt.isMap=$t;var zt,qt="@@__IMMUTABLE_MAP__@@",Ut=Bt.prototype;function Ht(t,e){this.ownerID=t,this.entries=e}function Yt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Wt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Gt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Vt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Jt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Zt(t._root)}function Kt(t,e){return $(t,e[0],e[1])}function Zt(t,e){return{node:t,index:0,__prev:e}}function Qt(t,e,n,r){var o=Object.create(Ut);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Xt(){return zt||(zt=Qt(0))}function te(t,e,n){var r,o;if(t._root){var i=S(b),a=S(w);if(r=ee(t._root,t.__ownerID,0,void 0,e,n,i,a),!a.value)return t;o=t.size+(i.value?n===_?-1:1:0)}else{if(n===_)return t;o=1,r=new Ht(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Qt(o,r):Xt()}function ee(t,e,n,r,o,i,a,s){return t?t.update(e,n,r,o,i,a,s):i===_?t:(E(s),E(a),new Vt(e,r,[o,i]))}function ne(t){return t.constructor===Vt||t.constructor===Gt}function re(t,e,n,r,o){if(t.keyHash===r)return new Gt(e,r,[t.entry,o]);var i,a=(0===n?t.keyHash:t.keyHash>>>n)&y,s=(0===n?r:r>>>n)&y;return new Yt(e,1<<a|1<<s,a===s?[re(t,e,n+m,r,o)]:(i=new Vt(e,r,o),a<s?[t,i]:[i,t]))}function oe(t,e,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],u=r(s);a(s)||(u=u.map(function(t){return dt(t)})),o.push(u)}return se(t,e,o)}function ie(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):vt(t,e)?t:e}function ae(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var o=t(e,n,r);return vt(e,o)?e:o}}function se(t,e,n){return 0===(n=n.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,_,function(t){return t===_?n:e(t,n,r)})}:function(e,n){t.set(n,e)},o=0;o<n.length;o++)n[o].forEach(r)}):t.constructor(n[0])}function ue(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ce(t,e,n,r){var o=r?t:D(t);return o[e]=n,o}Ut[qt]=!0,Ut[v]=Ut.remove,Ut.removeIn=Ut.deleteIn,Ht.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(vt(n,o[i][0]))return o[i][1];return r},Ht.prototype.update=function(t,e,n,r,o,i,a){for(var s=o===_,u=this.entries,c=0,l=u.length;c<l&&!vt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(E(a),(s||!f)&&E(i),!s||1!==u.length){if(!f&&!s&&u.length>=le)return function(t,e,n,r){t||(t=new O);for(var o=new Vt(t,Mt(n),[n,r]),i=0;i<e.length;i++){var a=e[i];o=o.update(t,0,void 0,a[0],a[1])}return o}(t,u,r,o);var d=t&&t===this.ownerID,h=d?u:D(u);return f?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,o]:h.push([r,o]),d?(this.entries=h,this):new Ht(t,h)}},Yt.prototype.get=function(t,e,n,r){void 0===e&&(e=Mt(n));var o=1<<((0===t?e:e>>>t)&y),i=this.bitmap;return 0==(i&o)?r:this.nodes[ue(i&o-1)].get(t+m,e,n,r)},Yt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=Mt(r));var s=(0===e?n:n>>>e)&y,u=1<<s,c=this.bitmap,l=0!=(c&u);if(!l&&o===_)return this;var f=ue(c&u-1),d=this.nodes,h=l?d[f]:void 0,p=ee(h,t,e+m,n,r,o,i,a);if(p===h)return this;if(!l&&p&&d.length>=fe)return function(t,e,n,r,o){for(var i=0,a=new Array(g),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[i++]:void 0;return a[r]=o,new Wt(t,i+1,a)}(t,d,c,s,p);if(l&&!p&&2===d.length&&ne(d[1^f]))return d[1^f];if(l&&p&&1===d.length&&ne(p))return p;var v=t&&t===this.ownerID,b=l?p?c:c^u:c|u,w=l?p?ce(d,f,p,v):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,a=0;a<r;a++)a===e&&(i=1),o[a]=t[a+i];return o}(d,f,v):function(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),a=0,s=0;s<o;s++)s===e?(i[s]=n,a=-1):i[s]=t[s+a];return i}(d,f,p,v);return v?(this.bitmap=b,this.nodes=w,this):new Yt(t,b,w)},Wt.prototype.get=function(t,e,n,r){void 0===e&&(e=Mt(n));var o=(0===t?e:e>>>t)&y,i=this.nodes[o];return i?i.get(t+m,e,n,r):r},Wt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=Mt(r));var s=(0===e?n:n>>>e)&y,u=o===_,c=this.nodes,l=c[s];if(u&&!l)return this;var f=ee(l,t,e+m,n,r,o,i,a);if(f===l)return this;var d=this.count;if(l){if(!f&&--d<de)return function(t,e,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==r&&(o|=u,a[i++]=l)}return new Yt(t,o,a)}(t,c,d,s)}else d++;var h=t&&t===this.ownerID,p=ce(c,s,f,h);return h?(this.count=d,this.nodes=p,this):new Wt(t,d,p)},Gt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(vt(n,o[i][0]))return o[i][1];return r},Gt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=Mt(r));var s=o===_;if(n!==this.keyHash)return s?this:(E(a),E(i),re(this,t,e,n,[r,o]));for(var u=this.entries,c=0,l=u.length;c<l&&!vt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(E(a),(s||!f)&&E(i),s&&2===l)return new Vt(t,this.keyHash,u[1^c]);var d=t&&t===this.ownerID,h=d?u:D(u);return f?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,o]:h.push([r,o]),d?(this.entries=h,this):new Gt(t,this.keyHash,h)},Vt.prototype.get=function(t,e,n,r){return vt(n,this.entry[0])?this.entry[1]:r},Vt.prototype.update=function(t,e,n,r,o,i,a){var s=o===_,u=vt(r,this.entry[0]);return(u?o===this.entry[1]:s)?this:(E(a),s?void E(i):u?t&&t===this.ownerID?(this.entry[1]=o,this):new Vt(t,this.keyHash,[r,o]):(E(i),re(this,t,e,Mt(r),[r,o])))},Ht.prototype.iterate=Gt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},Yt.prototype.iterate=Wt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},Vt.prototype.iterate=function(t,e){return t(this.entry)},e(Jt,B),Jt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,o=e.index++;if(r.entry){if(0===o)return Kt(t,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return Kt(t,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return Kt(t,i.entry);e=this._stack=Zt(i,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var le=g/4,fe=g/2,de=g/4;function he(t){var e=Ee();if(null==t)return e;if(pe(t))return t;var n=o(t),r=n.size;return 0===r?e:(Ft(r),r>0&&r<g?Se(0,r,m,null,new ge(n.toArray())):e.withMutations(function(t){t.setSize(r),n.forEach(function(e,n){return t.set(n,e)})}))}function pe(t){return!(!t||!t[ve])}e(he,St),he.of=function(){return this(arguments)},he.prototype.toString=function(){return this.__toString("List [","]")},he.prototype.get=function(t,e){if((t=C(this,t))>=0&&t<this.size){var n=Me(this,t+=this._origin);return n&&n.array[t&y]}return e},he.prototype.set=function(t,e){return function(t,e,n){if((e=C(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Ce(t,e).set(0,n):Ce(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,o=t._root,i=S(w);e>=Pe(t._capacity)?r=Oe(r,t.__ownerID,0,e,n,i):o=Oe(o,t.__ownerID,t._level,e,n,i);if(!i.value)return t;if(t.__ownerID)return t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t;return Se(t._origin,t._capacity,t._level,o,r)}(this,t,e)},he.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},he.prototype.insert=function(t,e){return this.splice(t,0,e)},he.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ee()},he.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Ce(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},he.prototype.pop=function(){return Ce(this,0,-1)},he.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Ce(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},he.prototype.shift=function(){return Ce(this,1)},he.prototype.merge=function(){return xe(this,void 0,arguments)},he.prototype.mergeWith=function(e){return xe(this,e,t.call(arguments,1))},he.prototype.mergeDeep=function(){return xe(this,ie,arguments)},he.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return xe(this,ae(e),n)},he.prototype.setSize=function(t){return Ce(this,0,t)},he.prototype.slice=function(t,e){var n=this.size;return P(t,e,n)?this:Ce(this,N(t,n),T(e,n))},he.prototype.__iterator=function(t,e){var n=0,r=we(this,e);return new B(function(){var e=r();return e===be?{value:void 0,done:!0}:$(t,n++,e)})},he.prototype.__iterate=function(t,e){for(var n,r=0,o=we(this,e);(n=o())!==be&&!1!==t(n,r++,this););return r},he.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Se(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},he.isList=pe;var ve="@@__IMMUTABLE_LIST__@@",me=he.prototype;function ge(t,e){this.array=t,this.ownerID=e}me[ve]=!0,me[v]=me.remove,me.setIn=Ut.setIn,me.deleteIn=me.removeIn=Ut.removeIn,me.update=Ut.update,me.updateIn=Ut.updateIn,me.mergeIn=Ut.mergeIn,me.mergeDeepIn=Ut.mergeDeepIn,me.withMutations=Ut.withMutations,me.asMutable=Ut.asMutable,me.asImmutable=Ut.asImmutable,me.wasAltered=Ut.wasAltered,ge.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&y;if(r>=this.array.length)return new ge([],t);var o,i=0===r;if(e>0){var a=this.array[r];if((o=a&&a.removeBefore(t,e-m,n))===a&&i)return this}if(i&&!o)return this;var s=De(this,t);if(!i)for(var u=0;u<r;u++)s.array[u]=void 0;return o&&(s.array[r]=o),s},ge.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,o=n-1>>>e&y;if(o>=this.array.length)return this;if(e>0){var i=this.array[o];if((r=i&&i.removeAfter(t,e-m,n))===i&&o===this.array.length-1)return this}var a=De(this,t);return a.array.splice(o+1),r&&(a.array[o]=r),a};var ye,_e,be={};function we(t,e){var n=t._origin,r=t._capacity,o=Pe(r),i=t._tail;return a(t._root,t._level,0);function a(t,s,u){return 0===s?function(t,a){var s=a===o?i&&i.array:t&&t.array,u=a>n?0:n-a,c=r-a;c>g&&(c=g);return function(){if(u===c)return be;var t=e?--c:u++;return s&&s[t]}}(t,u):function(t,o,i){var s,u=t&&t.array,c=i>n?0:n-i>>o,l=1+(r-i>>o);l>g&&(l=g);return function(){for(;;){if(s){var t=s();if(t!==be)return t;s=null}if(c===l)return be;var n=e?--l:c++;s=a(u&&u[n],o-m,i+(n<<o))}}}(t,s,u)}}function Se(t,e,n,r,o,i,a){var s=Object.create(me);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Ee(){return ye||(ye=Se(0,0,m))}function Oe(t,e,n,r,o,i){var a,s=r>>>n&y,u=t&&s<t.array.length;if(!u&&void 0===o)return t;if(n>0){var c=t&&t.array[s],l=Oe(c,e,n-m,r,o,i);return l===c?t:((a=De(t,e)).array[s]=l,a)}return u&&t.array[s]===o?t:(E(i),a=De(t,e),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function De(t,e){return e&&t&&e===t.ownerID?t:new ge(t?t.array.slice():[],e)}function Me(t,e){if(e>=Pe(t._capacity))return t._tail;if(e<1<<t._level+m){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&y],r-=m;return n}}function Ce(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new O,o=t._origin,i=t._capacity,a=o+e,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,l=0;a+l<0;)c=new ge(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=m);l&&(a+=l,o+=l,s+=l,i+=l);for(var f=Pe(i),d=Pe(s);d>=1<<u+m;)c=new ge(c&&c.array.length?[c]:[],r),u+=m;var h=t._tail,p=d<f?Me(t,s-1):d>f?new ge([],r):h;if(h&&d>f&&a<i&&h.array.length){for(var v=c=De(c,r),g=u;g>m;g-=m){var _=f>>>g&y;v=v.array[_]=De(v.array[_],r)}v.array[f>>>m&y]=h}if(s<i&&(p=p&&p.removeAfter(r,0,s)),a>=d)a-=d,s-=d,u=m,c=null,p=p&&p.removeBefore(r,0,a);else if(a>o||d<f){for(l=0;c;){var b=a>>>u&y;if(b!==d>>>u&y)break;b&&(l+=(1<<u)*b),u-=m,c=c.array[b]}c&&a>o&&(c=c.removeBefore(r,u,a-l)),c&&d<f&&(c=c.removeAfter(r,u,d-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=p,t.__hash=void 0,t.__altered=!0,t):Se(a,s,u,c,p)}function xe(t,e,n){for(var r=[],i=0,s=0;s<n.length;s++){var u=n[s],c=o(u);c.size>i&&(i=c.size),a(u)||(c=c.map(function(t){return dt(t)})),r.push(c)}return i>t.size&&(t=t.setSize(i)),se(t,e,r)}function Pe(t){return t<g?0:t-1>>>m<<m}function Ne(t){return null==t?Ae():Te(t)?t:Ae().withMutations(function(e){var n=r(t);Ft(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function Te(t){return $t(t)&&l(t)}function ke(t,e,n,r){var o=Object.create(Ne.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function Ae(){return _e||(_e=ke(Xt(),Ee()))}function je(t,e,n){var r,o,i=t._map,a=t._list,s=i.get(e),u=void 0!==s;if(n===_){if(!u)return t;a.size>=g&&a.size>=2*i.size?(r=(o=a.filter(function(t,e){return void 0!==t&&s!==e})).toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=o.__ownerID=t.__ownerID)):(r=i.remove(e),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return t;r=i,o=a.set(s,[e,n])}else r=i.set(e,a.size),o=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=o,t.__hash=void 0,t):ke(r,o)}function Le(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Re(t){this._iter=t,this.size=t.size}function Ie(t){this._iter=t,this.size=t.size}function Fe(t){this._iter=t,this.size=t.size}function Be(t){var e=tn(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=en,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===L){var r=t.__iterator(e,n);return new B(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===j?A:j,n)},e}function $e(t,e,n){var r=tn(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,_);return i===_?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate(function(t,o,a){return!1!==r(e.call(n,t,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(L,o);return new B(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return $(r,s,e.call(n,a[1],s,t),o)})},r}function ze(t,e){var n=tn(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Be(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=en,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function qe(t,e,n,r){var o=tn(t);return r&&(o.has=function(r){var o=t.get(r,_);return o!==_&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,_);return i!==_&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return t.__iterate(function(t,i,u){if(e.call(n,t,i,u))return s++,o(t,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=t.__iterator(L,i),s=0;return new B(function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return $(o,r?c:s++,l,i)}})},o}function Ue(t,e,n,r){var o=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=o:n|=0),P(e,n,o))return t;var i=N(e,o),a=T(n,o);if(i!=i||a!=a)return Ue(t.toSeq().cacheResult(),e,n,r);var s,u=a-i;u==u&&(s=u<0?0:u);var c=tn(t);return c.size=0===s?s:t.size&&s||void 0,!r&&it(t)&&s>=0&&(c.get=function(e,n){return(e=C(this,e))>=0&&e<s?t.get(e+i,n):n}),c.__iterateUncached=function(e,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,u=!0,c=0;return t.__iterate(function(t,n){if(!u||!(u=a++<i))return c++,!1!==e(t,r?n:c-1,o)&&c!==s}),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var o=0!==s&&t.__iterator(e,n),a=0,u=0;return new B(function(){for(;a++<i;)o.next();if(++u>s)return{value:void 0,done:!0};var t=o.next();return r||e===j?t:$(e,u-1,e===A?void 0:t.value[1],t)})},c}function He(t,e,n,r){var o=tn(t);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return t.__iterate(function(t,i,c){if(!s||!(s=e.call(n,t,i,c)))return u++,o(t,r?i:u-1,a)}),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=t.__iterator(L,i),u=!0,c=0;return new B(function(){var t,i,l;do{if((t=s.next()).done)return r||o===j?t:$(o,c++,o===A?void 0:t.value[1],t);var f=t.value;i=f[0],l=f[1],u&&(u=e.call(n,l,i,a))}while(u);return o===L?t:$(o,i,l,t)})},o}function Ye(t,e,n){var r=tn(t);return r.__iterateUncached=function(r,o){var i=0,s=!1;return function t(u,c){var l=this;u.__iterate(function(o,u){return(!e||c<e)&&a(o)?t(o,c+1):!1===r(o,n?u:i++,l)&&(s=!0),!s},o)}(t,0),i},r.__iteratorUncached=function(r,o){var i=t.__iterator(r,o),s=[],u=0;return new B(function(){for(;i;){var t=i.next();if(!1===t.done){var c=t.value;if(r===L&&(c=c[1]),e&&!(s.length<e)||!a(c))return n?t:$(r,u++,c,t);s.push(i),i=c.__iterator(r,o)}else i=s.pop()}return{value:void 0,done:!0}})},r}function We(t,e,n){e||(e=nn);var r=s(t),o=0,i=t.toSeq().map(function(e,r){return[r,e,o++,n?n(e,r,t):e]}).toArray();return i.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?V(i):u(t)?J(i):K(i)}function Ge(t,e,n){if(e||(e=nn),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Ve(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Ve(e,t,n)?n:t})}function Ve(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function Je(t,e,r){var o=tn(t);return o.size=new et(r).map(function(t){return t.size}).min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(j,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=r.map(function(t){return t=n(t),H(o?t.reverse():t)}),a=0,s=!1;return new B(function(){var n;return s||(n=i.map(function(t){return t.next()}),s=n.some(function(t){return t.done})),s?{value:void 0,done:!0}:$(t,a++,e.apply(null,n.map(function(t){return t.value})))})},o}function Ke(t,e){return it(t)?e:t.constructor(e)}function Ze(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Qe(t){return Ft(t.size),M(t)}function Xe(t){return s(t)?r:u(t)?o:i}function tn(t){return Object.create((s(t)?V:u(t)?J:K).prototype)}function en(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function nn(t,e){return t>e?1:t<e?-1:0}function rn(t){var e=H(t);if(!e){if(!W(t))throw new TypeError("Expected iterable or array-like: "+t);e=H(n(t))}return e}function on(t,e){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(function(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){yt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}.bind(void 0,t))}catch(t){}}(o,a),o.size=a.length,o._name=e,o._keys=a,o._defaultValues=t}this._map=Bt(i)},o=r.prototype=Object.create(an);return o.constructor=r,r}e(Ne,Bt),Ne.of=function(){return this(arguments)},Ne.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ne.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Ne.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ae()},Ne.prototype.set=function(t,e){return je(this,t,e)},Ne.prototype.remove=function(t){return je(this,t,_)},Ne.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ne.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Ne.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Ne.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?ke(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Ne.isOrderedMap=Te,Ne.prototype[p]=!0,Ne.prototype[v]=Ne.prototype.remove,e(Le,V),Le.prototype.get=function(t,e){return this._iter.get(t,e)},Le.prototype.has=function(t){return this._iter.has(t)},Le.prototype.valueSeq=function(){return this._iter.valueSeq()},Le.prototype.reverse=function(){var t=this,e=ze(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Le.prototype.map=function(t,e){var n=this,r=$e(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},Le.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Qe(this):0,function(o){return t(o,e?--n:n++,r)}),e)},Le.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(j,e),r=e?Qe(this):0;return new B(function(){var o=n.next();return o.done?o:$(t,e?--r:r++,o.value,o)})},Le.prototype[p]=!0,e(Re,J),Re.prototype.includes=function(t){return this._iter.includes(t)},Re.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},Re.prototype.__iterator=function(t,e){var n=this._iter.__iterator(j,e),r=0;return new B(function(){var e=n.next();return e.done?e:$(t,r++,e.value,e)})},e(Ie,K),Ie.prototype.has=function(t){return this._iter.includes(t)},Ie.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},Ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(j,e);return new B(function(){var e=n.next();return e.done?e:$(t,e.value,e.value,e)})},e(Fe,V),Fe.prototype.entrySeq=function(){return this._iter.toSeq()},Fe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Ze(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},Fe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(j,e);return new B(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ze(r);var o=a(r);return $(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}})},Re.prototype.cacheResult=Le.prototype.cacheResult=Ie.prototype.cacheResult=Fe.prototype.cacheResult=en,e(on,wt),on.prototype.toString=function(){return this.__toString(un(this)+" {","}")},on.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},on.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},on.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=sn(this,Xt()))},on.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+un(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:sn(this,n)},on.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:sn(this,e)},on.prototype.wasAltered=function(){return this._map.wasAltered()},on.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},on.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},on.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?sn(this,e,t):(this.__ownerID=t,this._map=e,this)};var an=on.prototype;function sn(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function un(t){return t._name||t.constructor.name||"Record"}function cn(t){return null==t?mn():ln(t)&&!l(t)?t:mn().withMutations(function(e){var n=i(t);Ft(n.size),n.forEach(function(t){return e.add(t)})})}function ln(t){return!(!t||!t[dn])}an[v]=an.remove,an.deleteIn=an.removeIn=Ut.removeIn,an.merge=Ut.merge,an.mergeWith=Ut.mergeWith,an.mergeIn=Ut.mergeIn,an.mergeDeep=Ut.mergeDeep,an.mergeDeepWith=Ut.mergeDeepWith,an.mergeDeepIn=Ut.mergeDeepIn,an.setIn=Ut.setIn,an.update=Ut.update,an.updateIn=Ut.updateIn,an.withMutations=Ut.withMutations,an.asMutable=Ut.asMutable,an.asImmutable=Ut.asImmutable,e(cn,Et),cn.of=function(){return this(arguments)},cn.fromKeys=function(t){return this(r(t).keySeq())},cn.prototype.toString=function(){return this.__toString("Set {","}")},cn.prototype.has=function(t){return this._map.has(t)},cn.prototype.add=function(t){return pn(this,this._map.set(t,!0))},cn.prototype.remove=function(t){return pn(this,this._map.remove(t))},cn.prototype.clear=function(){return pn(this,this._map.clear())},cn.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)i(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},cn.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return i(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.every(function(t){return t.includes(n)})||t.remove(n)})})},cn.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return i(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.some(function(t){return t.includes(n)})&&t.remove(n)})})},cn.prototype.merge=function(){return this.union.apply(this,arguments)},cn.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},cn.prototype.sort=function(t){return gn(We(this,t))},cn.prototype.sortBy=function(t,e){return gn(We(this,e,t))},cn.prototype.wasAltered=function(){return this._map.wasAltered()},cn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},cn.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},cn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},cn.isSet=ln;var fn,dn="@@__IMMUTABLE_SET__@@",hn=cn.prototype;function pn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function vn(t,e){var n=Object.create(hn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function mn(){return fn||(fn=vn(Xt()))}function gn(t){return null==t?Sn():yn(t)?t:Sn().withMutations(function(e){var n=i(t);Ft(n.size),n.forEach(function(t){return e.add(t)})})}function yn(t){return ln(t)&&l(t)}hn[dn]=!0,hn[v]=hn.remove,hn.mergeDeep=hn.merge,hn.mergeDeepWith=hn.mergeWith,hn.withMutations=Ut.withMutations,hn.asMutable=Ut.asMutable,hn.asImmutable=Ut.asImmutable,hn.__empty=mn,hn.__make=vn,e(gn,cn),gn.of=function(){return this(arguments)},gn.fromKeys=function(t){return this(r(t).keySeq())},gn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},gn.isOrderedSet=yn;var _n,bn=gn.prototype;function wn(t,e){var n=Object.create(bn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Sn(){return _n||(_n=wn(Ae()))}function En(t){return null==t?Pn():On(t)?t:Pn().unshiftAll(t)}function On(t){return!(!t||!t[Mn])}bn[p]=!0,bn.__empty=Sn,bn.__make=wn,e(En,St),En.of=function(){return this(arguments)},En.prototype.toString=function(){return this.__toString("Stack [","]")},En.prototype.get=function(t,e){var n=this._head;for(t=C(this,t);n&&t--;)n=n.next;return n?n.value:e},En.prototype.peek=function(){return this._head&&this._head.value},En.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):xn(t,e)},En.prototype.pushAll=function(t){if(0===(t=o(t)).size)return this;Ft(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):xn(e,n)},En.prototype.pop=function(){return this.slice(1)},En.prototype.unshift=function(){return this.push.apply(this,arguments)},En.prototype.unshiftAll=function(t){return this.pushAll(t)},En.prototype.shift=function(){return this.pop.apply(this,arguments)},En.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Pn()},En.prototype.slice=function(t,e){if(P(t,e,this.size))return this;var n=N(t,this.size);if(T(e,this.size)!==this.size)return St.prototype.slice.call(this,t,e);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):xn(r,o)},En.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?xn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},En.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},En.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new B(function(){if(r){var e=r.value;return r=r.next,$(t,n++,e)}return{value:void 0,done:!0}})},En.isStack=On;var Dn,Mn="@@__IMMUTABLE_STACK__@@",Cn=En.prototype;function xn(t,e,n,r){var o=Object.create(Cn);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Pn(){return Dn||(Dn=xn(0))}function Nn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}Cn[Mn]=!0,Cn.withMutations=Ut.withMutations,Cn.asMutable=Ut.asMutable,Cn.asImmutable=Ut.asImmutable,Cn.wasAltered=Ut.wasAltered,n.Iterator=B,Nn(n,{toArray:function(){Ft(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new Re(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new Le(this,!0)},toMap:function(){return Bt(this.toKeyedSeq())},toObject:function(){Ft(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Ne(this.toKeyedSeq())},toOrderedSet:function(){return gn(s(this)?this.valueSeq():this)},toSet:function(){return cn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ie(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return En(s(this)?this.valueSeq():this)},toList:function(){return he(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Ke(this,function(t,e){var n=s(t),o=[t].concat(e).map(function(t){return a(t)?n&&(t=r(t)):t=n?st(t):ut(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===o.length)return t;if(1===o.length){var i=o[0];if(i===t||n&&s(i)||u(t)&&u(i))return i}var c=new et(o);return n?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=o.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}(this,t.call(arguments,0)))},includes:function(t){return this.some(function(e){return vt(e,t)})},entries:function(){return this.__iterator(L)},every:function(t,e){Ft(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1}),n},filter:function(t,e){return Ke(this,qe(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Ft(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Ft(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""}),e},keys:function(){return this.__iterator(A)},map:function(t,e){return Ke(this,$e(this,t,e))},reduce:function(t,e,n){var r,o;return Ft(this.size),arguments.length<2?o=!0:r=e,this.__iterate(function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ke(this,ze(this,!0))},slice:function(t,e){return Ke(this,Ue(this,t,e,!0))},some:function(t,e){return!this.every(Ln(t),e)},sort:function(t){return Ke(this,We(this,t))},values:function(){return this.__iterator(j)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return M(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return n=this,r=t,o=e,i=Bt().asMutable(),n.__iterate(function(t,e){i.update(r.call(o,t,e,n),0,function(t){return t+1})}),i.asImmutable();var n,r,o,i},equals:function(t){return mt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(jn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Ln(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,o,i){if(t.call(e,n,o,i))return r=[o,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(x)},flatMap:function(t,e){return Ke(this,(r=t,o=e,i=Xe(n=this),n.toSeq().map(function(t,e){return i(r.call(o,t,e,n))}).flatten(!0)));var n,r,o,i},flatten:function(t){return Ke(this,Ye(this,t,!0))},fromEntrySeq:function(){return new Fe(this)},get:function(t,e){return this.find(function(e,n){return vt(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,o=rn(t);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,_):_)===_)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=s(t),o=(l(t)?Ne():Bt()).asMutable();t.__iterate(function(i,a){o.update(e.call(n,i,a,t),function(t){return(t=t||[]).push(r?[a,i]:i),t})});var i=Xe(t);return o.map(function(e){return Ke(t,i(e))})}(this,t,e)},has:function(t){return this.get(t,_)!==_},hasIn:function(t){return this.getIn(t,_)!==_},isSubset:function(t){return t="function"==typeof t.includes?t:n(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:n(t)).isSubset(this)},keyOf:function(t){return this.findKey(function(e){return vt(e,t)})},keySeq:function(){return this.toSeq().map(An).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Ge(this,t)},maxBy:function(t,e){return Ge(this,e,t)},min:function(t){return Ge(this,t?Rn(t):Bn)},minBy:function(t,e){return Ge(this,e?Rn(e):Bn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ke(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ke(this,He(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Ln(t),e)},sortBy:function(t,e){return Ke(this,We(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ke(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ke(this,(r=t,o=e,(i=tn(n=this)).__iterateUncached=function(t,e){var i=this;if(e)return this.cacheResult().__iterate(t,e);var a=0;return n.__iterate(function(e,n,s){return r.call(o,e,n,s)&&++a&&t(e,n,i)}),a},i.__iteratorUncached=function(t,e){var i=this;if(e)return this.cacheResult().__iterator(t,e);var a=n.__iterator(L,e),s=!0;return new B(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var n=e.value,u=n[0],c=n[1];return r.call(o,c,u,i)?t===L?e:$(t,u,c,e):(s=!1,{value:void 0,done:!0})})},i));var n,r,o,i},takeUntil:function(t,e){return this.takeWhile(Ln(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=l(t),n=s(t),r=e?1:0;return o=t.__iterate(n?e?function(t,e){r=31*r+$n(Mt(t),Mt(e))|0}:function(t,e){r=r+$n(Mt(t),Mt(e))|0}:e?function(t){r=31*r+Mt(t)|0}:function(t){r=r+Mt(t)|0}),i=r,i=Ot(i,3432918353),i=Ot(i<<15|i>>>-15,461845907),i=Ot(i<<13|i>>>-13,5),i=Ot((i=(i+3864292196|0)^o)^i>>>16,2246822507),i=Dt((i=Ot(i^i>>>13,3266489909))^i>>>16);var o,i}(this))}});var Tn=n.prototype;Tn[f]=!0,Tn[F]=Tn.values,Tn.__toJS=Tn.toArray,Tn.__toStringMapper=In,Tn.inspect=Tn.toSource=function(){return this.toString()},Tn.chain=Tn.flatMap,Tn.contains=Tn.includes,Nn(r,{flip:function(){return Ke(this,Be(this))},mapEntries:function(t,e){var n=this,r=0;return Ke(this,this.toSeq().map(function(o,i){return t.call(e,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Ke(this,this.toSeq().flip().map(function(r,o){return t.call(e,r,o,n)}).flip())}});var kn=r.prototype;function An(t,e){return e}function jn(t,e){return[e,t]}function Ln(t){return function(){return!t.apply(this,arguments)}}function Rn(t){return function(){return-t.apply(this,arguments)}}function In(t){return"string"==typeof t?JSON.stringify(t):String(t)}function Fn(){return D(arguments)}function Bn(t,e){return t<e?1:t>e?-1:0}function $n(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return kn[d]=!0,kn[F]=Tn.entries,kn.__toJS=Tn.toObject,kn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+In(t)},Nn(o,{toKeyedSeq:function(){return new Le(this,!1)},filter:function(t,e){return Ke(this,qe(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Ke(this,ze(this,!1))},slice:function(t,e){return Ke(this,Ue(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=N(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ke(this,1===n?r:r.concat(D(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Ke(this,Ye(this,t,!1))},get:function(t,e){return(t=C(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=C(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ke(this,(n=t,(r=tn(e=this)).size=e.size&&2*e.size-1,r.__iterateUncached=function(t,r){var o=this,i=0;return e.__iterate(function(e,r){return(!i||!1!==t(n,i++,o))&&!1!==t(e,i++,o)},r),i},r.__iteratorUncached=function(t,r){var o,i=e.__iterator(j,r),a=0;return new B(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?$(t,a++,n):$(t,a++,o.value,o)})},r));var e,n,r},interleave:function(){var t=[this].concat(D(arguments)),e=Je(this.toSeq(),J.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Ke(this,n)},keySeq:function(){return _t(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ke(this,He(this,t,e,!1))},zip:function(){return Ke(this,Je(this,Fn,[this].concat(D(arguments))))},zipWith:function(t){var e=D(arguments);return e[0]=this,Ke(this,Je(this,t,e))}}),o.prototype[h]=!0,o.prototype[p]=!0,Nn(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Tn.includes,i.prototype.contains=i.prototype.includes,Nn(V,r.prototype),Nn(J,o.prototype),Nn(K,i.prototype),Nn(wt,r.prototype),Nn(St,o.prototype),Nn(Et,i.prototype),{Iterable:n,Seq:G,Collection:bt,Map:Bt,OrderedMap:Ne,List:he,Stack:En,Set:cn,OrderedSet:gn,Record:on,Range:_t,Repeat:gt,is:vt,fromJS:dt}});var TackleBox=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.hooks={}}return t.prototype.register=function(t,e){void 0===this.hooks[t]&&(this.hooks[t]=[]),this.hooks[t].push(e)},t.prototype.callOnce=function(t,e,n){return this.caller([this.hooks[t][0]],e,n)},t.prototype.call=function(t,e,n){return this.caller(this.hooks[t],e,n)},t.prototype.caller=function(t,e,n){if(void 0!==t){var r=t.reduce(function(t,n,r){return t.push(n(e)),t},[]);if(n)return n(r.length>1?r:r[0])}},t}();e.Hooks=r}]),DataAdapter=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.condenseObjects=function(t){return t.reduce(function(t,e){return Object.keys(e).forEach(function(n){t[n]=e[n]}),t},{})||null},t.prototype.pushToArray=function(t,e){var n=t.constructor===Array?t:[t],r=e.constructor===Array?e:[e];return n.reduce(function(t,e,o){return t.push(e),n.length-1===o&&r.forEach(function(e){t.push(e)}),t},[])||null},t}();e.FunctionalHelpers=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(3),i=n(10),a=function(){function t(){this.PromoFactory=new r.PromoFactory,this.RegionFactory=new o.RegionFactory,this.FlavorSizeSwapFactory=new i.FlavorSizeSwapFactory}return t.prototype.makeAppData=function(t,e,n,r){var o=this;return new Promise(function(i,a){var s={};r=_.defaults(r,{prefix:"fixme",modules:{flavorSizeSwap:!1}});var u=o.verifyValue(n).then(function(){var r=n.map(function(e){return e.promos,o.PromoFactory.assemblePromos(t,e.promos)});return s.promos={},Promise.all(r).then(function(t){n.forEach(function(n,r){s.promos[n.promo_type]={},s.promos[n.promo_type].promoData=t[r],s.promos[n.promo_type].dmbregion=e[n.promo_key].item.layout.dmbregion})}).catch(function(t){$_.warn("There was an issue completing promos =>",t,$_.cfg({namespace:"data-adapter"}))})}).catch(function(t){$_.error("Data Adapter had a problem initializing Promos",t,$_.cfg({namespace:"data-adapter"}))}),c=o.RegionFactory.assembleRegions(t,e,r).then(function(t){r.modules.flavorSizeSwap?o.FlavorSizeSwapFactory.assemble(t).then(function(t){s.regions=t}):s.regions=t}).catch(function(t){$_.error("RegionFactory Error",t,$_.cfg({namespace:"data-adapter"}))});Promise.all([u,c]).then(function(t){i(s)}).catch(function(t){$_.warn("promos or regions pipeline failed in DA",$_.cfg({namespace:"data-adapter"})),a(new Error(t))})})},t.prototype.verifyDefaultPromo=function(t){return!(-1==t.query.slotid.indexOf("default")||!this.PromoFactory.verifyPromoAsset(t))},t.prototype.exciseDefaultPromo=function(t,e){return e?{active_promos:t.slice(0,e).concat(t.slice(e+1,t.length)),default_promo:t.slice(e,e+1)[0]}:{active_promos:t,default_promo:null}},t.prototype.verifyValue=function(t){return new Promise(function(e,n){t?e():n(Error("There is no promo data."))})},t}();e.Main=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){DMBCore.getConfig().caloric&&(this.CaloricFactory=new CaloricAdapter.CaloricFactory)}return t.prototype.assemblePromos=function(t,e){var n=this;return new Promise(function(r,o){var i=e.filter(function(e){var r=e.query.promoid;return""!=r&&(1==t.editMode||"none"!=r&&!0===n.verifyPromoAsset(e))}).map(function(e){return n.verifyPromo(e).then(function(){return n.verifyPromoId(t,e)}).then(function(){return n.verifyPromoStack(e)}).then(function(){return n.getPromoMapData(t,e)}).then(function(t){return n.addPromoProducts(e,t)}).then(function(t){return n.adaptPromoMap(t)}).catch(function(t){return $_.warn("PROMO FACTORY WARNING",t,$_.cfg({namespace:"data-adapter"})),n.resolveDefaultObject(e)})}),a=Promise.all(i).then(function(t){return n.sortPromosBySlotId(t)});a?r(a):o(new Error("Failed to generate promos."))})},t.prototype.verifyPromoAsset=function(t){return!!(0<t.stack.length&&_.hasIn(t,"stack[0].asset.url")&&""!=t.stack[0].asset.url)},t.prototype.verifyPromo=function(t){return new Promise(function(e,n){t&&t.query?e():n(new Error("The promo data is invalid."))})},t.prototype.verifyPromoId=function(t,e){return new Promise(function(n,r){$_.info("EDIT MODE: "+t.editMode,$_.cfg({namespace:"data-adapter"})),""===e.query.promoid||"none"===e.query.promoid&&!0!==t.editMode?r(new Error("The promo id could not be validated.")):n()})},t.prototype.verifyPromoStack=function(t){return new Promise(function(e,n){t.stack.length>0&&Object.keys(t.stack[0].products).length>0&&t.stack[0].products[0].pid&&t.stack[0].asset.url&&t.stack[0].asset.tags.DMB_PROMO_JSON?e():n(new Error("The promo stack is missing data."))})},t.prototype.getPromoMapData=function(t,e){var n=this;return new Promise(function(r,o){var i=n.isJson(e.stack[0].asset.tags.DMB_PROMO_JSON.value,e.query.promoid,e.query.slotid);(i=JSON.parse(e.stack[0].asset.tags.DMB_PROMO_JSON.value)).promoId=e.query.promoid,i.promoTag=e.query.slotid,"outdoor"==t.location?(i.styles={},i.styles["background-image"]="url('"+e.stack[0].asset.url+"')",i?r(i):o(new Error("Failed to map the promo to a configuration object."))):(-1!=e.stack[0].asset.url.indexOf(".mp4")?i.video=e.stack[0].asset.url:(i.styles={},i.styles["background-image"]="url('"+e.stack[0].asset.url+"')"),i?r(i):o(new Error("Failed to map the promo to a configuration object.")))})},t.prototype.addPromoProducts=function(t,e){var n=this;return new Promise(function(r,o){var i=(t.stack[0]||{}).products||{},a=Object.keys(i).map(function(t){return i[t].pid});if(_.hasIn(t,"stack[0].asset.tags.DMB_PROMO_PRODUCT_NAMES.value"))var s=t.stack[0].asset.tags.DMB_PROMO_PRODUCT_NAMES.value.split(",");else s=[];var u=[];s.length?n.getProductState(s).then(function(t){return DMBCore.getConfig().caloric?n.CaloricFactory.assembleProducts(t):Promise.resolve(t)}).then(function(t){Object.keys(t).forEach(function(e){var r=t[e];u.push({id:e,data:{price:r.price?Number(r.price).toFixed(2):"",calories:n.calorieRange(r.cal)}})}),e.products=u,u.length>0?r(e):o(new Error("The promo did not have any assigned products."))}):libDMB.prices.get(a).then(function(t){a.forEach(function(e){u.push({id:e||"",data:{price:t[e]?Number(t[e]).toFixed(2):""}})}),e.products=u,u.length?r(e):o(new Error("The promo did not have any assigned products."))})})},t.prototype.getProductState=function(t){return new Promise(function(e,n){libDMB.data.get("productstate",t).then(function(t){e(t)})})},t.prototype.resolveDefaultObject=function(t){var e={default:!0,promoId:t.query.promoid,products:[],promoTag:t.query.slotid,styles:{"background-image":_.hasIn(t,"stack[0].asset.url")?"url('"+t.stack[0].asset.url+"')":""}};null!=t.stack&&null!=t.stack[0]&&null!=t.stack[0].asset&&(-1!=t.stack[0].asset.url.indexOf(".mp4")?e.video=t.stack[0].asset.url:e.styles["background-image"]="url('"+t.stack[0].asset.url+"')");var n=_.hasIn(t,"stack[0].asset.tags.DMB_PROMO_JSON.value")?this.isJson(t.stack[0].asset.tags.DMB_PROMO_JSON.value,t.query.promoid,t.query.slotid):{},r=_.assign(n,e);return Promise.resolve(r)},t.prototype.isJson=function(t,e,n){try{return JSON.parse(t)}catch(t){return $_.error("Invalid Promo JSON in PromoFactory!","Promo: "+e,"Tag: "+n),{}}},t.prototype.adaptPromoMap=function(t){var e=t.messages;if(e&&e.length){var n=e.map(function(t){var e=t.childNodes.map(function(t){return t.text&&Number(t.text.charAt(2))?(t.text=t.text.slice(0,-2)+"-price}}",t):t});return t.childNodes=e,t});t.messages=n}return Promise.resolve(t)},t.prototype.calorieRange=function(t){return t?Number(t.max)>Number(t.min)?t.min+"-"+t.max+" Cal.":(t.min||"")+" Cal.":""},t.prototype.sortPromosBySlotId=function(t){return new Promise(function(e,n){e(t=t.sort(function(t,e){return Number(t.promoTag.slice(-1))-Number(e.promoTag.slice(-1))}))})},t}();e.PromoFactory=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n(0),i=function(){function t(){this.SlotFactory=new r.SlotFactory,this.FunctionalHelpers=new o.FunctionalHelpers}return t.prototype.assembleRegions=function(t,e,n){var r=this;return new Promise(function(o,i){r.options=n;var a=Object.keys(e).map(function(t){var n=e[t];return n&&(n.id=t),e[t]}).filter(function(t){return!(!t||null==t.id)}).map(function(e){return r.makeRegionId(e.id).then(function(e){return r.hasMcpickPrice(t,e)}).then(function(t){return r.makeDMBRegion(e,t)}).then(function(o){return r.SlotFactory.assembleSlots(t,e,o,n)})}),s=Promise.all(a).then(function(t){return n.afterRegionsProcessed&&t.push(n.afterRegionsProcessed(t)),Promise.resolve(t)}).catch(function(t){console.log("Could not create completed result in region factory.",t)});s?o(s):i(new Error("Region factory broke down :("))})},t.prototype.makeRegionId=function(t){var e=t.split("-"),n=DMBCore.getConfig().state_params.length-1,r=_.drop(e,n);return Promise.resolve([{type:this.options.prefix+"-region-"+r.join("-")}])},t.prototype.makeDMBRegion=function(t,e){var n=t.result.layout.dmbregion;return Promise.resolve(this.FunctionalHelpers.pushToArray(e,[{dmbregion:n}]))},t.prototype.hasMcpickPrice=function(t,e){var n=this;return new Promise(function(r,o){-1!==e[0].type.indexOf(n.options.prefix+"-region-mcpick")&&t.mcpickPrice?r(n.FunctionalHelpers.pushToArray(e,[{headerPrice:t.mcpickPrice}])):r(e)})},t}();e.RegionFactory=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(0),i=function(){function t(){this.ProductFactory=new r.ProductFactory,this.FunctionalHelpers=new o.FunctionalHelpers}return t.prototype.assembleSlots=function(t,e,n,r){var o=this;return new Promise(function(i,a){var s=o.grabIndexLayout(e),u=e.result.state.slots,c=Object.keys(u).filter(function(e){var n=u[e].pid;return"null"!==n&&null!==n||(u[e].pid="none"),o.validateProductCode(u[e].pid,t.editMode)}),l=c.map(function(t,e){return u[t]}).filter(function(e){return o.validateProductCode(e.pid,t.editMode)}).map(function(i,a){return o.makeMealNumber(s,c,a).then(function(s){var u=[{slotId:c[a]},{mealNumber:s},{dmbregion:e.result.layout.dmbregion}];return o.ProductFactory.assembleProducts(t,e,i,u,n[0].type,r)}).catch(function(t){return $_.log("New message from slot factory =>",t,"Nullifying slot...",$_.cfg({namespace:"data-adapter"})),Promise.resolve(null)})}),f=Promise.all(l).then(function(t){var e=t.reduce(function(t,e,n){return e&&e.mealNumber&&(t[e.mealNumber]=e),t},[]).filter(function(t){return!!t}),r=o.FunctionalHelpers.pushToArray(n,[{slots:e}]);return Promise.resolve(o.FunctionalHelpers.condenseObjects(r))}).catch(function(t){$_.warn("Could not create completed result in slot factory.",t,$_.cfg({namespace:"data-adapter"}))});f?i(f):a(new Error("Slot factory broke down :("))})},t.prototype.grabIndexLayout=function(t){return t.result.state.menu.env.layout.indexLayout||[]},t.prototype.validateProductCode=function(t,e){return""!==t&&("none"!==t||!0===e)},t.prototype.makeMealNumber=function(t,e,n){var r=e[n].split("").filter(function(t){return!isNaN(Number(t))}).join("");return Promise.resolve(t.length>0?Number(t[n]):Number(r))},t}();e.SlotFactory=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=n(8),i=n(0),a=function(){function t(){this.FlavorFactory=new r.FlavorFactory,this.FunctionalHelpers=new i.FunctionalHelpers}return t.prototype.assembleProducts=function(t,e,n,r,o,i){var a=this;return new Promise(function(s,u){Hooks.call("beforeProductFactory",[t,e,n,r,o,i]);var c=e.result.state.products[n.pid];if(i.productFactoryParameters){var l={app_config:t,region_state:e,slot_product:n,result_frag:r,region_id:o,options:i};i.productFactoryParameters(l)}var f=a.validateProduct(n,c).then(function(){return a.makeTitlePid(c,n.pid)}).then(function(t){return a.makeNoteExtras(c,t)}).then(function(t){return a.checkOutage(c,t)}).then(function(e){return a.grabAssets(t,o,n.pid,e)}).then(function(t){return a.FlavorFactory.assembleFlavors(n,e,t)}).catch(function(t){return a.productOnly(c,t)}).catch(function(t){return $_.detail("New message from product factory =>",t,"Recovering product.",$_.cfg({namespace:"data-adapter"})),a.recoverProduct(t)}).then(function(t){var e=a.FunctionalHelpers.pushToArray(r,[{product:t}]);return Promise.resolve(a.FunctionalHelpers.condenseObjects(e))});Promise.all([f]).then(function(t){var e=Hooks.call("afterProductFactory",[t[0]],function(t){return t});e?s(e):f?s(f):u(new Error("Product factory broke down :("))})})},t.prototype.validateProduct=function(t,e){return new Promise(function(n,r){t&&e?n(e):r(t)})},t.prototype.makeTitlePid=function(t,e){return Promise.resolve([{title:t.label&&t.label.en?t.label.en:""},{productCode:e||null}])},t.prototype.makeNoteExtras=function(t,e){if(t.desc&&t.desc.en)var n=t.desc.en.split("-----"),r=n.map(function(t){if("@"==t.charAt(0))return t.substring(1,t.length)}).reduce(function(t,e){return t+e},""),o=n.map(function(t){if("@"!=t.charAt(0))return t}).reduce(function(t,e){return t+e},"");var i=[{note:r||""},{extras:o||""},{personalized:t.personalized?t.personalized:""},{meta:t.meta?t.meta:""}],a=this.FunctionalHelpers.pushToArray(e,i);return Promise.resolve(a)},t.prototype.checkOutage=function(t,e){var n=this;return new Promise(function(r,o){var i=_.get(t,"meta.outageID",void 0);if(void 0!==i)i=i.map(function(t){return String(t)}),console.log("there are outage ids",i),DMBCore.table("products").column("outofstock",i).then(function(t){console.log("here is the column",t);var o=[{inStock:0===i.filter(function(e){return 1===t[e]}).length?"true":"false"}];r(n.FunctionalHelpers.pushToArray(e,o))}).catch(function(t){console.log("error",t)});else{console.log("no outage ids");r(n.FunctionalHelpers.pushToArray(e,[{inStock:"true"}]))}})},t.prototype.grabAssets=function(t,e,n,r){var i=new o.ProductMapper(t,e,n).getAssets(),a=i?{assets:i}:{assets:[]},s=this.FunctionalHelpers.pushToArray(r,[a]);return Promise.resolve(s)},t.prototype.productOnly=function(t,e){var n=this;return new Promise(function(r,o){if(t){var i={sizes:[{type:"",price:t.price?t.price:"",calories:t.cal&&t.cal.min?Number(t.cal.min):"",caloriesMax:t.cal&&t.cal.max?Number(t.cal.max):""}]},a=n.FunctionalHelpers.pushToArray(e,[i]),s=n.FunctionalHelpers.condenseObjects(a);s?r(s):o(e)}else o(e)})},t.prototype.recoverProduct=function(t){return Promise.resolve({assets:[],title:"",note:"",extras:"",productCode:t.pid?t.pid:"",sizes:[{type:"",price:"",calories:"",caloriesMax:""}]})},t}();e.ProductFactory=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=n(0),i=new r.SizeFactory,a=new o.FunctionalHelpers,s=function(){function t(){}return t.prototype.assembleFlavors=function(t,e,n){var r=this;return new Promise(function(o,s){var u=e.result.state.products,c=r.filterOpts(t),l=r.filterSubs(t);if(c){var f=c.map(function(t){return r.grabFlavorType(t,u).then(function(t){return r.validateSubs(l,t)}).then(function(e){return i.assembleSizes(t.pid,l,u,e)}).catch(function(e){return r.flavorsOnly(t,u,e)}).catch(function(t){return $_.log("New message from flavor factory =>",t,"Recovering flavor...",$_.cfg({namespace:"data-adapter"})),r.recoverFlavor()})});(d=Promise.all(f).then(function(t){var e=a.pushToArray(n,[{flavors:t}]);return Promise.resolve(a.condenseObjects(e))}).catch(function(t){$_.log("Could not create completed result in flavor factory",t,$_.cfg({namespace:"data-adapter"}))}))?o(d):s("Failed during creation of flavors. Recovering product...")}else if(l){var d;(d=i.assembleSizes(t.pid,l,u,null).then(function(t){var e=a.pushToArray(n,[t]);return Promise.resolve(a.condenseObjects(e))}))?o(d):s('Failed during creation of "sizes only". Recovering product...')}else s(n)})},t.prototype.filterOpts=function(t){var e=t.meta.opts;if(e&&e.length>0){var n=e.filter(function(t){return!(!0!==t.active||!t.pid||"none"==t.optid||null==t.optid)});return 0<n.length&&n}return!1},t.prototype.filterSubs=function(t){var e=t.meta.subs;if(e&&0<e.length){var n=e.filter(function(t){return null!=t.pid&&0==_.has(t,"inactive")});return 0<n.length&&n}return!1},t.prototype.grabFlavorType=function(t,e){var n=e[t.pid];return Promise.resolve(n&&n.label&&n.label.en?[{type:n.label.en}]:[{type:""}])},t.prototype.validateSubs=function(t,e){return new Promise(function(n,r){t?n(e):r({code:"flavors-only",result:e})})},t.prototype.flavorsOnly=function(t,e,n){return new Promise(function(r,o){if(_.has(n,"code")&&"flavors-only"===n.code){var i=e[t.pid];r({type:n.result[0].type||"",sizes:[{type:"",price:i.price?i.price:"",calories:i.cal&&i.cal.min?Number(i.cal.min):"",caloriesMax:i.cal&&i.cal.max?Number(i.cal.max):""}]})}else o(n)})},t.prototype.recoverFlavor=function(){return Promise.resolve({type:"",sizes:[{type:"",price:"",calories:"",caloriesMax:""}]})},t}();e.FlavorFactory=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=new(n(0).FunctionalHelpers),o=function(){function t(){}return t.prototype.assembleSizes=function(t,e,n,o){var i=this;return new Promise(function(a,s){var u=e.map(function(e){var r=t+":"+e.pid;return i.grabSizes(e.pid,r,n).catch(function(t){return $_.log("New message from size factory =>",t,"Recovering size...",$_.cfg({namespace:"data-adapter"})),i.recoverSize()})}),c=Promise.all(u).then(function(t){var e=t.filter(function(t){return""!=t.type});if(null!==o){var n=r.pushToArray(o,[{sizes:e}]);return r.condenseObjects(n)}return{sizes:e}}).catch(function(t){$_.log("Could not create completed result in size factory",t,$_.cfg({namespace:"data-adapter"}))});c?a(c):s(new Error("The completed_result was rejected in size factory."))})},t.prototype.grabSizes=function(t,e,n){return new Promise(function(r,o){var i=n[e];if(i){var a={type:t||"",desc:_.hasIn(i,"desc.en")?i.desc.en:"",price:i.price?i.price:"",calories:i.cal&&i.cal.min?Number(i.cal.min):"",caloriesMax:i.cal&&i.cal.max?Number(i.cal.max):"",each:i.cal&&!0===i.cal.each?"true":"",meta:i.meta?i.meta:""};a?r(a):o("Unable to grab sizes.")}else o("The id was not defined in grabSizes() in size factory.")})},t.prototype.recoverSize=function(){return Promise.resolve({type:"",price:"",calories:"",caloriesMax:"",each:"",meta:""})},t}();e.SizeFactory=o},function(t,e,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.process=function(){var t=-1===Object.keys(this.app_config).indexOf("dayPart")?"daypart":"dayPart",e=_.has(this.app_config.assetData,this.region_id)?this.app_config.assetData[this.region_id]:void 0;if(e){var n=e.list[this.pid];if(n){this.result=_.has(n,this.app_config[t])?n[this.app_config[t]]:[{}];for(var r=0;r<this.result.length;r++)void 0===this.result[r].assetPath?this.result[r].assetPath="":-1===this.result[r].assetPath.indexOf("/")&&(this.result[r].assetPath=e.rootPath+"/"+this.result[r].assetPath);for(var o=0;o<this.result.length;o++)if(_.has(this.result[o],"modifiers")){var i=Object.keys(this.result[o].modifiers);for(r=0;r<i.length;r++)void 0===this.result[o].modifiers[i[r]]?this.result[o].modifiers[i[r]]="":-1===this.result[o].modifiers[i[r]].indexOf("/")&&(this.result[o].modifiers[i[r]]=e.rootPath+"/"+this.result[o].modifiers[i[r]])}this.result=this.result.map(function(t){return t.assetPath=t.assetPath.replace("+","%2B"),t})}else this.result={}}},e}(n(9).default);e.ProductMapper=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.app_config=t,this.region_id=e,this.pid=n,this.result={},this.process()}return t.prototype.process=function(){},t.prototype.getAssets=function(){return this.result},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.assemble=function(t){var e=this;return this.config={sorting:{top:"combo",bottom:"each"}},new Promise(function(n,r){var o=t.map(function(t){return new Promise(function(n,r){var o=t.slots.map(function(t){return new Promise(function(n,r){var o=e.hasFlavors(t.product).then(function(){return e.flipFlop(t.product)}).then(function(t){return e.deflateFlipFlopped(t)}).then(function(t){return e.sortFlipFlopped(t)}).then(function(n){return e.makeNewSlot(t,n)}).catch(function(e){return t});Promise.all([o]).then(function(t){n(o)})})},[]);Promise.all(o).then(function(r){n(e.makeNewRegion(t,r))})})},[]);Promise.all(o).then(function(t){n(t)})})},t.prototype.hasFlavors=function(t){return new Promise(function(e,n){t.flavors?e():n("The product "+t.title+" has no flavors.")})},t.prototype.flipFlop=function(t){return new Promise(function(e,n){e(t.flavors.map(function(t,e){return t.sizes.map(function(e,n){return{type:e.type,flavors:[{type:t.type,calories:e.calories,caloriesMax:e.caloriesMax,each:e.each,price:e.price}]}})},[]))})},t.prototype.deflateFlipFlopped=function(t){return new Promise(function(e,n){var r=_.flatten(t),o=_.groupBy(r,"type");e(_.transform(o,function(t,e){var n=e.reduce(function(t,e){return _.mergeWith(t,e,function(t,e){if(_.isArray(t))return t.concat(e)})},{});return t.push(n)},[]))})},t.prototype.sortFlipFlopped=function(t){var e=this;return new Promise(function(n,r){n(t.reduce(function(t,n,r){return n.type===e.config.sorting.top?t.unshift(n):t.push(n)},Immutable.List()).toJS())})},t.prototype.makeNewSlot=function(t,e){return new Promise(function(n,r){var o=_.chain(t.product).create({sizes:e}).omit("flavors").value();n(_.chain(t).clone().set("product",o).value())})},t.prototype.makeNewRegion=function(t,e){return _.chain(t).clone().set("slots",e).value()},t}();e.FlavorSizeSwapFactory=r}]);!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},o=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];y.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=m,t.Response=y,t.fetch=function(t,n){return new Promise(function(r,o){var i=new m(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new y(o,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&e.blob&&(a.responseType="blob"),i.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function h(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!o(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t,e,n,r=f(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=d(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(t,e){var n,r,o=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function g(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this);var DMBCORE=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.cache={},this.name=t,this.queryCount=0}return t.prototype.get=function(t,e){switch(e){case"normal":return Promise.resolve(this.getNormal(t));case"cache":return Promise.resolve(this.getCacheOnly(t));default:return Promise.resolve(this.getNormal(t))}},t.prototype.getNormal=function(t){var e=this;return new Promise(function(n,r){e.findCachedValues(t).then(function(t){return e.missingFromCache(t)?e.methodHandler(t):t}).then(function(t){n(t)}).catch(function(n){n.fallback&&r(n.fallback),r({msg:_.capitalize(e.name)+".get(): Failed to query.",level:"error",values:[{items:t}]})})})},t.prototype.getCacheOnly=function(t){var e=this;return new Promise(function(n,r){e.findCachedValues(t).then(function(t){return _.reduce(t,function(t,e,n){return _.merge(t,e?((r={})[n]=e,r):{});var r},{})}).then(function(t){n(t)}).catch(function(n){n.fallback&&r(n.fallback),r({msg:_.capitalize(e.name)+".get(): Failed to query.",level:"error",values:[{items:t}]})})})},t.prototype.dumpCache=function(){$_.info("CACHED VALUES",this.cache)},t.prototype.getQueryCount=function(){$_.info("Number of DB Queries: "+this.queryCount)},t.prototype.findCachedValues=function(t){var e=this;return new Promise(function(n,r){n(_.reduce(t,function(t,n){return _.has(e.cache,n)?(t[n]=e.cache[n],t):(t[n]=!1,t)},{}))})},t.prototype.missingFromCache=function(t){return _.findKey(t,function(t){return!1===t})},t.prototype.cacheAndMerge=function(t,e){return this.addCache(e),this.mergeResults(t,e)},t.prototype.extractUncached=function(t){return _.reduce(t,function(t,e,n){return t.concat(e?[]:n)},[])},t.prototype.addCache=function(t){this.cache=_.merge(this.cache,t)},t.prototype.mergeResults=function(t,e){var n=_.reduce(t,function(t,e,n){return e&&(t[n]=e),t},{});return _.merge(n,e)},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){void 0===n&&(n=null),this.config=t,this.namespace=e,this.overrideScreenId=n}return t.prototype.assemble=function(t,e){var n=this;return console.log("configSelector assemble => arguments",t,e),new Promise(function(r,o){n.special_config=e,Object.freeze(n.special_config),$_.success("ConfigSelector special_config",e),n.formatSelectorPath().then(function(t){return $_.log("selector_path",t),n.arrange(t)}).then(function(t){return $_.success("arranged_path!",t),n.assembleConfigSelection(t)}).then(function(t){$_.success("SELECTED_CONFIG!",t),r(t)}).catch(function(e){$_.catch(e),o($_.rejection("DMBCore.ConfigSelector.assemble(): Failed to select the config data.","error",[{selector_path:t},{config:n.config},{special_config:n.special_config}]))})})},t.prototype.assembleConfigSelection=function(t){var e=this;return new Promise(function(n,r){e.checkCore().then(function(n){return n?($_.info("I'm finding the core config."),e.findCoreConfig(t)):($_.info("I'm finding the alt config."),e.findAltConfig(t))}).then(function(t){$_.success("THE SELECTED CONFIG!",t),n(t)}).catch(function(n){$_.catch(n),r($_.rejection("DMBCore.ConfigSelector.assembleConfigSelection(): Failed to execute the pipeline.","error",[{config:e.config},{selector_path:t}]))})})},t.prototype.formatSelectorPath=function(){var t=this;return new Promise(function(e,n){var r=t.config[t.namespace].selector_path,o=_.chain(r).reduce(function(e,n,r){return e+"."+("screenId"===n&&t.overrideScreenId?t.overrideScreenId:DMBCore.Params.getSync(n))},"").trimStart(".").value();$_.info("Config Selector Path",o,$_.cfg({namespace:"app-info"})),e(o)})},t.prototype.arrange=function(t){var e=this;return new Promise(function(n,r){if(_.has(e.config,[e.namespace,"screen_arrangement"])){var o=e.config[e.namespace].screen_arrangement,i=o.profile_key,a=o.profile_values[_.get(DMBCore.Profile.getSync([i]),i)],s=Object.keys(a);n(t.split(".").map(function(t){return-1!==s.indexOf(t)?a[t]:t}).join("."))}else $_.info("No screen arrangement."),n(t);r(t)})},t.prototype.checkCore=function(){var t=this;return new Promise(function(e,n){var r=t.config[t.namespace].core_profile,o=DMBCore.Profile.getSync(t.config[t.namespace].relevant_profiles);_.forEach(r,function(t,n){_.get(o,n)!==_.get(r,n)&&e(!1)}),$_.info("AM I CORE?",r&&o),r&&o?e(!0):n($_.rejection("DMBCore.Configs.checkCore(): Some profile information is missing.","error",[{config:t.config},{profile:o}]))})},t.prototype.findCoreConfig=function(t){var e=this;return new Promise(function(n,r){$_.log("special_config",e.special_config,"selector_path.core",t+".core");var o=_.get(e.special_config,t+".core");o?n(o):r($_.rejection("DMBCore.Configs.findCoreConfig(): Failed to find the core layout!","error",[{selector_path:t},{layout:o}]))})},t.prototype.findAltConfig=function(t){var e=this;return new Promise(function(n,r){e.getProfileDiff().then(function(n){return $_.success("THE PROFILE DIFF!",n),e.findByProfileDiff(t,n)}).then(function(r){var o=_.get(e.special_config,t);if(e.defersToAnother(r)){var i=r;do{var a=i;i=e.getDeferred(o,i),$_.success("Config Selector - Profile Deference",{"Requested Profile":a,"Deferred Profile":i})}while(e.defersToAnother(i));n(i)}n(r)}).catch(function(o){var i=$_.catch(o);i?n(i):r($_.rejection("DMBCore.Configs.findAltConfig(): Failed to find a layout!","error",[{layouts:e.special_config},{selector_path:t}]))})})},t.prototype.defersToAnother=function(t){return t.hasOwnProperty("@defersTo")},t.prototype.getDeferred=function(t,e){return t[e["@defersTo"]]},t.prototype.getProfileDiff=function(){var t=this;return new Promise(function(e,n){var r=t.config[t.namespace].core_profile,o=DMBCore.Profile.getSync(Object.keys(r));e(_.reduce(r,function(t,e,n){var r=_.get(o,n);return r!==e&&t.push(DMBCore.Profile.makeProfileString(n,r)),t},[]))})},t.prototype.findByProfileDiff=function(t,e){var n=this;return new Promise(function(r,o){var i=_.get(n.special_config,t);Object.keys(i).forEach(function(t){var n=t.split(",");if(n.length===e.length&&0===_.pullAll(n,e).length){$_.success("DMBCore.Configs.findByProfileDiff(): Found a profile layout.");var o=_.get(i,t);r(o)}}),o($_.rejection("DMBCore.Configs.findByProfileDiff(): Failed to find an alternate profile layout.","warn",[{selector_path:t},{diff:e},{layout_set:i}],_.get(n.special_config,t+".core")))})},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(4),i=n(5),a=n(7),s=n(8),u=n(11),c=n(12),l=n(18),f=n(21),d=n(22),h=n(23),p=n(24),v=n(25),m=n(26),g=n(27),y=n(28),b=n(34),w=n(35),S=function(){function t(t){void 0===t&&(t="data/dmb_configuration.json"),this.Env=new l.default,this.Prices=new d.default,this.Tags=new p.default,this.Profile=new v.default,this.Products=new m.default,this.Calories=new h.default,this.config_path=t}return t.prototype.configure=function(){var t=this;return new Promise(function(e,n){return t.fetchConfig().then(function(e){return t.setLibDMBOptions(e)}).then(function(e){return t.Env.set().then(function(){return e})}).then(function(e){return t.setupEnvironment(e)}).then(function(e){return t.Params=new f.default(e),t.Params.parse()}).then(function(e){return t.instantiateWithConfig(e)}).then(function(e){return t.config=e,Object.freeze(t.config),t.initializeDOM(t.config)}).then(function(){e()})})},t.prototype.setupEnvironment=function(t){return $_.setLogLevel(this.Env.logLevel()),this.Env.isLocal()&&SPECTRA.loggerLib.pipeChannelsToSinks("*","console"),t.environment=this.Env.environment(),Promise.resolve(t)},t.prototype.instantiateWithConfig=function(t){return this.Fetcher=new b.default(t),this.Layouts=new u.default(t),this.State=new s.default(t),this.Assets=new g.default(t),this.DBObserver=new w.default(t),this.AppInit=new c.default(t),_.has(t,"loggingMeta")&&(this.Logger=new y.default(t)),Promise.resolve(t)},t.prototype.initializeDOM=function(t){var e=this;return new Promise(function(n,r){var o=(e.Env.isLocal(),".min.html"),i="";i=t.prerelease?"components/foundation/"+t.app_prefix+"-master/"+t.app_prefix+"-master"+o:e.Params.getSync("location")+"/"+t.app_prefix+"-master/"+t.app_prefix+"-master"+o;var a=document.createElement("link");a.setAttribute("rel","import"),a.setAttribute("href",i),document.head.appendChild(a);for(var s=$_.grabBrowserInfo().name,u=document.querySelectorAll(".browser-dependent"),c=0;c<u.length;c++)u[c].classList.add(s);HTMLImports.whenReady(function(){$_.success("Import of master component completed"),n()})})},t.prototype.startApp=function(){var t=this;return new Promise(function(e,n){return new r.default(t.config).assemble().then(function(){return(new o.default).assemble()}).then(function(){return new i.default(t.config).assemble()}).then(function(e){return t.db=e,new a.default(t.config).assemble()}).then(function(){return t.Profile.queryProfile()}).then(function(){return t.config.logging_api?t.Logger.MetaFetcher.assemble():Promise.resolve()}).then(function(){if(t.Logger.setUpLogger(),t.config.layouts)return t.Layouts.assemble()}).then(function(){t.Env.EditMode.setEvent(),e()}).catch(function(t){var e=$_.catch(t);e&&n(e)})})},t.prototype.fetchConfig=function(){var t=this;return new Promise(function(e,n){fetch(t.config_path).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){n($_.rejection("There was an error fetching the DMB Core configuration.","error",[{Error:t}]))})})},t.prototype.setLibDMBOptions=function(t){return new Promise(function(e,n){_.forIn(t.options,function(t,e){_.set(libDMB,e,t),$_.detail("DMBCore: libDMB Option Set.",_.get(libDMB,e),$_.cfg({namespace:"dmb-core"}))}),libDMB.data.setConfigured(),e(t)})},t.prototype.table=function(t){return this.db[t]},t.prototype.drawMaster=function(t,e){var n=document.querySelector(".main"),r=document.querySelector(this.config.app_prefix+"-master"),o=document.createElement(this.config.app_prefix+"-master");o.setAttribute("profile-data",JSON.stringify(t)),o.setAttribute("app-config",JSON.stringify(e)),this.applyEditMode(o),r&&($_.detail("Removing the old master.",$_.cfg({namespace:"dmb-core"})),n.removeChild(r)),$_.warn("Appending the new master.",$_.cfg({namespace:"dmb-core"})),n.appendChild(o)},t.prototype.applyEditMode=function(t){this.Env.isEditMode()&&($_.info("Setting the edit mode attribute.",$_.cfg({namespace:"dmb-core"})),t.setAttribute("edit-mode",!0),t.setAttribute("edit-locked","[]")),this.Env.EditMode.isPortalEditMode()&&($_.info("Setting seek time to:",this.Env.EditMode.getSeekTime(),$_.cfg({namespace:"dmb-core"})),t.setAttribute("seek-time",this.Env.EditMode.getSeekTime()),t.setAttribute("edit-locked",JSON.stringify(this.Env.EditMode.getLockedSlots())))},t.prototype.getPrefix=function(){return this.config.app_prefix},t.prototype.getConfig=function(){return this.config},t}();e.DMBCore=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.config=t}return t.prototype.assemble=function(){var t=this;return new Promise(function(e,n){t.startLogging().then(function(){e()}).catch(function(t){$_.catch(t),n()})})},t.prototype.startLogging=function(){return new Promise(function(t,e){try{SPECTRA.require_service("bi"),SPECTRA.loggerLib.pipeChannelsToSinks("spectra.alarm","remote"),t()}catch(t){e($_.rejection("startLogging(): Failed to start SPECTRA logging.","error",[{err:t}]))}})},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.assemble=function(){var t=this;return new Promise(function(e,n){t.startSpectra().then(function(){e()}).catch(function(t){$_.catch(t),n($_.rejection("LibDMBCoreSPECTRA.assemble(): Failed to initialize SPECTRA.","error",[{Error:t}]))})})},t.prototype.startSpectra=function(){return new Promise(function(t,e){try{SPECTRA.when_initialized("loadapiimpl").done(function(){if(SPECTRA.is_mode("standalone")||"s200src"===SPECTRA.impl_id()){var e=getURLParam("hlto",0);e=isNaN(e)?0:parseInt(e);var n=(new Date).setHours(0,0,0,0)+e;window.postMessage(JSON.stringify({type:"multiplayer.init",regionName:void 0,playerId:0,playerGeometry:{x:0,y:0,width:1920,height:1080},seek:0,ft:n,dur:-1,playerIp:"127.0.0.1",playerHostName:"player",playlist:{scale:[.1,.5],name:"playlist"}}),"*")}t()})}catch(t){e($_.rejection("startSpectra(): Failed to start SPECTRA services.","error",[{Error:t}]))}})},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=function(){function t(t){this.config=_.cloneDeep(t),this.db={}}return t.prototype.assemble=function(){var t=this;return new Promise(function(e,n){("local"===t.config.environment?t.setLocalProducts:t.setProductionProducts)().then(function(){return $_.detail("Before setDefaultProviders",$_.cfg({namespace:"dmb-core"})),t.generateSlotsMetaProvider()}).then(function(){return $_.detail("Before generateDBProviders",$_.cfg({namespace:"dmb-core"})),t.generateDBProviders()}).then(function(){if(t.config.caloric)return $_.detail("DMBCore: Before generateCaloricProvider.",$_.cfg({namespace:"dmb-core"})),t.generateCaloricProvider()}).then(function(){e(_.cloneDeep(t.db))}).catch(function(t){$_.catch(t),n($_.rejection("LibDMBCoreProviders.assemble(): Failed to set the libDMB providers.","error",[{err:t}]))})})},t.prototype.generateDBProviders=function(){var t=this;return new Promise(function(e,n){for(var o=Object.keys(t.config.db_providers),i=0;i<o.length;i++){var a=o[i],s=t.config.db_providers[o[i]];t.db[a]=new r.default(s)}Object.keys(t.db).length>0?e():n($_.rejection("generateDBProviders(): No DB Providers were defined.","warn",[{dbname:a}]))})},t.prototype.generateSlotsMetaProvider=function(){return new Promise(function(t,e){try{libDMB.data.providers.set("slotsmeta",new libDMB.data.providers.slotsmeta({optsconcat:"_"})),t()}catch(t){e($_.rejection("setDefaultProviders(): Failed to set the default libDMB providers.","error",[{err:t}]))}})},t.prototype.generateCaloricProvider=function(){var t=this;return new Promise(function(e,n){try{libDMB.data.providers.set("calories",new function(t){var e=this;this.provider=t,this.noKeyOk=!0,this.get=function(t){return e.provider.get(t).then(function(t){var e=Object.keys(t).filter(function(e){return""!==t[e]&&""!==t[e][0].nutritionalInfoKCal}).map(function(e){var n=t[e][0].nutritionalInfoKCal,r={};return r[e]={min:n,max:n},r});return _.reduce(e,function(t,e){var n=Object.keys(e)[0],r=e[n];return t[n]=r,t},{})})}}(t.db.products.provider())),e()}catch(t){n($_.rejection("generateCaloricProvider(): Failed to generate the caloric provider.","error",[{Error:t}]))}})},t.prototype.setProductionProducts=function(){return new Promise(function(t,e){try{libDMB.data.providers.set({products:new libDMB.data.providers.products("data/products.4.0.json"),productsoverride:new libDMB.data.providers.productsoverride}),$_.success("Production mode products are enabled.",$_.cfg({namespace:"app-info"})),t()}catch(t){e($_.rejection("setProductionProducts(): Failed to set the the production products provider.","error",[{Error:t}]))}})},t.prototype.setLocalProducts=function(){return new Promise(function(t,e){try{libDMB.data.providers.set({products:new libDMB.data.providers.products("data/products.json",{mode:"embed"}),productslocal:new libDMB.data.providers.productslocal(null,{mode:"embed"})}),SPECTRA.loggerLib.pipeChannelsToSinks("dmb.data.preview,dmb.data.products.overrides","console"),libDMB.config.features.debugMultiplexArgs=1,$_.success("Local development products are enabled.",$_.cfg({namespace:"app-info"})),t()}catch(t){e($_.rejection("setLocalProducts(): Failed to set the the local products provider.","error",[{Error:t}]))}})},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.prov_cfg=t,this.db=this.makeLibDMBProviderDB(this.createColumnString()),this.columns=t.columns,this.queryCount=0}return t.prototype.rows=function(t){var e=this;return new Promise(function(n,r){e.db.get(t).done(function(t){e.queryCount++,n(t)})})},t.prototype.rowsFormatted=function(t){var e=this;return new Promise(function(n,r){e.db.get(t).done(function(t){e.queryCount++;var r=_.reduce(t,function(t,e,n){return t[n]=e[0],t},{});n(r)})})},t.prototype.column=function(t,e){var n=this;return new Promise(function(r,o){n.db.get(e).then(function(e){n.queryCount++;var o=_.reduce(e,function(r,o,i){n.columns.indexOf(t);return r[i]=e[i][0][t],r},{});r(o)})})},t.prototype.provider=function(){return this.db},t.prototype.getQueryCount=function(){$_.info("Number of DB Queries: "+this.queryCount)},t.prototype.createColumnString=function(){var t=this.prov_cfg.columns.reduce(function(t,e,n){return t+(e+",")},"");return t=_.trimEnd(t,",")},t.prototype.makeLibDMBProviderDB=function(t){var e=["dmb-core-db",this.prov_cfg.db_name,this.prov_cfg.table_name,this.prov_cfg.key,t].join(":");return libDMB.data.providers.set(e,new libDMB.data.providers.DBMap(this.prov_cfg.db_name,this.prov_cfg.table_name,this.prov_cfg.key,t)),{get:function(t,n){return libDMB.data.get(e,t,n)}}},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.config=t}return t.prototype.assemble=function(){var t=this;return new Promise(function(e,n){t.initDMBAppModule().then(function(){return t.requireDMBAppModule()}).then(function(){return t.requireSPECTRADataService()}).then(function(){e()}).catch(function(t){$_.catch(t),n($_.rejection("LibDMBCoreInitDMBModule.assemble(): Failed to initialize the SPECTRA module.","error",[{err:t}]))})})},t.prototype.initDMBAppModule=function(){return new Promise(function(t,e){try{window.DMB={data:{providers:{}},copy:function(t){return JSON.parse(JSON.stringify(t))},editor:{},firstdraw:$.Deferred(),redraw:$.noop,setOverlay:$.noop,redrawoverlays:$.noop,configurePostDraw:$.noop,applyHighlight:$.noop,behavior:{csscache:1,fontspreload:1,fontscache:1}},SPECTRA.modules.define("dmb.app",["libdmb"],function(){var t=libDMB.config.shared.static;t.debug&&$("body").addClass("debug");var e=new libDMB.region.StateHandler(t.appName),n=!1;function r(){if(!n)return n=!0,libDMB.config.shared.dynamic.update().then(function(n){var r=$.extend(!0,n,t),o=libDMB.data.providers,i=o.NULL();switch(r.POSType){case"tag":i=o.TAG();break;case"db":i=new o.DB("Macdo.db","Menu","productCode","price")}return o.set("prices",i),libDMB.data.ttl(r.ispreview?-1:r.cacheTime),libDMB.prices.debug="standalone"===SPECTRA.impl_id()&&n.debug&&DMBCore.Params.get("rndprc"),e.update().then(function(t){return setTimeout(function(){DMB.firstdraw.resolve()}),t}).fail(function(t){console.error(t)})}).always(function(){n=!1})}return DMB.redraw=r,{update:r}}),$.when(SPECTRA.modules.require("dmb.app")).done(function(e){e.update(),t()})}catch(t){e($_.rejection("initDMBAppModule(): Failed to create the dmb.app module.","error",[{err:t}]))}})},t.prototype.requireDMBAppModule=function(){return new Promise(function(t,e){try{SPECTRA.modules.require("dmb.app").then(function(){$_.detail("The SPECTRA module 'dmb.app' has been required.",$_.cfg({namespace:"startup"})),t()})}catch(t){e($_.rejection("requireDMBAppModule(): Failed to require the dmb.app module.","error",[{error:t}]))}})},t.prototype.requireSPECTRADataService=function(){return new Promise(function(t,e){try{SPECTRA.require_service("data").then(function(){$_.detail("The SPECTRA data service is ready.",$_.cfg({namespace:"startup"})),t()})}catch(t){e($_.rejection("requireSPECTRADataService(): Unable to initilize spectra data provider.","error",[{error:t}]))}})},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),o=n(10),i=function(){function t(t){this.config=t,this.state=null,this.state_selector=this.getStateSelectorValues().join("-"),this.config.redux&&(this.Actions=new r.default,this.initializeStore())}return t.prototype.getStateSelectorValues=function(){return this.config.state_params.map(function(t){return DMBCore.Params.getSync(t)})},t.prototype.initializeStore=function(){this.Store=Redux.createStore(this.rootReducer(),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},t.prototype.rootReducer=function(){return Redux.combineReducers({appData:o.appDataReducer,layout:o.layoutReducer,loggingMeta:o.loggingMetaReducer,assetData:o.assetDataReducer,editMode:o.editModeReducer,sync:o.syncReducer,tags:o.tagsReducer})},t.prototype.assemble=function(){var t=this;return new Promise(function(e,n){$_.success("Starting the States module!"),libDMB.data.metrics.reset();var r=performance.now();(""===t.config.url_params.regionquery?t.libStateHandler().then(function(e){return t.libMultiStateHandler(e)}):t.libRegionState()).then(function(e){var n=performance.now()-r;return $_.info("query",n,libDMB.data.metrics.get()),sessionStorage.setItem("dmb:"+t.state_selector,""+n),t.state=e,t.extractInfo(e)}).then(function(t){e(t)}).catch(function(t){throw t})})},t.prototype.libStateHandler=function(){var t=this;return new Promise(function(e,n){var r=t.state_selector,o=new libDMB.region.StateHandler(r).update();o?e(o):n({msg:"States.libStateHandler(): libMDB state handler was unable to update.",level:"error",values:[{updateCoreHandler:o},{stateHandlerName:r},{config:t.config}]})})},t.prototype.libMultiStateHandler=function(t){return new Promise(function(e,n){var r=new libDMB.region.MultiStateHandler(t.state.menu.env.layout.multi).update();r?e(r):n({msg:"States.libMultiStateHandler(): libDMB multi-state handler was unable to update.",level:"error",values:[{updateCoreHandler:r}]})})},t.prototype.ConvertRegionStateToStateHandler=function(t,e){return t.regions.reduce(function(t,n){var r=n.id,o=n.dmbregion||r,i=libDMB.copy(e),a=n.subs||[],s={dmbregion:o,subs:a};n.lineup;"string"==typeof a&&($_.warn("subs should be an array"),a=a.split(",")),n.subs=a,s.subs=a,i.lineup=n.lineup,i.app=r,i.appName=r,i.dmbRegion=o;var u,c=t[r]={result:{dmbregion:r,fullregion:r,id:r,lineup:void 0,region:r,config:i,layout:s,state:{menu:{env:{cfg:i,layout:s},slotids:n.slots.map(function(t){return t.id}),subs:a},products:n.slots.reduce(function(t,e){if(e.pid&&"none"!=e.pid){var n=libDMB.copy(e.product);if(n)for(var r in n.subs||{}){var o=n.subs[r],i=o.pid;n.subs[r]=i,t[i]=o,o.options&&o.options.length&&$_.warn("Unhandled sub with options",e.id,e.pid,o.options)}(n.options||[]).reduce(function(t,n){var r=n.product;if(r){if(t[n.pid]=r,n.product&&n.product.subs)for(var o in n.product.subs||{}){var i=n.product.subs[o];t[i.pid]=i}}else $_.warn("NO such product - option",e.id,e.pid,n);return t},t),delete n.options,t[e.pid]=n}return t},{}),slots:n.slots.reduce(function(t,e){var n=e.product||{},r=(e.meta.subs.length?a.map(function(t,n){var r,o=e.meta.subs[n];return o&&((r={pid:o.id,inactive:1===o.state?1:0}).inactive||delete r.inactive),r}):[]).filter(function(t){return!!t});return t[e.id]={pid:e.pid,meta:{tag:e.raw,pid:e.pid,opts:(n.options||[]).map(function(t){return{active:!t.state,optid:t.id,pid:t.pid,subs:[""]}}),subs:r}},t},{})}}};return Object.defineProperty(c,"item",{enumerable:!0,get:function(){return u=u||$_.warn("use .result instead of .item")||Date.now(),this.result}}),t},{})},t.prototype.libRegionState=function(){var t=this,e=this;return new Promise(function(n,r){var o=t.state_selector,i=libDMB.config.handler(o,"",{}).update(),a=libDMB.data.get("regionstate",o,{});a.then(function(t){return i.then(function(o){try{var i=e.ConvertRegionStateToStateHandler(t,o);n(i)}catch(t){r({msg:"States.libRegionState(): conversion failed",level:"error",values:[{reason:t}]})}})}).fail(function(t){r({msg:"States.libRegionState(): libDMB.data.get('regionstate') failed",level:"error",values:[{regionTask:a},{configTask:i},{stateHandlerName:o},{config:this.config},{reason:t}]})})})},t.prototype.extractInfo=function(t){var e=this;return new Promise(function(n,r){var o=Object.keys(t);o.length>0&&(e.info=e.state[o[0]].result.config,n(t)),r($_.rejection("DMBCore.State.extractInfo(): Failed to get the player info from the State data.","warn",[{state:t}]))})},t.prototype.getSync=function(){return this.state},t.prototype.get=function(){var t=this;return new Promise(function(e,n){t.state?e(t.state):n({msg:"The state is not set from libDMB.",level:"warn",values:[{state:t.state}],fallback:null})})},t.prototype.getInfo=function(){var t=this;return new Promise(function(e,n){t.info?e(t.info):n($_.rejection("DMBCore.State.getInfo(): Failed to find the player info.","warn",[{info:t.info}]))})},t.prototype.getInfoSync=function(){return this.info?this.info:($_.warn("DMBCore.State.getInfoSync(): Failed to find the player info.",{info:this.info}),null)},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_NEW_APP_DATA="SET_NEW_APP_DATA",e.SET_NEW_ASSET_DATA="SET_NEW_ASSET_DATA",e.SET_NEW_LOGGING_META="SET_NEW_LOGGING_META",e.SET_NEW_PROFILE="SET_NEW_PROFILE",e.SET_NEW_LAYOUT="SET_NEW_LAYOUT",e.SET_CURRENT_TIME="SET_CURRENT_TIME",e.SET_GLOBAL_INTERVAL="SET_GLOBAL_INTERVAL",e.ADD_FAMILY="ADD_FAMILY",e.ADD_STATUS="ADD_STATUS",e.ADD_GROUP="ADD_GROUP";var r=function(){function t(){}return t.prototype.setNewAppData=function(t){return{type:e.SET_NEW_APP_DATA,appData:t}},t.prototype.setLayout=function(t){return{type:e.SET_NEW_LAYOUT,layout:t}},t.prototype.setNewLoggingMeta=function(t){return{type:e.SET_NEW_LOGGING_META,loggingMeta:t}},t.prototype.setNewAssetData=function(t){return{type:e.SET_NEW_ASSET_DATA,assetData:t}},t.prototype.setCurrentTime=function(t){return{type:e.SET_CURRENT_TIME,time:t}},t.prototype.setGlobalInterval=function(t){return{type:e.SET_GLOBAL_INTERVAL,interval:t}},t.prototype.addFamily=function(t,n){return{type:e.ADD_FAMILY,family:t,value:n}},t.prototype.addStatus=function(t,n){return{type:e.ADD_STATUS,key:t,value:n}},t.prototype.addGroup=function(t){return{type:e.ADD_GROUP,group:t}},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0}),e.appDataReducer=function(t,e){switch(void 0===t&&(t={}),e.type){case"SET_NEW_APP_DATA":return e.appData;default:return t}},e.layoutReducer=function(t,e){switch(void 0===t&&(t={}),e.type){case"SET_NEW_LAYOUT":return e.layout;default:return t}},e.loggingMetaReducer=function(t,e){switch(void 0===t&&(t={}),e.type){case"SET_NEW_LOGGING_META":return e.loggingMeta;default:return t}},e.assetDataReducer=function(t,e){switch(void 0===t&&(t={}),e.type){case"SET_NEW_ASSET_DATA":return e.assetData;default:return t}},e.editModeReducer=function(t,e){return void 0===t&&(t={}),t},e.syncReducer=function(t,e){switch(void 0===t&&(t={}),e.type){case"SET_CURRENT_TIME":return r({},t,{time:e.time});case"SET_GLOBAL_INTERVAL":return r({},t,{globalInterval:e.interval});case"ADD_FAMILY":return r({},t,{families:function(t,e){switch(void 0===t&&(t={}),e.type){case"ADD_FAMILY":var n=t[e.family]||0;return e.value>n?r({},t,((o={})[e.family]=e.value,o)):t;default:return t}var o}(t.families,e)});case"ADD_STATUS":return r({},t,{statusList:function(t,e){switch(void 0===t&&(t={}),e.type){case"ADD_STATUS":return r({},t,((n={})[e.key]=e.value,n));default:return t}var n}(t.statusList,e)});case"ADD_GROUP":return r({},t,{groups:function(t,e){switch(void 0===t&&(t=[]),e.type){case"ADD_GROUP":return t.concat([e.group]);default:return t}}(t.groups,e)});default:return t}},e.daypartReducer=function(t,e){return void 0===t&&(t={}),t},e.tagsReducer=function(t,e){return void 0===t&&(t={}),t}},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(){function t(t){this.config=t}return t.prototype.assemble=function(){var t=this,e=DMBCore.Tags.get(["failover"]).then(function(e){var n=e.failover;if("false"===n||_.isEmpty(n))return t.fetch([DMBCore.Params.getSync("screenId")]);var r=_.words(n,/[^_ ]+/g);return t.fetch(r)});return new Promise(function(n,r){e.then(function(e){t.setState(e),n()}).catch(function(e){$_.catch(e),r($_.rejection("DMBCore.Logger.MetaFetcher(): Failed to execute the pipeline.","error",[{config:t.config}]))})})},t.prototype.setState=function(t){if(this.config.redux){var e=DMBCore.State.Actions.setLayout(t);DMBCore.State.Store.dispatch(e)}else this.layout=t},t.prototype.fetch=function(t){var e=this;return new Promise(function(n,r){e.fetchConfig().then(function(n){return e.configSelector(n,t)}).then(function(r){n(e.pluck(r,t))})})},t.prototype.fetchConfig=function(){return DMBCore.Fetcher.start("layouts.path","data/layouts.json")},t.prototype.pluck=function(t,e){return e.reduce(function(e,n,o){return r({},e,((i={})[n]=t[o],i));var i},{})},t.prototype.configSelector=function(t,e){var n=this;return new Promise(function(r,i){var a=e.map(function(e){return new o.default(n.config,"layouts",e).assemble(n.config.layouts.selector_path,t)});Promise.all(a).then(function(t){return r(t)})})},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=function(){function t(t){this.config=t,this.Module=new r.default,this.meta=_.clone(t),this.results={}}return t.prototype.run=function(t,e){var n=this;return new Promise(function(r,o){n.modules=_.cloneDeep(t),n.post_process=e,n.applyTags().then(function(){return n.stepFactory(t,e)}).then(function(){r()}).catch(function(t){$_[t.level](t.msg,t.values),t.fallback&&o(t.fallback)})})},t.prototype.refresh=function(){var t=this;return new Promise(function(e,n){DMBCore.Env.set().then(function(){return t.stepFactory(_.cloneDeep(t.modules),t.post_process)}).then(function(){e()}).catch(function(t){$_[t.level](t.msg,t.values),t.fallback&&n(t.fallback)})})},t.prototype.stepFactory=function(t,e){var n=this;return new Promise(function(r,o){DMBCore.Env.EditMode.configure(),DMBCore.State.assemble().then(function(e){return DMBCore.Products.setState(e),DMBCore.DBObserver.start(),n.meta.states=e,n.steps(t)}).then(function(t){return n.results=t,e(t)}).then(function(t){$_.warn("After post process!",t),r()}).catch(function(r){console.error(r),$_[r.level](r.msg,r.values),r.fallback&&o(r.fallback),o({msg:"stepFactory(): Failed to execute App Initialization.",level:"error",values:[{error:r},{modules:t},{post_process:e},{results:n.results}]})})})},t.prototype.steps=function(t){var e=this;return new Promise(function(n,r){var o=Object.keys(t),i=o.map(function(n,r){return t[o[r]].start(e.meta).then(function(t){return t}).catch(function(t){if(console.error(t),$_[t.level](t.msg,t.values),t.fallback)return t.fallback})});Promise.all(i).then(function(e){for(var i={},a=0;a<e.length;a++)i[o[a]]=e[a];Object.keys(i).length>0?n(i):r({msg:"AppInit.run(): All modules failed.",level:"error",values:[{results:i},{modules:t}]})})})},t.prototype.applyTags=function(){var t=this;return new Promise(function(e,n){DMBCore.Tags.get(t.config.init_tags).then(function(n){t.meta.tags=n,e()})})},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),o=n(15),i=n(16),a=n(17),s=function(){return function(){this.Promos=new r.default,this.Profile=new o.default,this.Assets=new i.default,this.Calories=new a.default}}();e.default=s},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(){}return t.prototype.newStart=function(t){return o(this,void 0,void 0,function(){var e,n,r;return i(this,function(o){switch(o.label){case 0:return e=this.grabPromoStates(t.states),n=this.createPromoDataArrays(e),[4,this.grabPromoStacks(n)];case 1:return r=o.sent(),[2,this.transformPromoStack(t.states,e,r)]}})})},t.prototype.grabPromoKeys=function(t){return _.reduce(Object.keys(t),function(t,e){return-1!==e.indexOf("promo")&&t.push(e),t},[])},t.prototype.grabPromoTypes=function(t){return Object.keys(t)},t.prototype.grabPromoStates=function(t){var e=this;return void 0===t&&(t={}),Object.keys(t).reduce(function(n,o){return-1!==o.indexOf("promo")?r({},n,e.makeNewPromoObj(o,t[o])):n},{})},t.prototype.makeNewPromoObj=function(t,e){var n,r=this.excisePromoRegionName(t),o=_.get(e,"result.layout.dmbregion","not-found"),i=_.get(e,"result.state.slots",{}),a=this.makeStackQueryKeys(i);return(n={})[r]={dmbregion:o,promoData:a},n},t.prototype.excisePromoRegionName=function(t){var e=t.split("promo-");return e[e.length-1]},t.prototype.makeStackQueryKeys=function(t){return Object.keys(t).map(function(e){return t[e].meta.tag+":"+e})},t.prototype.createPromoDataArrays=function(t){return _.map(t,function(t){return t.promoData},[])},t.prototype.grabPromoStacks=function(t){return o(this,void 0,void 0,function(){var e,n=this;return i(this,function(r){switch(r.label){case 0:return e=t.map(function(t){return o(n,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.promostack(t)];case 1:return[2,e.sent()]}})})}),[4,Promise.all(e)];case 1:return[2,r.sent()]}})})},t.prototype.transformPromoStack=function(t,e,n){var r=this.grabPromoKeys(t),o=this.grabPromoTypes(e),i=this.cleanPromoStacks(n);return n.map(function(t,e){return{promo_key:r[e],promo_type:o[e],promos:i[e]}},[])},t.prototype.cleanPromoStacks=function(t){var e=this;return t.map(function(t,n){return e.formatStack(t)},[])},t.prototype.formatStack=function(t){var e=Object.keys(t).map(function(e){return t[e]});return e.reduce(function(t,n){if(_.includes(n.query.slotid,"default"))return t;if(0===n.stack.length){var r=_.find(e,function(t){return n.query.slotid+"-default"===t.query.slotid});return t.concat([{query:n.query,stack:r.stack}])}return t.concat([n])},[])},t.prototype.start=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.newStart(t)];case 1:return[2,e.sent()]}})})},t.prototype.promostack=function(t){return new Promise(function(e,n){e(libDMB.data.get("promostack",t))})},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.start=function(t,e){return new Promise(function(e,n){libDMB.data.get("storeprofile").then(function(r){r?e(r):n({msg:"LibDMB could not find store profile information.",level:"error",values:[{meta:t},{profileResults:r}]})})})},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.productionPath="",this.localPath=".",this.foldersAlways=[]}return t.prototype.start=function(t){var e=this;return new Promise(function(n,r){e.meta=t,e.foldersAlways=t.assets.special_folders,e.localPath=t.assets.local_path;var o=e.formatRegionNames(t.states).then(function(n){return e.addFolderNamesAlways(n,t.url_params.location)}).catch(function(t){$_.error(t)}).then(function(t){return e.findTrueFolderNames(t,DMBCore.Env.environment())}).then(function(t){return e.createTrueFolderNames(t)}).catch(function(t){return e.recoverFolderNames(t)}).then(function(n){return e.aggregateJsonFiles(n,t.url_params)}).catch(function(t){$_.error("There was a problem getting the ls.json files.",t,$_.cfg({namespace:"app-init"}))}).then(function(t){return Promise.all(t.jsonFiles).then(function(n){return e.buildAssets(t.names,t.paths,n)},function(t){$_.error("ls.json ajax request failed to complete.",$_.cfg({namespace:"app-init"}))})});Promise.all([o]).then(function(e){$_.success("AssetDATA!",e[0]),e[0]?n(e[0]):r({msg:"LibDMB could not find store profile information.",level:"error",values:[{meta:t},{assetData:e[0]}]})})})},t.prototype.setPathToAssetsFolder=function(t,e,n){return"production"===t?this.productionPath:(this.meta.assets.use_location?"./"+e:"")+this.localPath+("indoor"===DMBCore.Params.getSync("location")?"/"+n:"")},t.prototype.formatRegionNames=function(t){var e=this;return new Promise(function(n,r){var o=Object.keys(t).filter(function(t){return-1===t.indexOf("promo")}).map(function(t){return e.removeRegionNamePrefix(t)});o?n(o):r(Error("Could not format region names out of given state names"))})},t.prototype.removeRegionNamePrefix=function(t){t.split("-");var e=this.replaceStateParams(this.meta.state_params,t);return this.meta.app_prefix+"-region-"+e},t.prototype.replaceStateParams=function(t,e){return t.reduce(function(t,e){var n=DMBCore.Params.getSync([e]);return t.replace(n+"-","")},e)},t.prototype.addFolderNamesAlways=function(t,e){var n=this;return new Promise(function(r,o){for(var i=0;i<n.foldersAlways.length;i++)t.push(n.foldersAlways[i]);"outdoor"==e&&t.push("cod"),t?r(t):o(Error("Could not add foldersAlways to the array of region names."))})},t.prototype.findTrueFolderNames=function(t,e){return new Promise(function(n,r){if("local"===e)r(t);else{for(var o=0;o<t.length;o++)t[o]="assets_"+t[o];libDMB.data.get("archives",t).then(function(e){e?n({tags:t,archives:e}):r(Error("libDMB could not retreive the archives"))});$_.detail("Assets Module: folderNames",t,$_.cfg({namespace:"app-init"}))}})},t.prototype.createTrueFolderNames=function(t){return new Promise(function(e,n){var r=t.tags,o=t.archives,i=[];for(var a in o){var s=o[a];for(var u in s){var c=s[u].file;i.push(c)}}i?e({original:r,true:i}):n(Error("Could not find fileraw from libDMB archives."))})},t.prototype.recoverFolderNames=function(t){var e=this;return new Promise(function(n,r){n(t?{original:t,true:t}:{original:e.foldersAlways,true:e.foldersAlways})})},t.prototype.aggregateJsonFiles=function(t,e){var n=this;return new Promise(function(r,o){for(var i=_.clone(t.true),a=_.clone(t.original),s=[],u=n.setPathToAssetsFolder(DMBCore.Env.environment(),e.location,e.orientation),c=0;c<i.length;c++){var l=i[c];if("local"===DMBCore.Env.environment())var f=u+"/"+l;else f=l;i[c]=fetch(f+"/ls.json").then(function(t){return t.json()}),s.push(f)}Promise.all(i).then(function(t){t?r({names:a,paths:s,jsonFiles:t}):o(Error("Could not add json to folderObj."))})})},t.prototype.buildAssets=function(t,e,n){return new Promise(function(r,o){for(var i={},a=0;a<t.length;a++){i[t[a].replace("assets_","")]={rootPath:e[a],list:n[a]}}i?r(i):o(Error("Cannot create final assets object."))})},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.start=function(t){return new Promise(function(e,n){return console.log("META",t),new CaloricAdapter.CaloricFactory(t.states).assemble().then(function(t){e(t)}).catch(function(t){$_.error("There was an error in the Calories Module.",t)})})},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=function(){function t(){this.config={environment:"production",log_level:2,editmode:{active:!1,locked:[],seek_time:0}},this.EditMode=new r.default}return t.prototype.set=function(t){var e=this;return void 0===t&&(t="env.json"),new Promise(function(n,r){console.log("WOW set");var o=fetch(t).then(function(t){return console.log("IN RESPONSE!",t),t.json()});console.log("before checkPortal!",libDMB.config.features.libframesocket);var i=e.checkPortal();Promise.all([o,i]).then(function(t){console.log("BEFORE this.config is being set"),e.config=t[0]?t[0]:e.config,console.log("Before in_portal is being set"),e.config.in_portal=t[1],console.log("before resolving after in_portal"),n()})})},t.prototype.checkPortal=function(){return new Promise(function(t,e){SPECTRA.modules.require("dmb.preview.init").then(function(e){console.log("POW POW BEER",e),t(e.ispreview)}).fail(function(t){console.error(t)})})},t.prototype.logLevel=function(){return this.isProduction()||!_.has(this.config,"log_level")?3:this.config.log_level},t.prototype.environment=function(){return this.config.in_portal?"portal":_.has(this.config,"environment")?this.config.environment:"production"},t.prototype.configuration=function(){return this.config},t.prototype.isLocal=function(){return"local"===this.environment()},t.prototype.isProduction=function(){return"production"===this.environment()||"portal"===this.environment()},t.prototype.isPortal=function(){return"portal"===this.environment()},t.prototype.isEditMode=function(){return $_.warn("Edit Mode from config",_.get(this.config,["editmode","active"],!1)||this.EditMode.isPortalEditMode()),_.get(this.config,["editmode","active"],!1)||this.EditMode.isPortalEditMode()},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(20),o=function(){function t(){this.config={active:!1,locked:[],seek_time:0}}return t.prototype.configure=function(){$_.warn("I'm configuring EditMode.");var t=DMBCore.Env.configuration().editmode;this.config=t||this.config,this.environment=DMBCore.Env.environment()},t.prototype.setEvent=function(){var t=this;$_.warn("DEFINING THE EDIT MODE EVENT"),SPECTRA.modules.define("dmb.editor",["dmb.preview.init","dmb.editor.rpc"],function(e){return $_.info("Editmode config!",t.config.active,e),(e["dmb.preview.init"].ispreview||_.get(t.config,["active"],!1))&&($_.warn("I'm instantiating EditorCtrl!"),t.EditorCtrl=new r.default),_.get(t.config,["active"],!1)&&"local"===t.environment&&($_.warn("I'm Spoofing editmode!"),t.spoofEditMode()),$_.warn("this.EditorCtrl",t.EditorCtrl),t.EditorCtrl?t.EditorCtrl:{}})},t.prototype.spoofEditMode=function(){var t={editmode:this.config.active||!1,locked:this.config.locked||[],region:this.config.region||null,editable:this.config.editable||null};this.EditorCtrl.setSeekTime(this.config.seek_time),libDMB.editor.onconfigure(t)},t.prototype.isActive=function(){return!!this.EditorCtrl&&this.EditorCtrl.isEditMode()||this.config.active||!1},t.prototype.getLockedSlots=function(){return!!this.EditorCtrl&&this.EditorCtrl.getLockedSlots()||this.config.locked||[]},t.prototype.getSeekTime=function(){return!!this.EditorCtrl&&this.EditorCtrl.getSeekTime()||this.config.seek_time||0},t.prototype.isPortalEditMode=function(){return!!this.EditorCtrl&&this.EditorCtrl.isEditMode()},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){$_.warn("EditorCtrl CONSTRUCTOR!!!!"),this.edit_mode=!1,this.seek_time=0,this.edit_locked=[],this.is_drawing=!1,this.pending_redraw=!1,this.setLibApi()}return t.prototype.setLibApi=function(){libDMB.editor.onconfigure=this.onConfigure.bind(this),libDMB.editor.ontagschanged=this.onTagsUpdated.bind(this)},t.prototype.onConfigure=function(t){$_.warn("Updating edit mode state..."),$_.warn("Edit mode:",t.editmode),$_.warn("Target region:",t.region),$_.warn("Region editablilty:",t.editable),$_.warn("Locked slots:",t.locked);var e=Date.now()-libDMB.fireTime;t.editmode&&this.edit_mode?$_.warn("Persisting seek time:",this.seek_time):($_.warn("Calculating new seek time:",e),this.seek_time=e),$_.warn("Before setting edit_mode properties",this.edit_mode,this.edit_locked),this.edit_mode=t.editmode,$_.warn("Before edit_locked is set."),this.edit_locked=_.uniq(this.edit_locked.concat(t.locked)),$_.warn("Before redrawMaster",this.edit_mode,this.edit_locked),this.redrawMaster()},t.prototype.onTagsUpdated=function(t){$_.warn("Updating tags..."),this.redrawMaster()},t.prototype.redrawMaster=function(){var t=this;$_.warn("Trying to redraw master",this.is_drawing),this.is_drawing?($_.warn("pending redraw"),this.pending_redraw=!0):(this.is_drawing=!0,$_.warn("Attempting to refresh AppInit!"),DMBCore.AppInit.refresh().then(function(){t.is_drawing=!1,t.pending_redraw&&(t.pending_redraw=!1,t.redrawMaster())}))},t.prototype.isEditMode=function(){return this.edit_mode},t.prototype.setSeekTime=function(t){this.seek_time=t},t.prototype.getLockedSlots=function(){return this.edit_locked},t.prototype.getSeekTime=function(){return this.seek_time},t.prototype.getEditorState=function(){return{edit_mode:this.edit_mode,seek_time:this.seek_time,edit_locked:this.edit_locked}},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.config=t}return t.prototype.parse=function(){var t=this;return new Promise(function(e,n){if(_.has(t.config,"url_params")){var r=Object.keys(t.config.url_params);t.params=r.reduce(function(e,n){var r=t.config.url_params[n],o=getURLParam(n);return e[r.key]=o||(e[r.key]=t.evalFallback(r.fallback)),e},{});var o={url_params:t.params},i=_.chain(t.config).omit("url_params").merge(o).value();e(i)}n({msg:"getURLParams(): Failed to retrieve the URL Params.",level:"error",values:[{config:t.config.url_params},{altered_config:i}]})})},t.prototype.evalFallback=function(t){return t&&"+"===t[0]?this[_.trimStart(t,"+")]():t},t.prototype.screenWidth=function(){return window.screen.availWidth>1900?"horizontal":"vertical"},t.prototype.get=function(t){var e=this;return new Promise(function(n,r){e.params[t]?n(e.params[t]):r({msg:"Params.get(): There are no URL params set.",level:"error",values:[{name:t},{params:e.params[t]}],fallback:null})})},t.prototype.getSync=function(t){return this.params[t]?this.params[t]:null},t.prototype.all=function(){var t=this;return new Promise(function(e,n){t.params?e(t.params):n({msg:"Params.all(): There are no URL params set.",level:"error",values:[{params:t.params}],fallback:{}})})},t.prototype.allSync=function(){return this.params?this.params:{}},t}();e.default=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this,"Prices")||this}return o(e,t),e.prototype.methodHandler=function(t){var e=this;return new Promise(function(n,r){libDMB.prices.get(e.extractUncached(t)).then(function(o){e.queryCount++;var i=e.cacheAndMerge(t,o);i?n(i):r({msg:"Prices.get(): Failed to retrieve values from libDMB.",level:"error",values:[{items:i}],fallback:{}})})})},e}(n(0).default);e.default=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this,"Calories")||this}return o(e,t),e.prototype.setConfigs=function(t){this.caloric_meta=t.caloric_meta,this.caloric_config=t.caloric_config},e.prototype.getCaloricConfig=function(){return this.caloric_config},e.prototype.getAddons=function(){return this.addons},e.prototype.methodHandler=function(t){var e=this;return new Promise(function(n,r){libDMB.data.get("calories",e.extractUncached(t)).then(function(o){e.queryCount++;var i=e.cacheAndMerge(t,o);i?n(i):r({msg:"Calories.get(): Failed to retrieve values from libDMB.",level:"error",values:[{items:i}],fallback:{}})})})},e}(n(0).default);e.default=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this,"Tags")||this}return o(e,t),e.prototype.methodHandler=function(t){var e=this;return new Promise(function(n,r){libDMB.data.get("tags",e.extractUncached(t)).then(function(o){e.queryCount++;e.cacheAndMerge(t,o);o?n(o):r({msg:"Tags.get(): No tags were found.",level:"warn",values:[{with_cached:t},{result:o}]})})})},e}(n(0).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.cache=null}return t.prototype.queryProfile=function(){var t=this;return new Promise(function(e,n){libDMB.data.get("storeprofile").then(function(r){$_.log("profileResults",r);var o=t.formatProfileResults(r);$_.log("setting to cache",r?o:t.cache),t.cache=r?o:t.cache,r?e(o):n({msg:"LibDMB could not find store profile information.",level:"error",values:[{profileResults:r}]})})})},t.prototype.formatProfileResults=function(t){var e=_.reduce(t,function(t,e,n){var r="true"===e||"false"!==e&&e;return _.set(t,n,r),t},{});return $_.success("Formatted Profile!",e),e},t.prototype.dumpCache=function(){$_.info("CACHED VALUES",this.cache)},t.prototype.getSync=function(t){var e=this;try{return $_.isArray(t)?_.reduce(t,function(t,n){var r={},o=_.get(e.cache,n);return void 0!==o?_.set(r,n,o):($_.error("DMBCore.Profile.getSync(): An invalid Profile tag was requested.",n),r[n]=null),_.merge(t,r)},{}):($_.error("DMBCore.Profile.getSync(): Invalid parameter. Not an Array."),[])}catch(e){return $_.warn("Profile.get(): Failed to resolve profile tags.",[{Error:e},{tags:t}]),[]}},t.prototype.get=function(t){var e=this;return new Promise(function(n,r){var o=[],i=_.reduce(t,function(t,n){var r={},i=_.get(e.cache,n);return void 0!==i?_.set(r,n,i):o.push(n),_.merge(t,r)},{});i&&o.length<1?n(i):r({msg:"DMBCore.Profile.getAsync(): One or more requested Profile tags are invalid.",level:"error",values:[{bad_tags:o}],fallback:i})})},t.prototype.allSync=function(){return this.cache||$_.warn("Profile.getAll(): Failed to get the cached Profile data.",[{cache:this.cache}]),this.cache},t.prototype.all=function(){var t=this;return new Promise(function(e,n){t.cache?e(t.cache):n({msg:"Profile.getAllAsync(): Failed to get the cached Profile data.",level:"warn",values:[{cache:t.cache}]})})},t.prototype.makeProfileString=function(t,e){var n=t.split("."),r=n[n.length-1],o=e?r:"!"+r;return $_.detail("DMBCore.Profile.makeProfileString() result",o),o},t.prototype.evaluateProfileStrings=function(t){return _.reduce(t,function(t,e){var n="!"!==e.charAt(0);return{key:n?e:e.substring(1,e.length),value:n}},{})},t}();e.default=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this,"Products")||this}return o(e,t),e.prototype.setState=function(t){this.productIDs=this.populateCacheFromState(t)},e.prototype.methodHandler=function(t){var e=this;return new Promise(function(n,r){libDMB.data.get("products",e.extractUncached(t)).then(function(o){e.queryCount++;e.cacheAndMerge(t,o);o?n(o):r({msg:"Products.get(): No products were found.",level:"warn",values:[{with_cached:t},{result:o}]})})})},e.prototype.allSync=function(){return this.productIDs||null},e.prototype.all=function(){var t=this;return new Promise(function(e,n){t.productIDs?e(t.productIDs):n({msg:"Failed to get all products from the state.",level:"warn",values:[{products:t.productIDs}]})})},e.prototype.dumpCache=function(){$_.info("PRODUCTS IDS",this.productIDs),$_.info("CACHED VALUES",this.cache)},e.prototype.populateCacheFromState=function(t){var e=this;return Object.keys(t).map(function(n){return Object.keys(t[n].result.state.products).map(function(r){var o=t[n].result.state.products[r];return e.cache[r]=o,o.dynID})}).reduce(function(t,e){return t.concat(e)},[]).filter(function(t){return t||!1})},e}(n(0).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.config=t}return t.prototype.configSync=function(){return this.config.assets},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),i=n(30),a=n(31),s=n(32),u=n(33),c=function(){function t(t){console.log("Config ==== ",t),this.config=t,this.MetaFetcher=new i.default(t)}return t.prototype.setUpLogger=function(){var t=this;DMBCore.Tags.get(["affidavitURL"]).then(function(e){t.handleEnvironmentConfig(t.config,e.affidavitURL)}).catch(function(e){t.handleEnvironmentConfig(t.config,"")}).finally(function(){t.handleUnfinishedLogs(),t.createAccessTokenTimeout(),t.createLogsTimeout()})},t.prototype.startLog=function(t,e,n,o,i){var a=this;if(this.checkIfManyRegions(e)){var s=_.omit(e,["metaArray"]);e.metaArray.forEach(function(e){a.buildLog(t,r({},s,e),n,o,i)})}else this.buildLog(t,e,n,o,i)},t.prototype.buildLog=function(t,e,n,r,o){var i=this,a=this.createLog(t,e,n,r,o);DMBCore.Tags.get(["dmb.store.profile.location.storenumber","dmb.store.profile.categories.customerjourney","failover"]).then(function(t){a.storeNumber=t["dmb.store.profile.location.storenumber"],a.customerJourney=t["dmb.store.profile.categories.customerjourney"],a.failoverScreenId=t.failover,r?i.addLog("static",a):i.addLog("started",a)}).catch(function(t){console.error("Error Getting Tags",t),a.storeNumber=null,a.customerJourney=null,a.failoverScreenId=null,r?i.addLog("static",a):i.addLog("started",a)})},t.prototype.checkIfManyRegions=function(t){return void 0!==t.metaArray},t.prototype.endLog=function(t){for(var e=this.getFromLocalStorage("started"),n=0,r=e;n<r.length;n++){var i=r[n];if(null!=t&&null!=i&&this.compareAssetArrays(o.Asset.smallAsset(t,[]),i.assets)){i.endTime=new Date,this.addLog("ended",i),e.splice(e.indexOf(i),1),this.storeLogs("started",e);break}}},t.prototype.handleUnfinishedLogs=function(){var t=this.getFromLocalStorage("started");if(t){Lockr.rm("started");for(var e=0,n=t;e<n.length;e++){var r=n[e];r.delayed=!0,this.addLog("ended",r)}}},t.prototype.resetLogs=function(){Lockr.rm("started"),Lockr.rm("ended")},t.prototype.viewLogs=function(){console.log("*********** started logs ***********",this.getFromLocalStorage("started")),console.log("*********** ended logs ***********",this.getFromLocalStorage("ended"))},t.prototype.createAccessToken=function(){var t=this,e=this.createAuthOptions();return new Promise(function(n,r){fetch(t.authUrl,e).then(function(e){return t.handleStatus(e)}).then(function(e){if(void 0===e.accessToken)return t.throwError(e);t.setAccessToken(e.accessToken),n(t.getAccessToken())}).catch(function(e){r(t.handleError(e))})})},t.prototype.createLogs=function(){var t=this,e=this.getFromLocalStorage("ended");if(void 0===e||0==e.length||void 0===this.MetaFetcher.mapOfGuids)return new Promise(function(t,e){e({message:"No Logs Found"})});var n=this.logUrl+"chop",r=this.createChopOptions(e);return new Promise(function(e,o){fetch(n,r).then(function(e){return t.handleStatus(e)}).then(function(n){if(void 0===n.status)return t.throwError(n);t.deleteLogsFromLockr(),e(n)}).catch(function(e){t.markEndedLogsAsDelayed(),o(t.handleError(e))})})},t.prototype.triggerDaypartEnd=function(t,e,n){var r=this,o=this.getFromLocalStorage("static");_.forEach(o,function(t){t.endTime=e,r.addLog("ended",t)}),this.storeLogs("static",[]),this.createLogs()},t.prototype.handleEnvironmentConfig=function(t,e){var n=this,r=this.getEnvironmentName();this.config.logging_api.environments.map(function(t){t.name===r&&(t.url=e?n.addHttp(e):t.url,n.setUpUrls(t))}),this.userName=this.config.logging_api.username,this.password=this.config.logging_api.password},t.prototype.addHttp=function(t){return-1!==t.indexOf("http")?t:"https://"+t},t.prototype.setUpUrls=function(t){this.url=t.url,this.logUrl=this.url+"/api/Logs/"+t.api_version+"/",this.userUrl=this.url+"/api/users/"+t.api_version+"/",this.authUrl=this.url+"/api/users/auth"},t.prototype.getEnvironmentName=function(){return"production"!==this.config.environment?"staging":"production"},t.prototype.createAccessTokenTimeout=function(){var t=this;this.createAccessToken().then(function(e){return t.createLogs()}).catch(function(t){return console.error(t)}),setInterval(function(){t.createAccessToken().catch(function(t){return console.error(t)})},this.convertToMiliseconds(23,59,0))},t.prototype.createLogsTimeout=function(){var t=this;setInterval(function(){t.createLogs().catch(function(t){return console.error(t)})},this.convertToMiliseconds(0,10,0))},t.prototype.createDefaultOptions=function(t){var e=new Headers;return e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+this.getAccessToken()),{headers:e,method:t}},t.prototype.createAuthOptions=function(){var t=this.createDefaultOptions("POST"),e=new a.AuthRequest;return e.username=this.userName,e.password=this.password,e.ttl=86400,t.body=e.toString(),t},t.prototype.createChopOptions=function(t){var e=this.createDefaultOptions("POST");t=this.cleanUpLogs(t);var n=new s.ChopRequest(t);return e.body=n.toString(),e},t.prototype.createDaypartOptions=function(t,e,n){var r=this.createDefaultOptions("POST");this.addDaypart(u.DaypartRequest.Create(t,e,n));var o=this.getDayparts();return r.body=JSON.stringify({dayparts:o}),r},t.prototype.throwError=function(t){var e=this;return new Promise(function(n,r){void 0===t?r(e.createError("Response Does Not Have A Body")):void 0!==t.error?r(t):r(e.createError("Error occured when calling endpoint throws: "+String(t)))})},t.prototype.handleError=function(t){return console.error(t),t},t.prototype.handleStatus=function(t){var e=this;return new Promise(function(n,r){var o=t.status;if(401===o){var i=[e.createAccessToken(),t.json];Promise.all(i).then(function(t){return r(t[1])}).catch(function(t){return r(t)})}else 200!==o?t.json().then(function(t){return r(t)}).catch(function(t){return r(t)}):t.json().then(function(t){return n(t)}).catch(function(t){return r(t)})})},t.prototype.deleteLogsFromLockr=function(){Lockr.rm("ended")},t.prototype.markEndedLogsAsDelayed=function(){for(var t=this.getFromLocalStorage("ended"),e=0,n=t;e<n.length;e++){var r=n[e];r.delayed=!0,r.assets&&r.assets.forEach(function(t){t.delayed=!0})}this.storeLogs("ended",t)},t.prototype.getAccessToken=function(){return Lockr.get("accessToken")},t.prototype.setAccessToken=function(t){Lockr.set("accessToken",t)},t.prototype.clearAccessToken=function(){this.setAccessToken("")},t.prototype.getFromLocalStorage=function(t){var e=Lockr.smembers(t);return e||[]},t.prototype.addLog=function(t,e){Lockr.sadd(t,e)},t.prototype.storeLogs=function(t,e){Lockr.set(t,e)},t.prototype.addDaypart=function(t){Lockr.sadd("failed-dayparts",t)},t.prototype.getDayparts=function(){return this.getFromLocalStorage("failed-dayparts")},t.prototype.clearDayparts=function(){Lockr.set("failed-dayparts",[])},t.prototype.removeDaypart=function(){this.clearDayparts()},t.prototype.convertToMiliseconds=function(t,e,n){return 1e3*(60*t*60+60*e+n)},t.prototype.compareAssetArrays=function(t,e){var n=0;return t.forEach(function(t){e.forEach(function(e){t.isEqual(e)&&n++})}),t.length===n},t.prototype.createError=function(t,e){var n=new Error;return n.message=t,n.name=e,n},t.prototype.createAssets=function(t,e){var n=new Array;return e.forEach(function(e){(e=Array.isArray(e)?e:[e]).forEach(function(e){var r=new o.Asset;r.startTime=t.startTime,r.endTime=t.endTime,r.isStatic=t.isStatic,r.delayed=t.delayed,r.duration=t.duration,r.assetId=e.assetId,r.meta=e,n.push(r)})}),n},t.prototype.createRegion=function(t,e){var n=new o.Region;return n.regionId=e[t.guid].regionID,n.meta=o.STPManger.mergeSTP(t,e[t.guid]),n},t.prototype.createLog=function(t,e,n,r,i){var a=new o.Log;return a.endTime=null,a.delayed=!1,a.isStatic=r,a.duration=i,a.startTime=new Date,a.layoutId=t?t.layoutId:null,a.daypart=DMBCore.Params.getSync("daypart"),a.screenId=DMBCore.Params.getSync("screenId"),a.screenOrientation=DMBCore.Params.getSync("orientation"),a.layoutMeta=t?o.Layout.shrinkMeta(t,this.getSTPMeta("layouts")):null,a.region=e?o.Region.smallRegion(e,this.getSTPMeta("regions")):null,a.assets=n?o.Asset.smallAsset(n,this.getSTPMeta("assets")):null,a},t.prototype.cleanUpAssets=function(t){var e=this,n=_.get(t.region,["meta","assetIDList"],"").split(","),r=[];n.forEach(function(n){var o=n.replace("{","").replace("}",""),i=e.findAsset(t,o);i?r.push(i):console.error("Could not find asset with id: ",o)}),t.assets=r},t.prototype.findAsset=function(t,e){return _.find(t.assets,function(t){return e===String(t.meta.assetId)})},t.prototype.cleanUpLogs=function(t){var e=this;return t.reduce(function(t,n){return t.concat(e.swapGUIDs(n,e.MetaFetcher.mapOfGuids))},[])},t.prototype.swapGUIDs=function(t,e){var n=this,r=t.assets.reduce(function(t,r){var i=o.STPManger.mergeSTP(r.meta,e[n.getGuid(r)]);return t.concat(i)},[]);return t.layoutMeta=o.STPManger.mergeSTP(t.layoutMeta,e[t.layoutMeta.guid]),t.region=this.createRegion(t.region.meta,e),t.assets=this.createAssets(t,r),console.log("Full Log --",t),t},t.prototype.getGuid=function(t){return _.get(t,["meta","guid"],_.get(t,"guid",""))},t.prototype.getSTPMeta=function(t){return _.get(this.config,["loggingMeta","stp_meta",t],[])},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(){}}();e.Log=r;var o=function(){function t(){}return t.prototype.isEqual=function(t){return JSON.stringify(this.meta.guid)===JSON.stringify(t.meta.guid)},t.smallAsset=function(e,n){return e.map(function(e){var r=Array.isArray(e)?e[0].guid:e.guid,o=Array.isArray(e)?e[0]:e,i=new t;return i.meta={guid:String(r)},i.meta=s.handleSTP(i.meta,o,n),i})},t}();e.Asset=o;var i=function(){function t(){}return t.smallRegion=function(e,n){var r=new t;return r.regionId=e.regionID,r.meta={guid:e.guid},r.meta=s.handleSTP(r.meta,e,n),r},t}();e.Region=i;var a=function(){function t(){}return t.shrinkMeta=function(t,e){var n=Array.isArray(t)?t[0].guid:t.guid,r={};return r={guid:String(n)},r=s.handleSTP(r,t,e)},t}();e.Layout=a;var s=function(){function t(){}return t.handleSTP=function(t,e,n){var r=Object.prototype.hasOwnProperty;return n.forEach(function(n){r.call(e,n)&&(t[n]=e[n])}),t},t.mergeSTP=function(t,e){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},t}();e.STPManger=s},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(){function t(t){this.config=t}return t.prototype.assemble=function(){var t=this,e=DMBCore.Tags.get(["failover"]).then(function(e){var n=e.failover;if("false"===n||_.isEmpty(n))return t.fetch([DMBCore.Params.getSync(["screenId"])]);var r=_.words(n,/[^_ ]+/g);return t.fetch(r)});return new Promise(function(n,r){e.then(function(e){t.setState(e),n()}).catch(function(e){$_.catch(e),r($_.rejection("DMBCore.Logger.MetaFetcher(): Failed to execute the pipeline.","error",[{config:t.config}]))})})},t.prototype.findRealLayout=function(t,e){var n=_.get(DMBCore.Profile.getSync(["categories.journeyright"]),["categories","journeyright"],!1);return _.get(t,["profile_values",n,e],e)},t.prototype.setState=function(t){if(console.log("Logging Meta",t),this.config.redux){var e=DMBCore.State.Actions.setNewLoggingMeta(t);DMBCore.State.Store.dispatch(e)}else this.log_meta=t},t.prototype.fetch=function(t){var e=this;return new Promise(function(n,r){e.fetchConfig().then(function(n){return e.configSelector(n,t)}).then(function(r){n(e.pluck(r,t))})})},t.prototype.fetchConfig=function(){return DMBCore.Fetcher.start("loggingMeta.path","data/logging-meta.json")},t.prototype.pluck=function(t,e){var n=this;return e.reduce(function(e,o,i){var a,s=n.findRealLayout(n.config.loggingMeta.screen_arrangement,o);return r({},e,((a={})[s]=t[i],a))},{})},t.prototype.configSelector=function(t,e){var n=this;return new Promise(function(r,i){var a=n.findGuids(t),s=e.map(function(e){return new o.default(n.config,"loggingMeta",e).assemble(n.config.loggingMeta.selector_path,t)});Promise.all(s).then(function(t){n.handleConfigsGuids(a,t),r(t)})})},t.prototype.findGuids=function(t){return t.hasOwnProperty("guids")?(this.mapOfGuids=_.cloneDeep(t.guids),t.guids):{}},t.prototype.handleConfigsGuids=function(t,e){var n=this;console.log("Configs",e),e.map(function(e){n.mapGuids(t,e)})},t.prototype.mapGuids=function(t,e){var n=this;Object.keys(e).map(function(r){n.swapGuidForMeta(e,r,t)})},t.prototype.swapGuidForMeta=function(t,e,n){if(Array.isArray(t[e]))for(var r=0;r<t[e].length;r++)this.swapGuidForMeta(t[e],r,n);if({}.hasOwnProperty.call(t[e],"guid")){var o=n[t[e].guid];t[e]=o}},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.toString=function(){return JSON.stringify(this)},t}();e.AuthRequest=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.logs=new Array,this.addLogs(t)}return t.prototype.addLogs=function(t){var e=this;t.map(function(t){e.logs.push(new o(t))})},t.prototype.toString=function(){return JSON.stringify(this)},t}();e.ChopRequest=r;var o=function(){return function(t){this.id=t.id,this.storeNumber=t.storeNumber,this.startTime=t.startTime,this.endTime=t.endTime,this.serverReceivedDate=t.serverReceivedDate,this.daypart=t.daypart,this.isStatic=t.isStatic,this.screenId=t.screenId,this.customerJourney=t.customerJourney,this.screenOrientation=t.screenOrientation,this.failoverScreenId=t.failoverScreenId,this.layoutId=t.layoutId,this.duration=t.duration,this.delayed=t.delayed,this.assets=JSON.stringify(t.assets),this.region=JSON.stringify(t.region),this.layoutMeta=JSON.stringify(t.layoutMeta)}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.isEqual=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},t.prototype.toString=function(){return JSON.stringify(this)},t.Create=function(e,n,r){var o=new t;return o.daypart=e,o.daypartEnd=n,o.daypartStart=r,o.storeNumber=_.get(DMBCore.Profile.getSync(["location.storenumber"]),["location","storenumber"],"N/A"),o},t}();e.DaypartRequest=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.config=t}return t.prototype.start=function(t,e){var n=this;return new Promise(function(r,o){n.fetchConfig(t,e).then(function(t){r(t)}).catch(function(t){$_.catch(t),o($_.rejection("DMBCore.Fetcher.start(): An error occurred while fetching the configuration file.","error",[{Error:t},{config:n.config}]))})})},t.prototype.fetchConfig=function(t,e){var n=this;return new Promise(function(r,o){fetch(_.get(n.config,t,e)).then(function(t){r(t.json())}).catch(function(t){o($_.rejection("DMBCore.Fetcher.fetchConfig(): An error occurred.","error",[{Error:t},{config:n.config}]))})})},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.config=t,this.handler=this.defaultHandler,this.delay=9e5}return t.prototype.start=function(){var t=this;this.config.db_observer&&!DMBCore.Env.isPortal()?($_.success("Starting DB observer"),this.queryDB().then(function(e){t.lastResult=e}).then(function(){setTimeout(t.observeChanges.bind(t),t.delay)}).catch(function(t){$_.error(t)})):$_.log("Config told DBObserver not to start.")},t.prototype.observeChanges=function(){var t=this;$_.log("DBObserver is checking DB for changes..."),this.queryDB().then(function(e){var n=!_.isEqual(e,t.lastResult);$_.detail("result",e),$_.detail("lastResult",t.lastResult),n&&(t.handler(),t.lastResult=e),setTimeout(t.observeChanges.bind(t),t.delay)}).catch(function(t){$_.error(t)})},t.prototype.queryDB=function(){return new Promise(function(t,e){DMBCore.Products.all().then(function(n){$_.detail("DBObserver queried the DB for products =>",n),DMBCore.table("products").rowsFormatted(n).then(function(n){$_.detail("DBObserver queried the DB for information relating to the products =>.",n),void 0!==n?t(n):e(n)})}).catch(function(t){$_.error(t)})})},t.prototype.defaultHandler=function(){$_.log("Something changed in the DB")},t.prototype.setHandler=function(t){this.handler=t.bind(this)},t.prototype.setDelay=function(t){this.delay=t},t}();e.default=r}]);!function(t,e){"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(exports=module.exports=e(t,exports)):"function"==typeof define&&define.amd?define(["exports"],function(n){t.Lockr=e(t,n)}):t.Lockr=e(t,{})}(this,function(t,e){"use strict";return Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=e);n<e;n++)if(n in this&&this[n]===t)return n;return-1}),e.prefix="",e._getPrefixedKey=function(t,e){return(e=e||{}).noPrefix?t:this.prefix+t},e.set=function(t,e,n){var r=this._getPrefixedKey(t,n);try{localStorage.setItem(r,JSON.stringify({data:e}))}catch(n){console&&console.warn("Lockr didn't successfully save the '{"+t+": "+e+"}' pair, because the localStorage is full.")}},e.get=function(t,e,n){var r,o=this._getPrefixedKey(t,n);try{r=JSON.parse(localStorage.getItem(o))}catch(e){try{r=localStorage[o]?JSON.parse('{"data":"'+localStorage.getItem(o)+'"}'):null}catch(e){console&&console.warn("Lockr could not load the item with key "+t)}}return null===r?e:void 0!==r.data?r.data:e},e.sadd=function(t,n,r){var o,i=this._getPrefixedKey(t,r),a=e.smembers(t);if(a.indexOf(n)>-1)return null;try{a.push(n),o=JSON.stringify({data:a}),localStorage.setItem(i,o)}catch(e){console.log(e),console&&console.warn("Lockr didn't successfully add the "+n+" to "+t+" set, because the localStorage is full.")}},e.smembers=function(t,e){var n,r=this._getPrefixedKey(t,e);try{n=JSON.parse(localStorage.getItem(r))}catch(t){n=null}return null===n?[]:n.data||[]},e.sismember=function(t,n,r){this._getPrefixedKey(t,r);return e.smembers(t).indexOf(n)>-1},e.getAll=function(){return Object.keys(localStorage).map(function(t){return e.get(t)})},e.srem=function(t,n,r){var o,i,a=this._getPrefixedKey(t,r),s=e.smembers(t,n);(i=s.indexOf(n))>-1&&s.splice(i,1),o=JSON.stringify({data:s});try{localStorage.setItem(a,o)}catch(e){console&&console.warn("Lockr couldn't remove the "+n+" from the set "+t)}},e.rm=function(t){localStorage.removeItem(t)},e.flush=function(){localStorage.clear()},e}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,e;function n(){return t.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,r){return Me(t,e,n,r,!0).utc()}function d(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function h(t){if(null==t._isValid){var n=d(t),r=e.call(n.parsedDateParts,function(t){return null!=t}),o=!isNaN(t._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&r);if(t._strict&&(o=o&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function p(t){var e=f(NaN);return null!=t?l(d(e),t):d(e).userInvalidated=!0,e}e=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var v=n.momentProperties=[];function m(t,e){var n,r,o;if(i(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),i(e._i)||(t._i=e._i),i(e._f)||(t._f=e._f),i(e._l)||(t._l=e._l),i(e._strict)||(t._strict=e._strict),i(e._tzm)||(t._tzm=e._tzm),i(e._isUTC)||(t._isUTC=e._isUTC),i(e._offset)||(t._offset=e._offset),i(e._pf)||(t._pf=d(e)),i(e._locale)||(t._locale=e._locale),v.length>0)for(n=0;n<v.length;n++)i(o=e[r=v[n]])||(t[r]=o);return t}var g=!1;function y(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,n.updateOffset(this),g=!1)}function _(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function S(t,e,n){var r,o=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0;for(r=0;r<o;r++)(n&&t[r]!==e[r]||!n&&w(t[r])!==w(e[r]))&&a++;return a+i}function E(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function O(t,e){var r=!0;return l(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),r){for(var o,i=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){for(var s in o+="\n["+a+"] ",arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];i.push(o)}E(t+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),r=!1}return e.apply(this,arguments)},e)}var D,M={};function C(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),M[t]||(E(e),M[t]=!0)}function x(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t,e){var n,r=l({},t);for(n in e)c(e,n)&&(o(t[n])&&o(e[n])?(r[n]={},l(r[n],t[n]),l(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)c(t,n)&&!c(e,n)&&o(t[n])&&(r[n]=l({},r[n]));return r}function N(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,D=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var T={};function k(t,e){var n=t.toLowerCase();T[n]=T[n+"s"]=T[e]=t}function A(t){return"string"==typeof t?T[t]||T[t.toLowerCase()]:void 0}function j(t){var e,n,r={};for(n in t)c(t,n)&&(e=A(n))&&(r[e]=t[n]);return r}var L={};function R(t,e){L[t]=e}function I(t,e,n){var r=""+Math.abs(t),o=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$={},z={};function q(t,e,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),t&&(z[t]=o),e&&(z[e[0]]=function(){return I(o.apply(this,arguments),e[1],e[2])}),n&&(z[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function U(t,e){return t.isValid()?(e=H(e,t.localeData()),$[e]=$[e]||function(t){var e,n,r,o=t.match(F);for(e=0,n=o.length;e<n;e++)z[o[e]]?o[e]=z[o[e]]:o[e]=(r=o[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,i="";for(r=0;r<n;r++)i+=x(o[r])?o[r].call(e,t):o[r];return i}}(e),$[e](t)):t.localeData().invalidDate()}function H(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(B.lastIndex=0;n>=0&&B.test(t);)t=t.replace(B,r),B.lastIndex=0,n-=1;return t}var Y=/\d/,W=/\d\d/,G=/\d{3}/,V=/\d{4}/,J=/[+-]?\d{6}/,K=/\d\d?/,Z=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,X=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,ot=/Z|[+-]\d\d:?\d\d/gi,it=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,st={};function ut(t,e,n){st[t]=x(e)?e:function(t,r){return t&&n?n:e}}function ct(t,e){return c(st,t)?st[t](e._strict,e._locale):new RegExp(lt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,o){return e||n||r||o})))}function lt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={};function dt(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),a(e)&&(r=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)ft[t[n]]=r}function ht(t,e){dt(t,function(t,n,r,o){r._w=r._w||{},e(t,r._w,r,o)})}var pt=0,vt=1,mt=2,gt=3,yt=4,_t=5,bt=6,wt=7,St=8;function Et(t){return Ot(t)?366:365}function Ot(t){return t%4==0&&t%100!=0||t%400==0}q("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),k("year","y"),R("year",1),ut("Y",rt),ut("YY",K,W),ut("YYYY",tt,V),ut("YYYYY",et,J),ut("YYYYYY",et,J),dt(["YYYYY","YYYYYY"],pt),dt("YYYY",function(t,e){e[pt]=2===t.length?n.parseTwoDigitYear(t):w(t)}),dt("YY",function(t,e){e[pt]=n.parseTwoDigitYear(t)}),dt("Y",function(t,e){e[pt]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var Dt,Mt=Ct("FullYear",!0);function Ct(t,e){return function(r){return null!=r?(Pt(this,t,r),n.updateOffset(this,e),this):xt(this,t)}}function xt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Pt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Ot(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Nt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Nt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,r=(e%(n=12)+n)%n;return t+=(e-r)/12,1===r?Ot(t)?29:28:31-r%7%2}Dt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),q("MMMM",0,0,function(t){return this.localeData().months(this,t)}),k("month","M"),R("month",8),ut("M",K),ut("MM",K,W),ut("MMM",function(t,e){return e.monthsShortRegex(t)}),ut("MMMM",function(t,e){return e.monthsRegex(t)}),dt(["M","MM"],function(t,e){e[vt]=w(t)-1}),dt(["MMM","MMMM"],function(t,e,n,r){var o=n._locale.monthsParse(t,r,n._strict);null!=o?e[vt]=o:d(n).invalidMonth=t});var Tt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,kt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var At="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function jt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(!a(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Nt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Lt(t){return null!=t?(jt(this,t),n.updateOffset(this,!0),this):xt(this,"Month")}var Rt=at;var It=at;function Ft(){function t(t,e){return e.length-t.length}var e,n,r=[],o=[],i=[];for(e=0;e<12;e++)n=f([2e3,e]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(t),o.sort(t),i.sort(t),e=0;e<12;e++)r[e]=lt(r[e]),o[e]=lt(o[e]);for(e=0;e<24;e++)i[e]=lt(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Bt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function $t(t,e,n){var r=7+e-n;return-((7+Bt(t,0,r).getUTCDay()-e)%7)+r-1}function zt(t,e,n,r,o){var i,a,s=1+7*(e-1)+(7+n-r)%7+$t(t,r,o);return s<=0?a=Et(i=t-1)+s:s>Et(t)?(i=t+1,a=s-Et(t)):(i=t,a=s),{year:i,dayOfYear:a}}function qt(t,e,n){var r,o,i=$t(t.year(),e,n),a=Math.floor((t.dayOfYear()-i-1)/7)+1;return a<1?r=a+Ut(o=t.year()-1,e,n):a>Ut(t.year(),e,n)?(r=a-Ut(t.year(),e,n),o=t.year()+1):(o=t.year(),r=a),{week:r,year:o}}function Ut(t,e,n){var r=$t(t,e,n),o=$t(t+1,e,n);return(Et(t)-r+o)/7}q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),R("week",5),R("isoWeek",5),ut("w",K),ut("ww",K,W),ut("W",K),ut("WW",K,W),ht(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=w(t)});q("d",0,"do","day"),q("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),q("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),q("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),ut("d",K),ut("e",K),ut("E",K),ut("dd",function(t,e){return e.weekdaysMinRegex(t)}),ut("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ut("dddd",function(t,e){return e.weekdaysRegex(t)}),ht(["dd","ddd","dddd"],function(t,e,n,r){var o=n._locale.weekdaysParse(t,r,n._strict);null!=o?e.d=o:d(n).invalidWeekday=t}),ht(["d","e","E"],function(t,e,n,r){e[r]=w(t)});var Ht="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Yt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Wt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Gt=at;var Vt=at;var Jt=at;function Kt(){function t(t,e){return e.length-t.length}var e,n,r,o,i,a=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),r=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),i=this.weekdays(n,""),a.push(r),s.push(o),u.push(i),c.push(r),c.push(o),c.push(i);for(a.sort(t),s.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)s[e]=lt(s[e]),u[e]=lt(u[e]),c[e]=lt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Qt(t,e){q(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Xt(t,e){return e._meridiemParse}q("H",["HH",2],0,"hour"),q("h",["hh",2],0,Zt),q("k",["kk",2],0,function(){return this.hours()||24}),q("hmm",0,0,function(){return""+Zt.apply(this)+I(this.minutes(),2)}),q("hmmss",0,0,function(){return""+Zt.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),Qt("a",!0),Qt("A",!1),k("hour","h"),R("hour",13),ut("a",Xt),ut("A",Xt),ut("H",K),ut("h",K),ut("k",K),ut("HH",K,W),ut("hh",K,W),ut("kk",K,W),ut("hmm",Z),ut("hmmss",Q),ut("Hmm",Z),ut("Hmmss",Q),dt(["H","HH"],gt),dt(["k","kk"],function(t,e,n){var r=w(t);e[gt]=24===r?0:r}),dt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),dt(["h","hh"],function(t,e,n){e[gt]=w(t),d(n).bigHour=!0}),dt("hmm",function(t,e,n){var r=t.length-2;e[gt]=w(t.substr(0,r)),e[yt]=w(t.substr(r)),d(n).bigHour=!0}),dt("hmmss",function(t,e,n){var r=t.length-4,o=t.length-2;e[gt]=w(t.substr(0,r)),e[yt]=w(t.substr(r,2)),e[_t]=w(t.substr(o)),d(n).bigHour=!0}),dt("Hmm",function(t,e,n){var r=t.length-2;e[gt]=w(t.substr(0,r)),e[yt]=w(t.substr(r))}),dt("Hmmss",function(t,e,n){var r=t.length-4,o=t.length-2;e[gt]=w(t.substr(0,r)),e[yt]=w(t.substr(r,2)),e[_t]=w(t.substr(o))});var te,ee=Ct("Hours",!0),ne={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:kt,monthsShort:At,week:{dow:0,doy:6},weekdays:Ht,weekdaysMin:Wt,weekdaysShort:Yt,meridiemParse:/[ap]\.?m?\.?/i},re={},oe={};function ie(t){return t?t.toLowerCase().replace("_","-"):t}function ae(t){var e=null;if(!re[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=te._abbr,require("./locale/"+t),se(e)}catch(t){}return re[t]}function se(t,e){var n;return t&&((n=i(e)?ce(t):ue(t,e))?te=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),te._abbr}function ue(t,e){if(null!==e){var n,r=ne;if(e.abbr=t,null!=re[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=re[t]._config;else if(null!=e.parentLocale)if(null!=re[e.parentLocale])r=re[e.parentLocale]._config;else{if(null==(n=ae(e.parentLocale)))return oe[e.parentLocale]||(oe[e.parentLocale]=[]),oe[e.parentLocale].push({name:t,config:e}),null;r=n._config}return re[t]=new N(P(r,e)),oe[t]&&oe[t].forEach(function(t){ue(t.name,t.config)}),se(t),re[t]}return delete re[t],null}function ce(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return te;if(!r(t)){if(e=ae(t))return e;t=[t]}return function(t){for(var e,n,r,o,i=0;i<t.length;){for(e=(o=ie(t[i]).split("-")).length,n=(n=ie(t[i+1]))?n.split("-"):null;e>0;){if(r=ae(o.slice(0,e).join("-")))return r;if(n&&n.length>=e&&S(o,n,!0)>=e-1)break;e--}i++}return te}(t)}function le(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[vt]<0||n[vt]>11?vt:n[mt]<1||n[mt]>Nt(n[pt],n[vt])?mt:n[gt]<0||n[gt]>24||24===n[gt]&&(0!==n[yt]||0!==n[_t]||0!==n[bt])?gt:n[yt]<0||n[yt]>59?yt:n[_t]<0||n[_t]>59?_t:n[bt]<0||n[bt]>999?bt:-1,d(t)._overflowDayOfYear&&(e<pt||e>mt)&&(e=mt),d(t)._overflowWeeks&&-1===e&&(e=wt),d(t)._overflowWeekday&&-1===e&&(e=St),d(t).overflow=e),t}function fe(t,e,n){return null!=t?t:null!=e?e:n}function de(t){var e,r,o,i,a,s=[];if(!t._d){var u,c;for(u=t,c=new Date(n.now()),o=u._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],t._w&&null==t._a[mt]&&null==t._a[vt]&&function(t){var e,n,r,o,i,a,s,u;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)i=1,a=4,n=fe(e.GG,t._a[pt],qt(Ce(),1,4).year),r=fe(e.W,1),((o=fe(e.E,1))<1||o>7)&&(u=!0);else{i=t._locale._week.dow,a=t._locale._week.doy;var c=qt(Ce(),i,a);n=fe(e.gg,t._a[pt],c.year),r=fe(e.w,c.week),null!=e.d?((o=e.d)<0||o>6)&&(u=!0):null!=e.e?(o=e.e+i,(e.e<0||e.e>6)&&(u=!0)):o=i}r<1||r>Ut(n,i,a)?d(t)._overflowWeeks=!0:null!=u?d(t)._overflowWeekday=!0:(s=zt(n,r,o,i,a),t._a[pt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=fe(t._a[pt],o[pt]),(t._dayOfYear>Et(a)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),r=Bt(a,0,t._dayOfYear),t._a[vt]=r.getUTCMonth(),t._a[mt]=r.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[gt]&&0===t._a[yt]&&0===t._a[_t]&&0===t._a[bt]&&(t._nextDay=!0,t._a[gt]=0),t._d=(t._useUTC?Bt:function(t,e,n,r,o,i,a){var s=new Date(t,e,n,r,o,i,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,s),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[gt]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(d(t).weekdayMismatch=!0)}}var he=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=/Z|[+-]\d\d(?::?\d\d)?/,me=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ge=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ye=/^\/?Date\((\-?\d+)/i;function _e(t){var e,n,r,o,i,a,s=t._i,u=he.exec(s)||pe.exec(s);if(u){for(d(t).iso=!0,e=0,n=me.length;e<n;e++)if(me[e][1].exec(u[1])){o=me[e][0],r=!1!==me[e][2];break}if(null==o)return void(t._isValid=!1);if(u[3]){for(e=0,n=ge.length;e<n;e++)if(ge[e][1].exec(u[3])){i=(u[2]||" ")+ge[e][0];break}if(null==i)return void(t._isValid=!1)}if(!r&&null!=i)return void(t._isValid=!1);if(u[4]){if(!ve.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=o+(i||"")+(a||""),Oe(t)}else t._isValid=!1}var be=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function we(t,e,n,r,o,i){var a=[function(t){var e=parseInt(t,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(t),At.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&a.push(parseInt(i,10)),a}var Se={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ee(t){var e,n,r,o=be.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(o){var i=we(o[4],o[3],o[2],o[5],o[6],o[7]);if(e=o[1],n=i,r=t,e&&Yt.indexOf(e)!==new Date(n[0],n[1],n[2]).getDay()&&(d(r).weekdayMismatch=!0,r._isValid=!1,1))return;t._a=i,t._tzm=function(t,e,n){if(t)return Se[t];if(e)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}(o[8],o[9],o[10]),t._d=Bt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function Oe(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],d(t).empty=!0;var e,r,o,i,a,s,u,l,f=""+t._i,h=f.length,p=0;for(o=H(t._f,t._locale).match(F)||[],e=0;e<o.length;e++)i=o[e],(r=(f.match(ct(i,t))||[])[0])&&((a=f.substr(0,f.indexOf(r))).length>0&&d(t).unusedInput.push(a),f=f.slice(f.indexOf(r)+r.length),p+=r.length),z[i]?(r?d(t).empty=!1:d(t).unusedTokens.push(i),s=i,l=t,null!=(u=r)&&c(ft,s)&&ft[s](u,l._a,l,s)):t._strict&&!r&&d(t).unusedTokens.push(i);d(t).charsLeftOver=h-p,f.length>0&&d(t).unusedInput.push(f),t._a[gt]<=12&&!0===d(t).bigHour&&t._a[gt]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[gt]=function(t,e,n){var r;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}(t._locale,t._a[gt],t._meridiem),de(t),le(t)}else Ee(t);else _e(t)}function De(t){var e,c,f,v,g=t._i,b=t._f;return t._locale=t._locale||ce(t._l),null===g||void 0===b&&""===g?p({nullInput:!0}):("string"==typeof g&&(t._i=g=t._locale.preparse(g)),_(g)?new y(le(g)):(s(g)?t._d=g:r(b)?function(t){var e,n,r,o,i;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)i=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Oe(e),h(e)&&(i+=d(e).charsLeftOver,i+=10*d(e).unusedTokens.length,d(e).score=i,(null==r||i<r)&&(r=i,n=e));l(t,n||e)}(t):b?Oe(t):i(c=(e=t)._i)?e._d=new Date(n.now()):s(c)?e._d=new Date(c.valueOf()):"string"==typeof c?(f=e,null===(v=ye.exec(f._i))?(_e(f),!1===f._isValid&&(delete f._isValid,Ee(f),!1===f._isValid&&(delete f._isValid,n.createFromInputFallback(f)))):f._d=new Date(+v[1])):r(c)?(e._a=u(c.slice(0),function(t){return parseInt(t,10)}),de(e)):o(c)?function(t){if(!t._d){var e=j(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),de(t)}}(e):a(c)?e._d=new Date(c):n.createFromInputFallback(e),h(t)||(t._d=null),t))}function Me(t,e,n,i,a){var s,u={};return!0!==n&&!1!==n||(i=n,n=void 0),(o(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||r(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=n,u._i=t,u._f=e,u._strict=i,(s=new y(le(De(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Ce(t,e,n,r){return Me(t,e,n,r,!1)}n.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var xe=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ce.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),Pe=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ce.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()});function Ne(t,e){var n,o;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return Ce();for(n=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](n)||(n=e[o]);return n}var Te=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ke(t){var e=j(t),n=e.year||0,r=e.quarter||0,o=e.month||0,i=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Dt.call(Te,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Te.length;++r)if(t[Te[r]]){if(n)return!1;parseFloat(t[Te[r]])!==w(t[Te[r]])&&(n=!0)}return!0}(e),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=ce(),this._bubble()}function Ae(t){return t instanceof ke}function je(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Le(t,e){q(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+I(~~(t/60),2)+e+I(~~t%60,2)})}Le("Z",":"),Le("ZZ",""),ut("Z",it),ut("ZZ",it),dt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ie(it,t)});var Re=/([\+\-]|\d\d)/gi;function Ie(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Re)||["-",0,0],o=60*r[1]+w(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Fe(t,e){var r,o;return e._isUTC?(r=e.clone(),o=(_(t)||s(t)?t.valueOf():Ce(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),n.updateOffset(r,!1),r):Ce(t).local()}function Be(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function $e(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}n.updateOffset=function(){};var ze=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,qe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ue(t,e){var n,r,o,i=t,s=null;return Ae(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(i={},e?i[e]=t:i.milliseconds=t):(s=ze.exec(t))?(n="-"===s[1]?-1:1,i={y:0,d:w(s[mt])*n,h:w(s[gt])*n,m:w(s[yt])*n,s:w(s[_t])*n,ms:w(je(1e3*s[bt]))*n}):(s=qe.exec(t))?(n="-"===s[1]?-1:(s[1],1),i={y:He(s[2],n),M:He(s[3],n),w:He(s[4],n),d:He(s[5],n),h:He(s[6],n),m:He(s[7],n),s:He(s[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=Fe(e,t),t.isBefore(e)?n=Ye(t,e):((n=Ye(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Ce(i.from),Ce(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new ke(i),Ae(t)&&c(t,"_locale")&&(r._locale=t._locale),r}function He(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ye(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function We(t,e){return function(n,r){var o;return null===r||isNaN(+r)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Ge(this,Ue(n="string"==typeof n?+n:n,r),t),this}}function Ge(t,e,r,o){var i=e._milliseconds,a=je(e._days),s=je(e._months);t.isValid()&&(o=null==o||o,s&&jt(t,xt(t,"Month")+s*r),a&&Pt(t,"Date",xt(t,"Date")+a*r),i&&t._d.setTime(t._d.valueOf()+i*r),o&&n.updateOffset(t,a||s))}Ue.fn=ke.prototype,Ue.invalid=function(){return Ue(NaN)};var Ve=We(1,"add"),Je=We(-1,"subtract");function Ke(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Ze(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ce(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qe=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Xe(){return this._locale}function tn(t,e){q(0,[t,t.length],0,e)}function en(t,e,n,r,o){var i;return null==t?qt(this,r,o).year:(e>(i=Ut(t,r,o))&&(e=i),function(t,e,n,r,o){var i=zt(t,e,n,r,o),a=Bt(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,r,o))}q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),ut("G",rt),ut("g",rt),ut("GG",K,W),ut("gg",K,W),ut("GGGG",tt,V),ut("gggg",tt,V),ut("GGGGG",et,J),ut("ggggg",et,J),ht(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=w(t)}),ht(["gg","GG"],function(t,e,r,o){e[o]=n.parseTwoDigitYear(t)}),q("Q",0,"Qo","quarter"),k("quarter","Q"),R("quarter",7),ut("Q",Y),dt("Q",function(t,e){e[vt]=3*(w(t)-1)}),q("D",["DD",2],"Do","date"),k("date","D"),R("date",9),ut("D",K),ut("DD",K,W),ut("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),dt(["D","DD"],mt),dt("Do",function(t,e){e[mt]=w(t.match(K)[0])});var nn=Ct("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),R("dayOfYear",4),ut("DDD",X),ut("DDDD",G),dt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),q("m",["mm",2],0,"minute"),k("minute","m"),R("minute",14),ut("m",K),ut("mm",K,W),dt(["m","mm"],yt);var rn=Ct("Minutes",!1);q("s",["ss",2],0,"second"),k("second","s"),R("second",15),ut("s",K),ut("ss",K,W),dt(["s","ss"],_t);var on,an=Ct("Seconds",!1);for(q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),R("millisecond",16),ut("S",X,Y),ut("SS",X,W),ut("SSS",X,G),on="SSSS";on.length<=9;on+="S")ut(on,nt);function sn(t,e){e[bt]=w(1e3*("0."+t))}for(on="S";on.length<=9;on+="S")dt(on,sn);var un=Ct("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var cn=y.prototype;function ln(t){return t}cn.add=Ve,cn.calendar=function(t,e){var r=t||Ce(),o=Fe(r,this).startOf("day"),i=n.calendarFormat(this,o)||"sameElse",a=e&&(x(e[i])?e[i].call(this,r):e[i]);return this.format(a||this.localeData().calendar(i,this,Ce(r)))},cn.clone=function(){return new y(this)},cn.diff=function(t,e,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=Fe(t,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),e=A(e)){case"year":i=Ke(this,r)/12;break;case"month":i=Ke(this,r);break;case"quarter":i=Ke(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:b(i)},cn.endOf=function(t){return void 0===(t=A(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},cn.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=U(this,t);return this.localeData().postformat(e)},cn.from=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||Ce(t).isValid())?Ue({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.fromNow=function(t){return this.from(Ce(),t)},cn.to=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||Ce(t).isValid())?Ue({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.toNow=function(t){return this.to(Ce(),t)},cn.get=function(t){return x(this[t=A(t)])?this[t]():this},cn.invalidAt=function(){return d(this).overflow},cn.isAfter=function(t,e){var n=_(t)?t:Ce(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=A(i(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},cn.isBefore=function(t,e){var n=_(t)?t:Ce(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=A(i(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},cn.isBetween=function(t,e,n,r){return("("===(r=r||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))},cn.isSame=function(t,e){var n,r=_(t)?t:Ce(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=A(e||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},cn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},cn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},cn.isValid=function(){return h(this)},cn.lang=Qe,cn.locale=Ze,cn.localeData=Xe,cn.max=Pe,cn.min=xe,cn.parsingFlags=function(){return l({},d(this))},cn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:L[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=j(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(x(this[t=A(t)]))return this[t](e);return this},cn.startOf=function(t){switch(t=A(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},cn.subtract=Je,cn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},cn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},cn.toDate=function(){return new Date(this.valueOf())},cn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?U(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(n,"Z")):U(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},cn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+o)},cn.toJSON=function(){return this.isValid()?this.toISOString():null},cn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},cn.unix=function(){return Math.floor(this.valueOf()/1e3)},cn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},cn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},cn.year=Mt,cn.isLeapYear=function(){return Ot(this.year())},cn.weekYear=function(t){return en.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},cn.isoWeekYear=function(t){return en.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},cn.quarter=cn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},cn.month=Lt,cn.daysInMonth=function(){return Nt(this.year(),this.month())},cn.week=cn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},cn.isoWeek=cn.isoWeeks=function(t){var e=qt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},cn.weeksInYear=function(){var t=this.localeData()._week;return Ut(this.year(),t.dow,t.doy)},cn.isoWeeksInYear=function(){return Ut(this.year(),1,4)},cn.date=nn,cn.day=cn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-r,"d")):r},cn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},cn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(n=t,r=this.localeData(),"string"==typeof n?r.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?e:e-7)}return this.day()||7;var n,r},cn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},cn.hour=cn.hours=ee,cn.minute=cn.minutes=rn,cn.second=cn.seconds=an,cn.millisecond=cn.milliseconds=un,cn.utcOffset=function(t,e,r){var o,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ie(it,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&e&&(o=Be(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?Ge(this,Ue(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Be(this)},cn.utc=function(t){return this.utcOffset(0,t)},cn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Be(this),"m")),this},cn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ie(ot,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},cn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ce(t).utcOffset():0,(this.utcOffset()-t)%60==0)},cn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},cn.isLocal=function(){return!!this.isValid()&&!this._isUTC},cn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},cn.isUtc=$e,cn.isUTC=$e,cn.zoneAbbr=function(){return this._isUTC?"UTC":""},cn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},cn.dates=O("dates accessor is deprecated. Use date instead.",nn),cn.months=O("months accessor is deprecated. Use month instead",Lt),cn.years=O("years accessor is deprecated. Use year instead",Mt),cn.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),cn.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),(t=De(t))._a){var e=t._isUTC?f(t._a):Ce(t._a);this._isDSTShifted=this.isValid()&&S(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var fn=N.prototype;function dn(t,e,n,r){var o=ce(),i=f().set(r,e);return o[n](i,t)}function hn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return dn(t,e,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=dn(t,r,n,"month");return o}function pn(t,e,n,r){"boolean"==typeof t?(a(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,a(e)&&(n=e,e=void 0),e=e||"");var o,i=ce(),s=t?i._week.dow:0;if(null!=n)return dn(e,(n+s)%7,r,"day");var u=[];for(o=0;o<7;o++)u[o]=dn(e,(o+s)%7,r,"day");return u}fn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return x(r)?r.call(e,n):r},fn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},fn.invalidDate=function(){return this._invalidDate},fn.ordinal=function(t){return this._ordinal.replace("%d",t)},fn.preparse=ln,fn.postformat=ln,fn.relativeTime=function(t,e,n,r){var o=this._relativeTime[n];return x(o)?o(t,e,n,r):o.replace(/%d/i,t)},fn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return x(n)?n(e):n.replace(/%s/i,e)},fn.set=function(t){var e,n;for(n in t)x(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},fn.months=function(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Tt).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone},fn.monthsShort=function(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Tt.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},fn.monthsParse=function(t,e,n){var r,o,i;if(this._monthsParseExact)return function(t,e,n){var r,o,i,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=Dt.call(this._shortMonthsParse,a))?o:null:-1!==(o=Dt.call(this._longMonthsParse,a))?o:null:"MMM"===e?-1!==(o=Dt.call(this._shortMonthsParse,a))?o:-1!==(o=Dt.call(this._longMonthsParse,a))?o:null:-1!==(o=Dt.call(this._longMonthsParse,a))?o:-1!==(o=Dt.call(this._shortMonthsParse,a))?o:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},fn.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Ft.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=It),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},fn.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Ft.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Rt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},fn.week=function(t){return qt(t,this._week.dow,this._week.doy).week},fn.firstDayOfYear=function(){return this._week.doy},fn.firstDayOfWeek=function(){return this._week.dow},fn.weekdays=function(t,e){return t?r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone},fn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},fn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},fn.weekdaysParse=function(t,e,n){var r,o,i;if(this._weekdaysParseExact)return function(t,e,n){var r,o,i,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=Dt.call(this._weekdaysParse,a))?o:null:"ddd"===e?-1!==(o=Dt.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=Dt.call(this._minWeekdaysParse,a))?o:null:"dddd"===e?-1!==(o=Dt.call(this._weekdaysParse,a))?o:-1!==(o=Dt.call(this._shortWeekdaysParse,a))?o:-1!==(o=Dt.call(this._minWeekdaysParse,a))?o:null:"ddd"===e?-1!==(o=Dt.call(this._shortWeekdaysParse,a))?o:-1!==(o=Dt.call(this._weekdaysParse,a))?o:-1!==(o=Dt.call(this._minWeekdaysParse,a))?o:null:-1!==(o=Dt.call(this._minWeekdaysParse,a))?o:-1!==(o=Dt.call(this._weekdaysParse,a))?o:-1!==(o=Dt.call(this._shortWeekdaysParse,a))?o:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},fn.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Gt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},fn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Vt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},fn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},fn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},fn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},se("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=O("moment.lang is deprecated. Use moment.locale instead.",se),n.langData=O("moment.langData is deprecated. Use moment.localeData instead.",ce);var vn=Math.abs;function mn(t,e,n,r){var o=Ue(e,n);return t._milliseconds+=r*o._milliseconds,t._days+=r*o._days,t._months+=r*o._months,t._bubble()}function gn(t){return t<0?Math.floor(t):Math.ceil(t)}function yn(t){return 4800*t/146097}function _n(t){return 146097*t/4800}function bn(t){return function(){return this.as(t)}}var wn=bn("ms"),Sn=bn("s"),En=bn("m"),On=bn("h"),Dn=bn("d"),Mn=bn("w"),Cn=bn("M"),xn=bn("y");function Pn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Nn=Pn("milliseconds"),Tn=Pn("seconds"),kn=Pn("minutes"),An=Pn("hours"),jn=Pn("days"),Ln=Pn("months"),Rn=Pn("years");var In=Math.round,Fn={ss:44,s:45,m:45,h:22,d:26,M:11};var Bn=Math.abs;function $n(t){return(t>0)-(t<0)||+t}function zn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Bn(this._milliseconds)/1e3,r=Bn(this._days),o=Bn(this._months);e=b((t=b(n/60))/60),n%=60,t%=60;var i=b(o/12),a=o%=12,s=r,u=e,c=t,l=n?n.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=f<0?"-":"",h=$n(this._months)!==$n(f)?"-":"",p=$n(this._days)!==$n(f)?"-":"",v=$n(this._milliseconds)!==$n(f)?"-":"";return d+"P"+(i?h+i+"Y":"")+(a?h+a+"M":"")+(s?p+s+"D":"")+(u||c||l?"T":"")+(u?v+u+"H":"")+(c?v+c+"M":"")+(l?v+l+"S":"")}var qn=ke.prototype;return qn.isValid=function(){return this._isValid},qn.abs=function(){var t=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),t.milliseconds=vn(t.milliseconds),t.seconds=vn(t.seconds),t.minutes=vn(t.minutes),t.hours=vn(t.hours),t.months=vn(t.months),t.years=vn(t.years),this},qn.add=function(t,e){return mn(this,t,e,1)},qn.subtract=function(t,e){return mn(this,t,e,-1)},qn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=A(t))||"year"===t)return e=this._days+r/864e5,n=this._months+yn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(_n(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},qn.asMilliseconds=wn,qn.asSeconds=Sn,qn.asMinutes=En,qn.asHours=On,qn.asDays=Dn,qn.asWeeks=Mn,qn.asMonths=Cn,qn.asYears=xn,qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},qn._bubble=function(){var t,e,n,r,o,i=this._milliseconds,a=this._days,s=this._months,u=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*gn(_n(s)+a),a=0,s=0),u.milliseconds=i%1e3,t=b(i/1e3),u.seconds=t%60,e=b(t/60),u.minutes=e%60,n=b(e/60),u.hours=n%24,s+=o=b(yn(a+=b(n/24))),a-=gn(_n(o)),r=b(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},qn.clone=function(){return Ue(this)},qn.get=function(t){return t=A(t),this.isValid()?this[t+"s"]():NaN},qn.milliseconds=Nn,qn.seconds=Tn,qn.minutes=kn,qn.hours=An,qn.days=jn,qn.weeks=function(){return b(this.days()/7)},qn.months=Ln,qn.years=Rn,qn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,r,o,i,a,s,u,c,l,f,d=this.localeData(),h=(n=!t,r=d,o=Ue(e=this).abs(),i=In(o.as("s")),a=In(o.as("m")),s=In(o.as("h")),u=In(o.as("d")),c=In(o.as("M")),l=In(o.as("y")),(f=i<=Fn.ss&&["s",i]||i<Fn.s&&["ss",i]||a<=1&&["m"]||a<Fn.m&&["mm",a]||s<=1&&["h"]||s<Fn.h&&["hh",s]||u<=1&&["d"]||u<Fn.d&&["dd",u]||c<=1&&["M"]||c<Fn.M&&["MM",c]||l<=1&&["y"]||["yy",l])[2]=n,f[3]=+e>0,f[4]=r,function(t,e,n,r,o){return o.relativeTime(e||1,!!n,t,r)}.apply(null,f));return t&&(h=d.pastFuture(+this,h)),d.postformat(h)},qn.toISOString=zn,qn.toString=zn,qn.toJSON=zn,qn.locale=Ze,qn.localeData=Xe,qn.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zn),qn.lang=Qe,q("X",0,0,"unix"),q("x",0,0,"valueOf"),ut("x",rt),ut("X",/[+-]?\d+(\.\d{1,3})?/),dt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),dt("x",function(t,e,n){n._d=new Date(w(t))}),n.version="2.22.0",t=Ce,n.fn=cn,n.min=function(){return Ne("isBefore",[].slice.call(arguments,0))},n.max=function(){return Ne("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=f,n.unix=function(t){return Ce(1e3*t)},n.months=function(t,e){return hn(t,e,"months")},n.isDate=s,n.locale=se,n.invalid=p,n.duration=Ue,n.isMoment=_,n.weekdays=function(t,e,n){return pn(t,e,n,"weekdays")},n.parseZone=function(){return Ce.apply(null,arguments).parseZone()},n.localeData=ce,n.isDuration=Ae,n.monthsShort=function(t,e){return hn(t,e,"monthsShort")},n.weekdaysMin=function(t,e,n){return pn(t,e,n,"weekdaysMin")},n.defineLocale=ue,n.updateLocale=function(t,e){if(null!=e){var n,r,o=ne;null!=(r=ae(t))&&(o=r._config),(n=new N(e=P(o,e))).parentLocale=re[t],re[t]=n,se(t)}else null!=re[t]&&(null!=re[t].parentLocale?re[t]=re[t].parentLocale:null!=re[t]&&delete re[t]);return re[t]},n.locales=function(){return D(re)},n.weekdaysShort=function(t,e,n){return pn(t,e,n,"weekdaysShort")},n.normalizeUnits=A,n.relativeTimeRounding=function(t){return void 0===t?In:"function"==typeof t&&(In=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==Fn[t]&&(void 0===e?Fn[t]:(Fn[t]=e,"s"===t&&(Fn.ss=e-1),!0))},n.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=cn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},n});